function em_load_jquery_css(e=!1){if(EM.ui_css&&0==jQuery("link#jquery-ui-em-css").length){var t=document.createElement("link");t.id="jquery-ui-em-css",t.rel="stylesheet",t.href=EM.ui_css,document.body.appendChild(t),e&&em_setup_jquery_ui_wrapper()}}function em_setup_jquery_ui_wrapper(){0===jQuery("#em-jquery-ui").length&&jQuery("body").append('<div id="em-jquery-ui" class="em">')}jQuery(document).ready((function(e){e("#recurrence-frequency").length>0&&(e("#recurrence-frequency").addClass("em-recurrence-frequency"),e(".event-form-when .interval-desc").each((function(){this.classList.add(this.id)})),e(".event-form-when .alternate-selector").each((function(){this.classList.add("em-"+this.id)})),e("#recurrence-interval").addClass("em-recurrence-interval")),e("#em-wrapper").addClass("em");var t=!1;if(e("#start-time").each((function(t,n){e(n).addClass("em-time-input em-time-start").next("#end-time").addClass("em-time-input em-time-end").parent().addClass("em-time-range")})),e(".em-time-input").length>0&&em_setup_timepicker("body"),e(".events-table").on("click",".em-event-delete",(function(){if(!confirm("Are you sure you want to delete?"))return!1;window.location.href=this.href})),e("#event-form #event-image-delete, #location-form #location-image-delete").on("click",(function(){var t=e(this);t.is(":checked")?t.closest(".event-form-image, .location-form-image").find("#event-image-img, #location-image-img").hide():t.closest(".event-form-image, .location-form-image").find("#event-image-img, #location-image-img").show()})),e(".event-form-with-recurrence").each((function(){let t=e(this);t.on("change",".em-recurrence-checkbox",(function(){this.checked?(t.find(".em-recurring-text").each((function(){this.style.removeProperty("display")})),t.find(".em-event-text").each((function(){this.style.setProperty("display","none","important")}))):(t.find(".em-recurring-text").each((function(){this.style.setProperty("display","none","important")})),t.find(".em-event-text").each((function(){this.style.removeProperty("display")})))}))})),e(".event-form-with-recurrence .em-recurrence-checkbox").trigger("change"),e("#event-form.em-event-admin-recurring").on("submit",(function(t){var n=e(this);if(1==n.find('input[name="event_reschedule"]').first().val())var i=EM.event_reschedule_warning;else if(1==n.find('input[name="event_recreate_tickets"]').first().val())i=EM.event_recurrence_bookings;else i=EM.event_recurrence_overwrite;confirmation=confirm(i),0==confirmation&&t.preventDefault()})),e(".em-reschedule-trigger").on("click",(function(t){t.preventDefault();var n=e(this);n.closest(".em-recurrence-reschedule").find(n.data("target")).removeClass("reschedule-hidden"),n.siblings(".em-reschedule-value").val(1),n.addClass("reschedule-hidden").siblings("a").removeClass("reschedule-hidden")})),e(".em-reschedule-cancel").on("click",(function(t){t.preventDefault();var n=e(this);n.closest(".em-recurrence-reschedule").find(n.data("target")).addClass("reschedule-hidden"),n.siblings(".em-reschedule-value").val(0),n.addClass("reschedule-hidden").siblings("a").removeClass("reschedule-hidden")})),e("#em-tickets-form").length>0){e("#event-rsvp").on("click",(function(t){this.checked?e("#event-rsvp-options").fadeIn():(confirmation=confirm(EM.disable_bookings_warning),0==confirmation?t.preventDefault():e("#event-rsvp-options").hide())})),e("input#event-rsvp").is(":checked")?e("div#rsvp-data").fadeIn():e("div#rsvp-data").hide();var n=function(){e("#em-tickets-form table tbody tr.em-tickets-row").show(),e("#em-tickets-form table tbody tr.em-tickets-row-form").hide()};e("#em-recurrence-checkbox").length>0?e("#em-recurrence-checkbox").on("change",(function(){e("#em-recurrence-checkbox").is(":checked")?(e("#em-tickets-form .ticket-dates-from-recurring, #em-tickets-form .ticket-dates-to-recurring, #event-rsvp-options .em-booking-date-recurring").show(),e("#em-tickets-form .ticket-dates-from-normal, #em-tickets-form .ticket-dates-to-normal, #event-rsvp-options .em-booking-date-normal, #em-tickets-form .hidden").hide()):(e("#em-tickets-form .ticket-dates-from-normal, #em-tickets-form .ticket-dates-to-normal, #event-rsvp-options .em-booking-date-normal").show(),e("#em-tickets-form .ticket-dates-from-recurring, #em-tickets-form .ticket-dates-to-recurring, #event-rsvp-options .em-booking-date-recurring, #em-tickets-form .hidden").hide())})).trigger("change"):e("#em-form-recurrence").length>0?(e("#em-tickets-form .ticket-dates-from-recurring, #em-tickets-form .ticket-dates-to-recurring, #event-rsvp-options .em-booking-date-recurring").show(),e("#em-tickets-form .ticket-dates-from-normal, #em-tickets-form .ticket-dates-to-normal, #event-rsvp-options .em-booking-date-normal, #em-tickets-form .hidden").hide()):e("#em-tickets-form .ticket-dates-from-recurring, #em-tickets-form .ticket-dates-to-recurring, #event-rsvp-options .em-booking-date-recurring, #em-tickets-form .hidden").hide(),e("#em-tickets-add").on("click",(function(t){t.preventDefault(),n();var o=e("#em-tickets-form table tbody");o.first(".em-ticket-template").find("input.em-date-input.flatpickr-input").each((function(){"_flatpickr"in this&&this._flatpickr.destroy()}));var a=o.length+1,r=o.first(".em-ticket-template").clone(!0).attr("id","em-ticket-"+a).removeClass("em-ticket-template").addClass("em-ticket").appendTo(e("#em-tickets-form table"));r.find("*[name]").each((function(t,n){(n=e(n)).attr("name",n.attr("name").replace("em_tickets[0]","em_tickets["+a+"]"))}));let s=r.find(".ticket-dates-from-normal").first();if(s.attr("data-until-id")){let e=s.attr("data-until-id").replace("-0","-"+a);s.attr("data-until-id",e),r.find(".ticket-dates-to-normal").attr("id",s.attr("data-until-id"))}r.show().find(".ticket-actions-edit").trigger("click"),r.find(".em-time-input").off().each((function(e,t){"object"==typeof this.em_timepickerObj&&this.em_timepicker("remove")})),em_setup_datepicker(r),em_setup_timepicker(r),e("html, body").animate({scrollTop:r.offset().top-30}),i()})),e(document).on("click",".ticket-actions-edit",(function(t){t.preventDefault(),n();var i=e(this).closest("tbody");return i.find("tr.em-tickets-row").hide(),i.find("tr.em-tickets-row-form").fadeIn(),!1})),e(document).on("click",".ticket-actions-edited",(function(t){t.preventDefault();var n=e(this).closest("tbody"),i=n.attr("id").replace("em-ticket-","");return n.find(".em-tickets-row").fadeIn(),n.find(".em-tickets-row-form").hide(),n.find("*[name]").each((function(t,o){if("ticket_start_pub"==(o=e(o)).attr("name"))n.find("span.ticket_start").text(o.val());else if("ticket_end_pub"==o.attr("name"))n.find("span.ticket_end").text(o.val());else if(o.attr("name")=="em_tickets["+i+"][ticket_type]")"members"==o.find(":selected").val()&&n.find("span.ticket_name").prepend("* ");else if(o.attr("name")=="em_tickets["+i+"][ticket_start_recurring_days]"){var a="before"==n.find("select.ticket-dates-from-recurring-when").val()?"-"+o.val():o.val();""!=o.val()?(n.find("span.ticket_start_recurring_days").text(a),n.find("span.ticket_start_recurring_days_text, span.ticket_start_time").removeClass("hidden").show()):(n.find("span.ticket_start_recurring_days").text(" - "),n.find("span.ticket_start_recurring_days_text, span.ticket_start_time").removeClass("hidden").hide())}else if(o.attr("name")=="em_tickets["+i+"][ticket_end_recurring_days]"){a="before"==n.find("select.ticket-dates-to-recurring-when").val()?"-"+o.val():o.val();""!=o.val()?(n.find("span.ticket_end_recurring_days").text(a),n.find("span.ticket_end_recurring_days_text, span.ticket_end_time").removeClass("hidden").show()):(n.find("span.ticket_end_recurring_days").text(" - "),n.find("span.ticket_end_recurring_days_text, span.ticket_end_time").removeClass("hidden").hide())}else{var r=o.attr("name").replace("em_tickets["+i+"][","").replace("]","").replace("[]","");n.find(".em-tickets-row ."+r).text(o.val())}})),e(document).triggerHandler("em_maps_tickets_edit",[n,i,!0]),e("html, body").animate({scrollTop:n.parent().offset().top-30}),!1})),e(document).on("change",".em-ticket-form select.ticket_type",(function(t){var n=e(this);"members"==n.find("option:selected").val()?n.closest(".em-ticket-form").find(".ticket-roles").fadeIn():n.closest(".em-ticket-form").find(".ticket-roles").hide()})),e(document).on("click",".em-ticket-form .ticket-options-advanced",(function(t){t.preventDefault();var n=e(this);n.hasClass("show")?(n.closest(".em-ticket-form").find(".em-ticket-form-advanced").fadeIn(),n.find(".show,.show-advanced").hide(),n.find(".hide,.hide-advanced").show()):(n.closest(".em-ticket-form").find(".em-ticket-form-advanced").hide(),n.find(".show,.show-advanced").show(),n.find(".hide,.hide-advanced").hide()),n.toggleClass("show")})),e(".em-ticket-form").each((function(){var t=!1,n=e(this);n.find('.em-ticket-form-advanced input[type="text"]').each((function(){""!=this.value&&(t=!0)})),n.find('.em-ticket-form-advanced input[type="checkbox"]:checked').length>0&&(t=!0),n.find(".em-ticket-form-advanced option:selected").each((function(){""!=this.value&&(t=!0)})),t&&n.find(".ticket-options-advanced").trigger("click")})),e(document).on("click",".ticket-actions-delete",(function(t){t.preventDefault();var n=e(this),o=n.closest("tbody");return o.find("input.ticket_id").val()>0?(n.text("Deleting..."),e.getJSON(e(this).attr("href"),{em_ajax_action:"delete_ticket",id:o.find("input.ticket_id").val()},(function(e){e.result?o.remove():(n.text("Delete"),alert(e.error))}))):o.remove(),i(),!1})),e("#em-tickets-form.em-tickets-sortable table").sortable({items:"> tbody",placeholder:"em-ticket-sortable-placeholder",handle:".ticket-status",helper:function(t,n){var i=e(n).clone().addClass("em-ticket-sortable-helper"),o=i.find(".em-tickets-row td").length;return i.children().remove(),i.append('<tr class="em-tickets-row"><td colspan="'+o+'" style="text-align:left; padding-left:15px;"><span class="dashicons dashicons-tickets-alt"></span></td></tr>'),i}});var i=function(){var t=e("#em-tickets-form table tbody.em-ticket");1==t.length?(t.find(".ticket-status").addClass("single"),e("#em-tickets-form.em-tickets-sortable table").sortable("option","disabled",!0)):(t.find(".ticket-status").removeClass("single"),e("#em-tickets-form.em-tickets-sortable table").sortable("option","disabled",!1))};i()}let o=e(".em-bookings-table");if(o.length>0){t=!0,e(document).on("click",".em-bookings-table .tablenav-pages a",(function(){var t=e(this),n=t.closest(".em-bookings-table form.bookings-filter"),i=t.attr("href").match(/#[0-9]+/);if(null!=i&&i.length>0){var o=i[0].replace("#","");n.find("input[name=pno]").val(o)}else{let e=new URL(t.attr("href"));e.searchParams.has("paged")?(n.find("input[name=pno]").val(e.searchParams.get("paged")),n.find("input[name=paged]").val(e.searchParams.get("paged"))):(n.find("input[name=pno]").val(1),n.find("input[name=paged]").val(1))}return n.trigger("submit"),!1})),e(document).on("change",".em-bookings-table .tablenav-pages input[name=paged]",(function(t){var n=e(this).closest(".em-bookings-table form.bookings-filter"),i=n.find(".tablenav-pages a.last-page");if(i.length>0){let e=new URL(i.attr("href"));if(e.searchParams.has("paged")){let t=parseInt(e.searchParams.get("paged"));parseInt(this.value)>t&&(this.value=t)}}else{let e=n.find("input[name=pno]").val();if(e&&parseInt(this.value)>parseInt(e))return this.value=e,t.preventDefault(),!1}n.find("input[name=pno]").val(this.value),n.trigger("submit")})),e(document).on("click",".em-bookings-table-trigger",(function(t){t.preventDefault();let i=e(this.getAttribute("rel"));i.find("input[name=show_tickets]").each(n),openModal(i)})),e(document).on("submit",".em-bookings-table-settings form",(function(t){t.preventDefault();let n=e(this),i=n.closest(".em-modal"),o=e(n.attr("rel")),a=o.find("[name=cols]").val(""),r=n.find(".em-bookings-cols-selected .item");e.each(r,(function(e,t){t.classList.contains("hidden")||(""!==a.val()?a.val(a.val()+","+t.getAttribute("data-value")):a.val(t.getAttribute("data-value")))}));let s=n.find('select[name="limit"]').val();o.find('[name="limit"]').val(s),i.trigger("submitted"),o.trigger("submit"),closeModal(i)})),e(document).on("submit",".em-bookings-table-export form",(function(t){let n=e(this.getAttribute("rel"));var i=e(this).find(".em-bookings-table-filters").empty();n.find(".em-bookings-table-filter").clone().appendTo(i)}));let n=function(){let t=e(this),n=t.closest("form").find('[data-type="ticket"]');t.is(":checked")?n.show().find("input").val(1):n.hide().find("input").val(0)};e(document).on("click",".em-bookings-table-export input[name=show_tickets]",n),e(document).on("em_selectize_loaded",(function(t,n){n.find(".em-bookings-table-modal .em-bookings-table-cols").each((function(){let t=e(this),i=e(this).find(".em-bookings-cols-sortable");n.find(".em-selectize.always-open").each((function(){if("selectize"in this){let n=this.selectize;n.on("item_add",(function(t,o){let a=o.clone(),r=n.getOption(t).attr("data-type");a.appendTo(i),a.attr("data-type",r),e('<input type="hidden" name="cols['+t+']" value="1">').appendTo(a)})),n.on("item_remove",(function(e){t.find('.item[data-value="'+e+'"]').remove()})),t.on("click",".em-bookings-cols-selected .item .remove",(function(){let e=this.parentElement.getAttribute("data-value");n.removeItem(e,!0)}))}}))}))})),e(document).on("keypress",'.em-bookings-table .tablenav .actions input[type="text"]',(function(t){13===(t.keyCode?t.keyCode:t.which)&&e(this).closest("form").submit()})),e(document).on("click",".em-bookings-table button.em-bookings-table-bulk-action",(function(t){t.preventDefault();let n=e(this).closest("form"),i=n.find("select.bulk-action-selector").val();if(EM.bulk_action=!0,"delete"===i&&!confirm(EM.booking_delete))return!1;n.find("tbody .check-column input:checked").each((function(){e(this.parentElement).find("a.em-bookings-"+i).trigger("click")})),EM.bulk_action=!1})),e(document).on("click",'.em-bookings-table th[scope="col"].sortable a, .em-bookings-table th[scope="col"].sorted a',(function(t){t.preventDefault();let n=new URL(this.href).searchParams,i=e(this).closest("form");if(n.get("orderby")){i.find('input[name="orderby"]').val(n.get("orderby"));let e=n.get("order")?n.get("order"):"asc";i.find('input[name="order"]').val(e),i.submit()}}));let i=function(e){em_setup_tippy(e),em_setup_selectize(e)},a=function(e){e.find(".em-bookings-cols-sortable").sortable().disableSelection();EM_ResizeObserver({small:600,large:!1},e.toArray())};o.each((function(){a(e(this))})),e(document).on("submit",".em-bookings-table form.bookings-filter",(function(t){var n=e(this);let o=n.parents(".em-bookings-table").first();return o.find(".table-wrap").first().append('<div id="em-loading" />'),e.post(EM.ajaxurl,n.serializeArray(),(function(t){let r=e(t);o.find(".em-bookings-table-trigger").each((function(){e(this.getAttribute("rel")).remove()})),o.replaceWith(r),a(r),i(r),jQuery(document).triggerHandler("em_bookings_filtered",[r,o,n])})),!1})),e(document).on("click",".em-bookings-approve,.em-bookings-reject,.em-bookings-unapprove,.em-bookings-delete,.em-bookings-ajax-action",(function(){let t=e(this);if(t.hasClass("em-bookings-delete")&&(!("bulk_action"in EM)||!EM.bulk_action)&&!confirm(EM.booking_delete))return!1;let n=em_ajaxify(t.attr("href")),o=t.parents("td").first();if(o.length>0&&(o.hasClass("column-actions")||o.hasClass("em-bt-col-actions")))o.html(EM.txt_loading),o.load(n);else{let o=t.closest("[data-tippy-root], .em-tooltip-ddm-content");if(o.length>0){"_tippy"in o[0]&&o[0]._tippy.hide();let a=t.closest("tr");n.match(/^\//)&&(n=window.location.origin+n);let r=new URL(n).searchParams,s=new FormData(a.closest("form")[0]);s.set("action","em_bookings_table_row"),s.set("row_action",r.get("action")),s.set("booking_id",r.get("booking_id"));t.closest("form").find('[name="cols"]').val();a.addClass("loading"),e.ajax({url:EM.ajaxurl,data:s,processData:!1,contentType:!1,type:"POST",success:function(t){let n=e(t);n.addClass("faded-out"),a.replaceWith(n).delay(200),i(n),n.fadeIn(),n.removeClass("faded-out")}})}}return!1}))}function a(){e(".interval-desc").hide();var t="-plural";1!=e("input.em-recurrence-interval").val()&&""!=e("input.em-recurrence-interval").val()||(t="-singular");var n="span.interval-desc.interval-"+e("select.em-recurrence-frequency").val()+t;e(n).show()}function r(){e(".alternate-selector").hide(),e(".em-"+e("select.em-recurrence-frequency").val()+"-selector").show()}if(e(".em_bookings_events_table").length>0&&(e(document).on("submit",".em_bookings_events_table form",(function(t){var n=e(this),i=em_ajaxify(n.attr("action"));return n.parents(".em_bookings_events_table").find(".table-wrap").first().append('<div id="em-loading" />'),e.get(i,n.serializeArray(),(function(e){n.parents(".em_bookings_events_table").first().replaceWith(e)})),!1})),e(document).on("click",".em_bookings_events_table .tablenav-pages a",(function(){var t=e(this),n=em_ajaxify(t.attr("href"));return t.parents(".em_bookings_events_table").find(".table-wrap").first().append('<div id="em-loading" />'),e.get(n,(function(e){t.parents(".em_bookings_events_table").first().replaceWith(e)})),!1}))),e(document).on("click","a.em-booking-button",(function(t){t.preventDefault();var n=e(this);if(n.text()!=EM.bb_booked&&e(this).text()!=EM.bb_booking){n.text(EM.bb_booking);var i=n.attr("id").split("_");e.ajax({url:EM.ajaxurl,dataType:"jsonp",data:{event_id:i[1],_wpnonce:i[2],action:"booking_add_one"},success:function(t,i,o,a){t.result?(n.text(EM.bb_booked),n.addClass("disabled")):n.text(EM.bb_error),""!=t.message&&alert(t.message),e(document).triggerHandler("em_booking_button_response",[t,n])},error:function(){n.text(EM.bb_error)}})}return!1})),e(document).on("click","a.em-cancel-button",(function(t){t.preventDefault();var n=e(this);if(n.text()!=EM.bb_cancelled&&n.text()!=EM.bb_canceling){n.text(EM.bb_canceling);var i=n.attr("id").split("_");e.ajax({url:EM.ajaxurl,dataType:"jsonp",data:{booking_id:i[1],_wpnonce:i[2],action:"booking_cancel"},success:function(e,t,i,o){e.result?(n.text(EM.bb_cancelled),n.addClass("disabled")):n.text(EM.bb_cancel_error)},error:function(){n.text(EM.bb_cancel_error)}})}return!1})),e(document).on("click","a.em-booking-button-action",(function(t){t.preventDefault();var n=e(this),i={_wpnonce:n.attr("data-nonce"),action:n.attr("data-action")};return n.attr("data-event-id")&&(i.event_id=n.attr("data-event-id")),n.attr("data-booking-id")&&(i.booking_id=n.attr("data-booking-id")),n.text()!=EM.bb_booked&&e(this).text()!=EM.bb_booking&&(n.attr("data-loading")?n.text(n.attr("data-loading")):n.text(EM.bb_booking),e.ajax({url:EM.ajaxurl,dataType:"jsonp",data:i,success:function(t,i,o,a){t.result?(n.attr("data-success")?n.text(n.attr("data-success")):n.text(EM.bb_booked),n.addClass("disabled")):n.attr("data-error")?n.text(n.attr("data-error")):n.text(EM.bb_error),""!=t.message&&alert(t.message),e(document).triggerHandler("em_booking_button_action_response",[t,n])},error:function(){n.attr("data-error")?n.text(n.attr("data-error")):n.text(EM.bb_error)}})),!1})),e(".em-date-single, .em-date-range, #em-date-start").length>0&&(t=!0,em_setup_datepicker("body")),t&&em_load_jquery_css(),e(".em-datepicker").length>0&&em_setup_datepicker("body"),e("#em-wrapper input.select-all").on("change",(function(){e(this).is(":checked")?(e("input.row-selector").prop("checked",!0),e("input.select-all").prop("checked",!0)):(e("input.row-selector").prop("checked",!1),e("input.select-all").prop("checked",!1))})),a(),r(),e("input.em-recurrence-interval").on("keyup",a),e("select.em-recurrence-frequency").on("change",a),e("select.em-recurrence-frequency").on("change",r),(e(".em-location-map").length>0||e(".em-locations-map").length>0||e("#em-map").length>0||e(".em-search-geo").length>0)&&em_maps_load(),e(".em-location-types .em-location-types-select").on("change",(function(){let t=e(this);if(0==t.val())e(".em-location-type").hide();else{let n=t.find("option:selected").data("display-class");e(".em-location-type").hide(),e(".em-location-type."+n).show(),"em-location-type-place"!=n&&jQuery("#em-location-reset a").trigger("click")}""!==t.data("active")&&t.val()!==t.data("active")?(e(".em-location-type-delete-active-alert").hide(),e(".em-location-type-delete-active-alert").show()):e(".em-location-type-delete-active-alert").hide()})).trigger("change"),jQuery('div.em-location-data [name="location_name"]').length>0&&(e('div.em-location-data [name="location_name"]').selectize({plugins:["restore_on_backspace"],valueField:"id",labelField:"label",searchField:"label",create:!0,createOnBlur:!0,maxItems:1,persist:!1,addPrecedence:!0,selectOnTab:!0,diacritics:!0,render:{item:function(e,t){return"<div>"+e.label+"</div>"},option:function(e,t){let n="";return void 0!==e.address&&(""!==e.address&&""!==e.town?n=t(e.address)+", "+t(e.town):""!==e.address?n=t(e.address):""!==e.town&&(n=t(e.town))),'<div class="em-locations-autocomplete-item"><div class="em-locations-autocomplete-label">'+t(e.label)+'</div><div style="font-size:11px; text-decoration:italic;">'+n+"</div></div>"}},load:function(t,n){if(!t.length)return n();e.ajax({url:EM.locationajaxurl,data:{q:t,method:"selectize"},dataType:"json",type:"POST",error:function(){n()},success:function(e){n(e)}})},onItemAdd:function(e,t){this.clearCache();var n=this.options[e];e!==n.label?(jQuery("input#location-name").val(n.value),jQuery("input#location-address").val(n.address),jQuery("input#location-town").val(n.town),jQuery("input#location-state").val(n.state),jQuery("input#location-region").val(n.region),jQuery("input#location-postcode").val(n.postcode),jQuery("input#location-latitude").val(n.latitude),jQuery("input#location-longitude").val(n.longitude),void 0===n.country||""===n.country?jQuery("select#location-country option:selected").removeAttr("selected"):jQuery('select#location-country option[value="'+n.country+'"]').attr("selected","selected"),jQuery("input#location-id").val(n.id).trigger("change"),jQuery("div.em-location-data input, div.em-location-data select").prop("readonly",!0).css("opacity","0.5"),jQuery("#em-location-reset").show(),jQuery("#em-location-search-tip").hide(),this.disable(),this.$control.blur(),jQuery('div.em-location-data [class^="em-selectize"]').each((function(){this.selectize.disable()})),jQuery(document).triggerHandler("em_locations_autocomplete_selected",[event,n])):jQuery("input#location-address").focus()}}),jQuery("#em-location-reset a").on("click",(function(){jQuery("div.em-location-data input, div.em-location-data select").each((function(){this.style.removeProperty("opacity"),this.readOnly=!1,"text"==this.type&&(this.value="")})),jQuery("div.em-location-data option:selected").removeAttr("selected"),jQuery("input#location-id").val(""),jQuery("#em-location-reset").hide(),jQuery("#em-location-search-tip").show(),jQuery("#em-map").hide(),jQuery("#em-map-404").show(),"undefined"!=typeof marker&&(marker.setPosition(new google.maps.LatLng(0,0)),infoWindow.close(),marker.setDraggable(!0));let t=e("div.em-location-data input#location-name")[0].selectize;return t.enable(),t.clear(!0),t.clearOptions(),jQuery("div.em-location-data select.em-selectize").each((function(){"selectize"in this&&(this.selectize.enable(),this.selectize.clear(!0))})),!1})),"0"!=jQuery("input#location-id").val()&&""!=jQuery("input#location-id").val()&&(jQuery("div.em-location-data input, div.em-location-data select").each((function(){this.style.setProperty("opacity","0.5","important"),this.readOnly=!0})),jQuery("#em-location-reset").show(),jQuery("#em-location-search-tip").hide(),jQuery("div.em-location-data select.em-selectize, div.em-location-data input.em-selectize-autocomplete").each((function(){"selectize"in this&&this.selectize.disable()})))),em_setup_selectize(document),window.moment){var s=function(e,t){return t=(t=(t=(t=(t=t.replace(/##T/g,Intl.DateTimeFormat().resolvedOptions().timeZone)).replace(/#T/g,"GMT"+e.format("Z"))).replace(/###t/g,-60*e.utcOffset())).replace(/##t/g,e.isDST())).replace(/#t/g,e.daysInMonth())};e(".em-date-momentjs").each((function(){var t=e(this),n=moment.unix(t.data("date-start")),i=s(n,n.format(t.data("date-format")));if(t.data("date-start")!==t.data("date-end"))var o=moment.unix(t.data("date-end")),a=s(n,o.format(t.data("date-format"))),r=i+t.data("date-separator")+a;else r=i;t.text(r)}));var l=function(e,t){let n=new Date(1e3*e),i=n.getMinutes();if(24==t){let e=n.getHours();return e=e<10?"0"+e:e,i=i<10?"0"+i:i,e+":"+i}{let e=n.getHours()%12,t=e>=12?"PM":"AM";return 0===e&&(e=12),i=i<10?"0"+i:i,e+":"+i+" "+t}};e(".em-time-localjs").each((function(){var t=e(this),n=l(t.data("time"),t.data("time-format"));t.data("time-end")&&(n=n+(t.data("time-separator")?t.data("time-separator"):" - ")+l(t.data("time-end"),t.data("time-format")));t.text(n)}))}let c=jQuery(document);em_setup_tippy(c),c.triggerHandler("em_javascript_loaded")}));var em_ajaxify=function(e){return-1!=e.search("em_ajax=0")?e=e.replace("em_ajax=0","em_ajax=1"):-1!=e.search(/\?/)?e+="&em_ajax=1":e+="?em_ajax=1",e};function em_setup_datepicker(e){let t=(e=jQuery(e)).find(".em-date-single, .em-date-range");if(t.length>0){var n={dateFormat:"yy-mm-dd",changeMonth:!0,changeYear:!0,firstDay:EM.firstDay,yearRange:"c-100:c+15",beforeShow:function(e,t){em_setup_jquery_ui_wrapper(),t.dpDiv.appendTo("#em-jquery-ui")}};EM.dateFormat&&(n.dateFormat=EM.dateFormat),EM.yearRange&&(n.yearRange=EM.yearRange),jQuery(document).triggerHandler("em_datepicker",n),t.find("input.em-date-input-loc").each((function(e,t){var i=(t=jQuery(t)).nextAll("input.em-date-input").first(),o=i.val();if(t.datepicker(n),t.datepicker("option","altField",i),o){var a=jQuery.datepicker.formatDate(EM.dateFormat,jQuery.datepicker.parseDate("yy-mm-dd",o));t.val(a),i.val(o)}t.on("change",(function(){""==jQuery(this).val()&&jQuery(this).nextAll(".em-date-input").first().val("")}))})),t.filter(".em-date-range").find('input.em-date-input-loc[type="text"]').each((function(e,t){if((t=jQuery(t)).hasClass("em-date-start"))t.datepicker("option","onSelect",(function(e){var t=jQuery(this),n=t.parents(".em-date-range").find(".em-date-end").first(),i=t.nextAll("input.em-date-input").first().val(),o=n.nextAll("input.em-date-input").first().val();t.trigger("em_datepicker_change"),i>o&&""!=o&&(n.datepicker("setDate",e),n.trigger("change").trigger("em_datepicker_change")),n.datepicker("option","minDate",e)}));else if(t.hasClass("em-date-end")){var n=t.parents(".em-date-range").find(".em-date-start").first();""!=n.val()&&t.datepicker("option","minDate",n.val())}}))}let i=e.find(".em-datepicker, .em-datepicker-range");if(i.length>0){let t=jQuery("#em-flatpickr");0===t.length&&(t=jQuery('<div class="em pixelbones em-flatpickr" id="em-flatpickr"></div>').appendTo("body")),"locale"in EM.datepicker&&(flatpickr.localize(flatpickr.l10ns[EM.datepicker.locale]),flatpickr.l10ns.default.firstDayOfWeek=EM.firstDay);let n={appendTo:t[0],dateFormat:"Y-m-d",disableMoble:"true",allowInput:!0,onChange:[function(e,t,n){let i=jQuery(n.input).closest(".em-datepicker"),o=i.find(".em-datepicker-data"),a=o.find("input"),r=function(e){let t=""+(e.getMonth()+1),n=""+e.getDate(),i=e.getFullYear();return t.length<2&&(t="0"+t),n.length<2&&(n="0"+n),[i,t,n].join("-")};if(0===e.length)a.attr("value","");else if("range"===n.config.mode&&void 0!==e[1])a[0].setAttribute("value",r(e[0])),a[1].setAttribute("value",r(e[1]));else if("single"===n.config.mode&&i.hasClass("em-datepicker-until"))if(n.input.classList.contains("em-date-input-start")){let t;if(a[0].setAttribute("value",r(e[0])),i.attr("data-until-id")){t=jQuery("#"+i.attr("data-until-id")+" .em-date-input-end")[0]._flatpickr}else t=i.find(".em-date-input-end")[0]._flatpickr;void 0!==t.selectedDates[0]&&t.selectedDates[0]<e[0]&&(t.setDate(e[0],!1),a[1].setAttribute("value",r(t.selectedDates[0]))),t.set("minDate",e[0])}else a[1].setAttribute("value",r(e[0]));else a[0].setAttribute("value",r(e[0]));a.trigger("change");let s=o.attr("date-value");o.attr("data-value",t),s===t&&o.trigger("change")}],onClose:function(e,t,n){"range"===n.config.mode&&void 0!==e[1]&&1===e.length&&n.setDate([e[0],e[0]],!0)},locale:{}};EM.datepicker.format!==n.dateFormat&&(n.altFormat=EM.datepicker.format,n.altInput=!0),jQuery(document).triggerHandler("em_datepicker_options",n),i.each((function(e,t){(t=jQuery(t)).find(".em-datepicker-data").addClass("hidden");let i=t.hasClass("em-datepicker-range"),o={};t.attr("data-datepicker")&&(o=JSON.parse(t.attr("data-datepicker")),"object"!=typeof o&&(o={}));let a=Object.assign({},n,o);a.mode=i?"range":"single",i&&"onClose"in a&&(a.onClose=[function(e,t,n){1===e.length&&n.setDate([e[0],e[0]],!0)}]),t.attr("data-separator")&&(a.locale.rangeSeparator=t.attr("data-separator")),t.attr("data-format")&&(a.altFormat=t.attr("data-format")),t.find(".em-date-input").attr("type","text").flatpickr(a)})),i.each((function(e,t){let n=(t=jQuery(t)).find(".em-date-input"),i=t.find(".em-datepicker-data input");if(i.attr("type","hidden"),t.hasClass("em-datepicker-until")){let e,o;t.attr("data-until-id")?o=jQuery("#"+t.attr("data-until-id")+" .em-date-input-end")[0]._flatpickr:(o=n.filter(".em-date-input-end")[0]._flatpickr,i[1]&&i[1].value&&o.setDate(i[1].value,!1,"Y-m-d")),i[0]&&i[0].value&&(e=n.filter(".em-date-input-start")[0]._flatpickr,e.setDate(i[0].value,!1,"Y-m-d"),o.set("minDate",i[0].value))}else{let e=[];i.each((function(t,n){n.value&&e.push(n.value)})),n[0]._flatpickr.setDate(e,!1,"Y-m-d")}})),jQuery(document).triggerHandler("em_flatpickr_loaded",[e])}}function em_setup_timepicker(e){e=jQuery(e);var t={step:15};t.timeFormat=1==EM.show24hours?"G:i":"g:i A",jQuery(document).triggerHandler("em_timepicker_options",t),e.find(".em-time-input").em_timepicker(t),e.find(".em-time-range input.em-time-start").each((function(e,t){var n=jQuery(t);n.data("oldTime",n.em_timepicker("getSecondsFromMidnight"))})).on("change",(function(){var e=jQuery(this),t=e.nextAll(".em-time-end");if(t.val()){var n=e.data("oldTime"),i=1e3*(t.em_timepicker("getSecondsFromMidnight")-n),o=e.em_timepicker("getSecondsFromMidnight");t.em_timepicker("getSecondsFromMidnight")>=n&&t.em_timepicker("setTime",new Date(e.em_timepicker("getTime").getTime()+i)),e.data("oldTime",o)}})),e.find(".event-form-when .em-time-range input.em-time-end").on("change",(function(){var e=jQuery(this),t=e.prevAll(".em-time-start"),n=e.closest(".event-form-when"),i=n.find(".em-date-end").val(),o=n.find(".em-date-start").val();t.val()&&(t.em_timepicker("getTime")>e.em_timepicker("getTime")&&(0==o.length||i==o)?e.addClass("error"):e.removeClass("error"))})),e.find(".event-form-when .em-date-end").on("change",(function(){jQuery(this).closest(".event-form-when").find(".em-time-end").trigger("change")})),e.find(".em-time-range input.em-time-all-day").on("change",(function(){var e=jQuery(this);e.is(":checked")?e.closest(".em-time-range").find(".em-time-input").each((function(){this.style.setProperty("background-color","#ccc","important"),this.readOnly=!0})):e.closest(".em-time-range").find(".em-time-input").each((function(){this.style.removeProperty("background-color"),this.readOnly=!1}))})).trigger("change")}function em_setup_selectize(e){(e=jQuery(e)).find("select:not([multiple]).em-selectize, .em-selectize select:not([multiple])").selectize(),e.find("select[multiple].em-selectize, .em-selectize select[multiple]").selectize({hideSelected:!1,plugins:["remove_button","click2deselect"],diacritics:!0,render:{item:function(e,t){return'<div class="item"><span>'+e.text.replace(/^\s+/i,"")+"</span></div>"},option:function(e,t){let n='<div class="option"';return"data"in e&&Object.entries(e.data).forEach((function(e){n+=" data-"+t(e[0])+'="'+t(e[1])+'"'})),n+=">",this.$input.hasClass("checkboxes")?n+=e.text.replace(/^(\s+)?/i,"$1<span></span> "):n+=e.text,n+="</div>",n},optgroup:function(e,t){let n='<div class="optgroup" data-group="'+t(e.label)+'"';return"data"in e&&Object.entries(e.data).forEach((function(e){n+=" data-"+t(e[0])+'="'+t(e[1])+'"'})),n+=">",n+e.html+"</div>"}}}),e.find(".em-selectize.always-open").each((function(){if("selectize"in this){let e=this.selectize;e.open(),e.advanceSelection=function(){},e.setActiveItem=function(){},this.selectize.$control.on("click",".remove",(function(t){if(t.preventDefault(),!e.isLocked){var n=jQuery(t.currentTarget).parent();return e.removeItem(n.attr("data-value")),e.refreshOptions(),!1}}))}})),jQuery(document).triggerHandler("em_selectize_loaded",[e])}function em_setup_tippy(e){let t=jQuery(e);var n={theme:"light-border",appendTo:"parent",content:e=>e.getAttribute("aria-label"),touch:["hold",300]};jQuery(document).trigger("em-tippy-vars",[n,t]),tippy(".em-tooltip",n);let i={theme:"light-border",arrow:!1,allowHTML:!0,interactive:!0,trigger:"manual",placement:"bottom",zIndex:1e6,touch:!0};jQuery(document).trigger("em-tippy-ddm-vars",[i,t]),t.find(".em-tooltip-ddm").each((function(){let e,t;this.getAttribute("data-content")?(e=document.getElementById(this.getAttribute("data-content")),t=e.previousElementSibling):(e=this.nextElementSibling,t=e.previousElementSibling);let n=document.createElement("div"),o=this.getAttribute("data-button-width");o&&(i.maxWidth="match"==o?this.clientWidth:this.getAttribute("data-button-width")),i.content=n;let a=tippy(this,i);a.props.distance=50,a.setProps({onShow(t){t.reference.getAttribute("data-tooltip-class")&&t.popper.classList.add(t.reference.getAttribute("data-tooltip-class")),t.popper.classList.add("em-tooltip-ddm-display"),n.append(e),e.classList.remove("em-tooltip-ddm-content")},onShown(t){e.firstElementChild.focus()},onHidden(n){e.previousElementSibling!==t&&(t.after(e),e.classList.add("em-tooltip-ddm-content"))}});let r=function(e){if("keydown"===e.type&&13!==e.which&&40!==e.which)return!1;e.preventDefault(),e.stopPropagation(),this._tippy.show()};this.addEventListener("click",r),this.addEventListener("keydown",r),n.addEventListener("blur",(function(){n.hide()})),n.addEventListener("mouseover",(function(){e.firstElementChild.blur()}))}))}var infoWindow,em_maps_loaded=!1,maps={},maps_markers={};function em_maps_load(){if(!em_maps_loaded)if(0!=jQuery("script#google-maps").length||"object"==typeof google&&"object"==typeof google.maps)"object"!=typeof google||"object"!=typeof google.maps||em_maps_loaded?jQuery("script#google-maps").length>0&&jQuery(window).load((function(){em_maps_loaded||em_maps()})):em_maps();else{var e=document.createElement("script");e.type="text/javascript",e.id="google-maps";var t=EM.is_ssl?"https:":"http:";void 0!==EM.google_maps_api?e.src=t+"//maps.google.com/maps/api/js?v=quarterly&libraries=places&callback=em_maps&key="+EM.google_maps_api:e.src=t+"//maps.google.com/maps/api/js?v=quarterly&libraries=places&callback=em_maps",document.body.appendChild(e)}}function em_maps_load_locations(e){var t=(e=jQuery(e)).attr("id").replace("em-locations-map-","");if(null==(n=jQuery.parseJSON(e.nextAll(".em-locations-map-coords").first().text())))var n=jQuery.parseJSON(jQuery("#em-locations-map-coords-"+t).text());jQuery.getJSON(document.URL,n,(function(n){if(n.length>0){var i={mapTypeId:google.maps.MapTypeId.ROADMAP};"object"==typeof EM.google_map_id_styles&&void 0!==EM.google_map_id_styles[t]?(console.log(EM.google_map_id_styles[t]),i.styles=EM.google_map_id_styles[t]):void 0!==EM.google_maps_styles&&(i.styles=EM.google_maps_styles),jQuery(document).triggerHandler("em_maps_locations_map_options",i);var o={};jQuery(document).triggerHandler("em_maps_location_marker_options",o),maps[t]=new google.maps.Map(e[0],i),maps_markers[t]=[];var a=new google.maps.LatLngBounds;jQuery.map(n,(function(e,n){if(0!=e.location_latitude||0!=e.location_longitude){var i=parseFloat(e.location_latitude),r=parseFloat(e.location_longitude),s=new google.maps.LatLng(i,r);jQuery.extend(o,{position:s,map:maps[t]});var l=new google.maps.Marker(o);maps_markers[t].push(l),l.setTitle(e.location_name),em_map_infobox(l,'<div class="em-map-balloon"><div id="em-map-balloon-'+t+'" class="em-map-balloon-content">'+e.location_balloon+"</div></div>",maps[t]),a.extend(new google.maps.LatLng(i,r))}})),maps[t].fitBounds(a),jQuery(document).triggerHandler("em_maps_locations_hook",[maps[t],n,t,maps_markers[t]])}else e.children().first().html("No locations found"),jQuery(document).triggerHandler("em_maps_locations_hook_not_found",[e])}))}function em_maps_load_location(e){var t=(e=jQuery(e)).attr("id").replace("em-location-map-","");em_LatLng=new google.maps.LatLng(jQuery("#em-location-map-coords-"+t+" .lat").text(),jQuery("#em-location-map-coords-"+t+" .lng").text());var n={zoom:14,center:em_LatLng,mapTypeId:google.maps.MapTypeId.ROADMAP,mapTypeControl:!1,gestureHandling:"cooperative"};"object"==typeof EM.google_map_id_styles&&void 0!==EM.google_map_id_styles[t]?(console.log(EM.google_map_id_styles[t]),n.styles=EM.google_map_id_styles[t]):void 0!==EM.google_maps_styles&&(n.styles=EM.google_maps_styles),jQuery(document).triggerHandler("em_maps_location_map_options",n),maps[t]=new google.maps.Map(document.getElementById("em-location-map-"+t),n);var i={position:em_LatLng,map:maps[t]};jQuery(document).triggerHandler("em_maps_location_marker_options",i),maps_markers[t]=new google.maps.Marker(i),(infoWindow=new google.maps.InfoWindow({content:jQuery("#em-location-map-info-"+t+" .em-map-balloon").get(0)})).open(maps[t],maps_markers[t]),maps[t].panBy(40,-70),jQuery(document).triggerHandler("em_maps_location_hook",[maps[t],infoWindow,maps_markers[t],t]),jQuery(window).on("resize",(function(e){google.maps.event.trigger(maps[t],"resize"),maps[t].setCenter(maps_markers[t].getPosition()),maps[t].panBy(40,-70)}))}function em_maps(){if(jQuery(".em-location-map").each((function(e,t){em_maps_load_location(t)})),jQuery(".em-locations-map").each((function(e,t){em_maps_load_locations(t)})),jQuery("select#location-select-id, input#location-address").length>0){var e,t=function(){var t=jQuery("#location-latitude").val(),n=jQuery("#location-longitude").val();if(0!=t||0!=n){var i=new google.maps.LatLng(t,n);o.setPosition(i);var a=jQuery("input#location-name").length>0?jQuery("input#location-name").val():jQuery("input#title").val();a=em_esc_attr(a),o.setTitle(a),jQuery("#em-map").show(),jQuery("#em-map-404").hide(),google.maps.event.trigger(e,"resize"),e.setCenter(i),e.panBy(40,-55),infoWindow.setContent('<div id="location-balloon-content"><strong>'+a+"</strong><br>"+em_esc_attr(jQuery("#location-address").val())+"<br>"+em_esc_attr(jQuery("#location-town").val())+"</div>"),infoWindow.open(e,o),jQuery(document).triggerHandler("em_maps_location_hook",[e,infoWindow,o,0])}else jQuery("#em-map").hide(),jQuery("#em-map-404").show()};if(jQuery("#location-select-id, input#location-id").on("change",(function(){var t;t=jQuery(this).val(),jQuery("#em-map").length>0&&(jQuery("#em-map-404 .em-loading-maps").show(),jQuery.getJSON(document.URL,{em_ajax_action:"get_location",id:t},(function(t){0!=t.location_latitude&&0!=t.location_longitude?(loc_latlng=new google.maps.LatLng(t.location_latitude,t.location_longitude),o.setPosition(loc_latlng),o.setTitle(t.location_name),o.setDraggable(!1),jQuery("#em-map").show(),jQuery("#em-map-404").hide(),jQuery("#em-map-404 .em-loading-maps").hide(),e.setCenter(loc_latlng),e.panBy(40,-55),infoWindow.setContent('<div id="location-balloon-content">'+t.location_balloon+"</div>"),infoWindow.open(e,o),google.maps.event.trigger(e,"resize"),jQuery(document).triggerHandler("em_maps_location_hook",[e,infoWindow,o,0])):(jQuery("#em-map").hide(),jQuery("#em-map-404").show(),jQuery("#em-map-404 .em-loading-maps").hide())})))})),jQuery("#location-name, #location-town, #location-address, #location-state, #location-postcode, #location-country").on("change",(function(){if(!0!==jQuery(this).prop("readonly")){var e=[jQuery("#location-address").val(),jQuery("#location-town").val(),jQuery("#location-state").val(),jQuery("#location-postcode").val()],n="";if(jQuery.each(e,(function(e,t){""!=t&&(n=""==n?n+t:n+", "+t)})),""==n)return jQuery("#em-map").hide(),jQuery("#em-map-404").show(),!1;0!=jQuery("#location-country option:selected").val()&&(n=""==n?n+jQuery("#location-country option:selected").text():n+", "+jQuery("#location-country option:selected").text()),jQuery("#em-map-404 .em-loading-maps").show(),""!=n&&jQuery("#em-map").length>0&&a.geocode({address:n},(function(e,n){n==google.maps.GeocoderStatus.OK&&(jQuery("#location-latitude").val(e[0].geometry.location.lat()),jQuery("#location-longitude").val(e[0].geometry.location.lng())),t()}))}})),jQuery("#em-map").length>0){var n=new google.maps.LatLng(0,0),i={zoom:14,center:n,mapTypeId:google.maps.MapTypeId.ROADMAP,mapTypeControl:!1,gestureHandling:"cooperative"};void 0!==EM.google_maps_styles&&(i.styles=EM.google_maps_styles),e=new google.maps.Map(document.getElementById("em-map"),i);var o=new google.maps.Marker({position:n,map:e,draggable:!0});infoWindow=new google.maps.InfoWindow({content:""});var a=new google.maps.Geocoder;google.maps.event.addListener(infoWindow,"domready",(function(){document.getElementById("location-balloon-content").parentNode.style.overflow="",document.getElementById("location-balloon-content").parentNode.parentNode.style.overflow=""})),google.maps.event.addListener(o,"dragend",(function(){var t=o.getPosition();jQuery("#location-latitude").val(t.lat()),jQuery("#location-longitude").val(t.lng()),e.setCenter(t),e.panBy(40,-55)})),jQuery("#location-select-id").length>0?jQuery("#location-select-id").trigger("change"):t(),jQuery(document).triggerHandler("em_map_loaded",[e,infoWindow,o])}jQuery(window).on("resize",(function(t){google.maps.event.trigger(e,"resize"),e.setCenter(o.getPosition()),e.panBy(40,-55)}))}em_maps_loaded=!0,jQuery(document).triggerHandler("em_maps_loaded")}function em_map_infobox(e,t,n){var i=new google.maps.InfoWindow({content:t});google.maps.event.addListener(e,"click",(function(){infoWindow&&infoWindow.close(),infoWindow=i,i.open(n,e)}))}function em_esc_attr(e){return"string"!=typeof e?"":e.replace(/</gi,"&lt;").replace(/>/gi,"&gt;")}jQuery(document).on("em_view_loaded_map",(function(e,t,n){if(em_maps_loaded){em_maps_load_locations(t.find(".em-locations-map"))}else em_maps_load()})),jQuery(document).on("em_search_ajax",(function(e,t,n){em_maps_loaded&&(n.find(".em-location-map").each((function(e,t){em_maps_load_location(t)})),n.find(".em-locations-map").each((function(e,t){em_maps_load_locations(t)})))}));let openModal=function(e,t=null){(e=jQuery(e)).appendTo(document.body),setTimeout((function(){e.addClass("active").find(".em-modal-popup").addClass("active"),jQuery(document).triggerHandler("em_modal_open",[e]),"function"==typeof t&&setTimeout(t,200)}),100)},closeModal=function(e,t=null){(e=jQuery(e)).removeClass("active").find(".em-modal-popup").removeClass("active"),setTimeout((function(){if(e.attr("data-parent")){let t=jQuery("#"+e.attr("data-parent"));t.length&&e.appendTo(t)}e.triggerHandler("em_modal_close"),"function"==typeof t&&t()}),500)};function EM_Alert(e){let t=document.getElementById("em-alert-modal");null===t&&(t=document.createElement("div"),t.setAttribute("class","em pixelbones em-modal"),t.id="em-alert-modal",t.innerHTML='<div class="em-modal-popup"><header><a class="em-close-modal"></a><div class="em-modal-title">&nbsp;</div></header><div class="em-modal-content" id="em-alert-modal-content"></div></div>',document.body.append(t)),document.getElementById("em-alert-modal-content").innerHTML=e,openModal(t)}jQuery(document).on("click",".em-modal .em-close-modal",(function(e){let t=jQuery(this).closest(".em-modal");t.attr("data-prevent-close")||closeModal(t)})),jQuery(document).on("click",".em-modal",(function(e){if(jQuery(e.target).hasClass("em-modal")){let e=jQuery(this);e.attr("data-prevent-close")||closeModal(e)}})),jQuery(document).ready((function(t){let n={theme:"light-border",allowHTML:!0,interactive:!0,trigger:"manual",placement:"bottom",zIndex:1e6,touch:!0};t(document).trigger("em-search-views-trigger-vars",[n]);let i={theme:"light-border",appendTo:"parent",touch:!1};t(document).trigger("em-tippy-vars",[i]),t(".em-search").each((function(){let e=t(this),o=e.attr("id").replace("em-search-",""),r=e.find(".em-search-form").first(),s=e.find(".em-search-advanced");const l=function(e,t=1){let n=t>0?t:null;jQuery(e).attr("data-advanced-total-input",n),c()},c=function(n=!1){e.find("span.total-count").remove();let i=0;s.find("[data-advanced-total-input]").each((function(){let e=this.getAttribute("data-advanced-total-input");i+=Math.abs(e)})),e.attr("data-advanced-total",i),d(n),s.find(".em-search-advanced-section").each((function(){let e=t(this),n=0;e.attr("data-advanced-total",0),e.find("[data-advanced-total-input]").each((function(){let e=this.getAttribute("data-advanced-total-input");n+=Math.abs(e)})),e.attr("data-advanced-total",n),p(e)})),(i>0||!e.attr("data-advanced-previous-total")||i!=e.attr("data-advanced-previous-total"))&&u(!0),f()},d=function(t=!1){let n=jQuery('.em-search-advanced-trigger[data-search-advanced-id="em-search-advanced-'+o+'"]');n.find("span.total-count").remove();let i=e.attr("data-advanced-total");if(i>0){let e=jQuery('<span class="total-count">'+i+"</span>").appendTo(n);t||e.addClass("tentative")}},u=function(t=!1){let n=s.find('button[type="submit"]'),i=e.find('.em-search-main-bar button[type="submit"]'),o=n.add(i);t?o.removeClass("disabled").attr("aria-disabled","false"):o.addClass("disabled").attr("aria-disabled","true")},p=function(e){let n=e.attr("data-advanced-total");e.find("header span.total-count").remove(),n>0&&t('<span class="total-count">'+n+"</span>").appendTo(e.find("header"))},f=function(){let t=s.find('button[type="reset"]');t.attr("data-placeholder")||t.attr("data-placeholder",t.text());let n=e.attr("data-advanced-total");n>0?(t.text(t.attr("data-placeholder")+" ("+n+")").prop("disabled",!1),t.removeClass("disabled").attr("aria-disabled","false")):(t.text(t.attr("data-placeholder")),t.addClass("disabled").attr("aria-disabled","true"))};e.find(".em-search-views-trigger").each((function(){i.content=this.parentElement.getAttribute("aria-label");let a=tippy(this.parentElement,i),s=this.parentElement.querySelector(".em-search-views-options"),l=s.parentElement,c=document.createElement("div");n.content=c;let d=tippy(this,n);d.setProps({onShow(e){a.disable(),c.append(s)},onShown(e){s.querySelector("input:checked").focus()},onHidden(e){a.enable(),s.parentElement!==l&&l.append(s)}});let u=function(e){if("keydown"===e.type&&13!==e.which&&40!==e.which)return!1;e.preventDefault(),e.stopPropagation(),this._tippy.show(),a.hide()};this.addEventListener("click",u),this.addEventListener("keydown",u),this.firstElementChild.addEventListener("focus",(function(e){d.hide(),a.enable(),a.show()})),this.firstElementChild.addEventListener("blur",(function(){a.hide()})),e.on("focus blur",".em-search-views-options input",(function(){document.activeElement===this?this.parentElement.classList.add("focused"):this.parentElement.classList.remove("focused")})),e.on("keydown click",".em-search-views-options input",(function(e){if("keydown"===e.type&&13!==e.which)return-1!==[37,38,39,40].indexOf(e.which)?(38===e.which?this.parentElement.previousElementSibling&&this.parentElement.previousElementSibling.focus():40===e.which&&this.parentElement.nextElementSibling&&this.parentElement.nextElementSibling.focus(),!1):(9===e.which&&d.hide(),!0);this.checked=!0;let n=t(this);n.closest("fieldset").find("label").removeClass("checked"),n.parent().addClass("checked");let i=t(this).closest(".em-search-views"),a=this.value,s=i.children(".em-search-views-trigger").children(".em-search-view-option");a!==s.attr("data-view")&&(s.attr("data-view",this.value).text(this.parentElement.innerText),t("#em-view-"+o).find("#em-view-custom-data-search-"+o).remove(),r.find('button[type="submit"]').focus(),r.trigger("forcesubmit")),d.hide()}))})),e.on("click","button.em-search-advanced-trigger",(function(){if(e.hasClass("advanced-mode-inline"))s.hasClass("visible")?(s.slideUp().removeClass("visible"),"_tippy"in this&&this._tippy.setContent(this.getAttribute("data-label-show"))):(s.slideDown().addClass("visible"),"_tippy"in this&&this._tippy.setContent(this.getAttribute("data-label-hide")));else if(!s.hasClass("active")){let e=t('<form action="" method="post" class="em-search-advanced-form" id="em-search-form-advanced-'+o+'"></form>');e.appendTo(s),s.find(".em-modal-popup").appendTo(e);let n=this;openModal(s,(function(){n.blur(),s.find("input.em-search-text").focus()}))}})),s.on("em_modal_close",(function(){s.find(".em-modal-popup").appendTo(s),s.children("form").remove();let t=e.find("button.em-search-advanced-trigger").focus();"_tippy"in t[0]&&t[0]._tippy.hide()})),s.find(".em-search-advanced-section > header").on("click",(function(){let e=t(this),n=e.closest("section"),i=e.siblings(".em-search-section-content");n.hasClass("active")?(i.slideUp(),n.removeClass("active")):(i.slideDown(),n.addClass("active"))}));let m=function(e){let n=t(e),i=""!==n.val()?1:0;l(n,i)};e.on("change input",".em-search-main-bar input.em-search-text",(function(e){let t=s.find("input.em-search-text");t.val(this.value),m(t[0])})),e.on("change",".em-search-main-bar input.em-search-geo-coords",(function(){let e=t(this),n=s.find("div.em-search-geo"),i=n.find("input.em-search-geo-coords");i.val(e.val()).attr("class",e.attr("class"));let o=e.siblings("input.em-search-geo").first();n.find("input.em-search-geo").val(o.val()).attr("class",o.attr("class")),m(i)})),e.find(".em-search-main-bar .em-datepicker input.em-search-scope.flatpickr-input").each((function(){"_flatpickr"in this&&this._flatpickr.config.onClose.push((function(e,t,n){let i=s.find(".em-datepicker input.em-search-scope.flatpickr-input");i[0]._flatpickr.setDate(e,!0),i[0]._flatpickr.close()}))})),s.on("change input","input.em-search-text",(function(t){"change"===t.type?e.find(".em-search-main input.em-search-text").val(this.value):m(this)})),s.on("change","input.em-search-geo-coords",(function(n){m(this);let i=t(this),o=e.find(".em-search-main div.em-search-geo");if(o.length>0){o.find("input.em-search-geo-coords").val(i.val()).attr("class",i.attr("class"));let e=i.siblings("input.em-search-geo");o.find("input.em-search-geo").val(e.val()).attr("class",e.attr("class"))}})),s.on("change","input.em-search-eventful",(function(e){let n=t(this),i=n.prop("checked")?1:0;l(n,i)})),s.on("calculate_totals",(function(){t(this).find("input.em-search-text, input.em-search-geo-coords").each((function(){m(this)})),t(this).find("input.em-search-eventful").trigger("change")})),s.on("clear_search",(function(){t(this).find("input.em-search-geo").removeClass("off").removeClass("on").val("")})),s.find(".em-datepicker input.em-search-scope.flatpickr-input").each((function(){"_flatpickr"in this&&this._flatpickr.config.onClose.push((function(t,n,i){if(i.input.getAttribute("data-previous-value")!==n){let o=n?1:0;l(i.input,o);let a=e.find(".em-search-main-bar .em-datepicker input.em-search-scope.flatpickr-input");a.length>0&&a[0]._flatpickr.setDate(t,!0),i.input.setAttribute("data-previous-value",n)}}))})),s.on("calculate_totals",(function(){s.find(".em-datepicker input.em-search-scope.flatpickr-input").first().each((function(){let e=this._flatpickr.selectedDates.length>0?1:0;l(this,e)}))})),s.on("clear_search",(function(){s.find(".em-datepicker input.em-search-scope.flatpickr-input").each((function(){this._flatpickr.clear(),l(this,0)}))}));let h=function(){e.find(".em-datepicker input.em-search-scope.flatpickr-input").each((function(){if("calendar"==e.attr("data-view"))this.setAttribute("data-advanced-total-input",0),this._flatpickr.input.disabled=!0;else{this._flatpickr.input.disabled=!1;let e=this._flatpickr.selectedDates.length>0?1:0;this.setAttribute("data-advanced-total-input",e)}}))};t(document).on("em_search_loaded",h),h(),s.find("select.em-selectize").each((function(){this.selectize.on("change",(function(){g(this)}))})),s.on("calculate_totals",(function(){t(this).find("select.em-selectize").each((function(){g(this.selectize)}))})),s.on("clear_search",(function(){s.find("select.em-selectize").each((function(){this.selectize.clear(),this.selectize.refreshItems(),this.selectize.refreshOptions(),this.classList.contains("always-open")||(this.selectize.close(),this.selectize.$dropdown.hide())}))}));let g=function(e){let t=e.items.length;1!=t||e.items[0]||(t=0),l(e.$input,t)},v=function(){if("selectize"in this){this.selectize.settings.placeholder=this.selectize.settings.original_placeholder,this.selectize.updatePlaceholder();let e=[];this.selectize.$input.find("option").each((function(){let t=null!==this.value?this.value:this.innerHTML;e.push({value:t,text:this.innerHTML})})),this.selectize.addOption(e),this.selectize.refreshOptions(!1)}},y=function(){"selectize"in this&&(this.selectize.clearOptions(),"original_placeholder"in this.selectize.settings||(this.selectize.settings.original_placeholder=this.selectize.settings.placeholder),this.selectize.settings.placeholder=EM.txt_loading,this.selectize.updatePlaceholder())};t(".em-search-advanced select[name=country], .em-search select[name=country]").on("change",(function(){var e=t(this);let n=e.closest(".em-search-location");if(n.find("select[name=state]").html('<option value="">'+EM.txt_loading+"</option>"),n.find("select[name=region]").html('<option value="">'+EM.txt_loading+"</option>"),n.find("select[name=town]").html('<option value="">'+EM.txt_loading+"</option>"),n.find("select[name=state], select[name=region], select[name=town]").each(y),""!=e.val()){n.find(".em-search-location-meta").slideDown();var i={action:"search_states",country:e.val(),return_html:!0};n.find("select[name=state]").load(EM.ajaxurl,i,v),i.action="search_regions",n.find("select[name=region]").load(EM.ajaxurl,i,v),i.action="search_towns",n.find("select[name=town]").load(EM.ajaxurl,i,v)}else n.find(".em-search-location-meta").slideUp()})),t(".em-search-advanced select[name=region], .em-search select[name=region]").on("change",(function(){var e=t(this);let n=e.closest(".em-search-location");n.find("select[name=state]").html('<option value="">'+EM.txt_loading+"</option>"),n.find("select[name=town]").html('<option value="">'+EM.txt_loading+"</option>"),n.find("select[name=state], select[name=town]").each(y);var i={action:"search_states",region:e.val(),country:n.find("select[name=country]").val(),return_html:!0};n.find("select[name=state]").load(EM.ajaxurl,i,v),i.action="search_towns",n.find("select[name=town]").load(EM.ajaxurl,i,v)})),t(".em-search-advanced select[name=state], .em-search select[name=state]").on("change",(function(){var e=t(this);let n=e.closest(".em-search-location");n.find("select[name=town]").html('<option value="">'+EM.txt_loading+"</option>").each(y);var i={action:"search_towns",state:e.val(),region:n.find("select[name=region]").val(),country:n.find("select[name=country]").val(),return_html:!0};n.find("select[name=town]").load(EM.ajaxurl,i,v)})),s.on("click",'button[type="reset"]',(function(){0!=e.attr("data-advanced-total")&&(s.find("input.em-search-text, input.em-search-geo").val("").attr("data-advanced-total-input",null).trigger("change"),e.trigger("clear_search"),s.trigger("clear_search"),c(!0),s.find(".em-search-advanced-section").removeClass("active").children(".em-search-section-content").slideUp(),s.find('button[type="submit"]').trigger("forceclick"),f())})).each((function(){s.trigger("calculate_totals"),c(!0)}));const b=function(e,t=!0){d(t)};e.on("update_trigger_count",b),s.on("update_trigger_count",b),s.on("click forceclick",'button[type="submit"]',(function(e){return e.preventDefault(),this.classList.contains("disabled")&&"forceclick"!==e.type||(s.hasClass("em-modal")?closeModal(s,(function(){r.submit()})):r.submit()),!1})),e.on("submit forcesubmit",".em-search-form",(function(n){n.preventDefault();let i=t(this),r=i.find('button[type="submit"]');if("forcesubmit"!==n.type&&r.hasClass("disabled"))return!1;let l=i.closest(".em-search");if(l.hasClass("em-search-legacy"))a(i);else{let a=t("#em-view-"+o),p=i.find('[name="view"]:checked, .em-search-view-option-hidden').val();Array.isArray(p)&&(p=p.shift());let f=a.find("#em-view-custom-data-search-"+o).clone(),m=t('<div class="em-view-custom-data"></div>');f.children().appendTo(m),f.remove(),m.appendTo(i),a.append('<div class="em-loading"></div>'),r.each((function(){EM.txt_searching!==this.innerHTML&&(this.setAttribute("data-button-text",this.innerHTML),this.innerHTML=EM.txt_searching)}));var d=i.serialize();t.ajax(EM.ajaxurl,{type:"POST",dataType:"html",data:d,success:function(t){r.each((function(){this.innerHTML=this.getAttribute("data-button-text")})),a=EM_View_Updater(a,t),a.attr("data-view",p),e.attr("data-view",p),s.attr("data-view",p),jQuery(document).triggerHandler("em_view_loaded_"+p,[a,i,n]),jQuery(document).triggerHandler("em_search_loaded",[a,i,n]),jQuery(document).triggerHandler("em_search_result",[d,a,n]),l.find(".count.tentative").removeClass("tentative"),r.addClass("disabled").attr("aria-disabled","true"),c(!0),e.attr("data-advanced-previous-total",e.attr("data-advanced-total")),u(!1),m.remove()}})}return!1})),EM_ResizeObserver(EM.search.breakpoints,[e[0]])})),t(document).on("click",".em-search-advanced-trigger[data-search-advanced-id]",(function(){this.getAttribute("data-parent-trigger")&&document.getElementById(this.getAttribute("data-parent-trigger")).click()})),t(document).on("click",".em-view-container .em-ajax.em-pagination a.page-numbers",(function(e){let n=t(this),i=n.closest(".em-view-container"),a=n.attr("href"),r=n.closest(".em-pagination").attr("data-em-ajax");r&&(a+="&"+r);let s=new URL(a,window.location.origin).searchParams;return i.attr("data-view")&&s.set("view",i.attr("data-view")),i.append('<div class="loading" id="em-loading"></div>'),t.ajax(EM.ajaxurl,{type:"POST",dataType:"html",data:s.toString(),success:function(e){i=EM_View_Updater(i,e),i.find(".em-pagination").each((function(){o.observe(this)})),jQuery(document).triggerHandler("em_page_loaded",[i])}}),e.preventDefault(),!1}));const o=new ResizeObserver((function(e){for(let t of e){let e=t.target;if(!e.classList.contains("observing")){e.classList.add("observing");let t=!1;e.classList.remove("overflowing");for(const n of e.querySelectorAll(".not-current"))if(n.scrollHeight>n.clientHeight||n.scrollWidth>n.clientWidth){t=!0;break}t&&e.classList.add("overflowing"),e.classList.remove("observing")}}}));t(".em-pagination").each((function(){o.observe(this)})),t(document).on("click change",".em-search-legacy .em-toggle",(function(e){e.preventDefault();var n=t(this),i=n.attr("rel").split(":");n.hasClass("show-search")?(i.length>1?n.closest(i[1]).find(i[0]).slideUp():t(i[0]).slideUp(),n.find(".show, .show-advanced").show(),n.find(".hide, .hide-advanced").hide(),n.removeClass("show-search")):(i.length>1?n.closest(i[1]).find(i[0]).slideDown():t(i[0]).slideDown(),n.find(".show, .show-advanced").hide(),n.find(".hide, .hide-advanced").show(),n.addClass("show-search"))}));let a=function(n){this.em_search&&this.em_search.value==EM.txt_search&&(this.em_search.value="");var i=n.closest(".em-search-wrapper").find(".em-search-ajax");if(0==i.length&&(i=t(".em-search-ajax")),i.length>0){i.append('<div class="loading" id="em-loading"></div>');var o=n.find(".em-search-submit button");o.attr("data-button-text",o.val()).val(EM.txt_searching);var a=o.children("img");a.length>0&&a.attr("src",a.attr("src").replace("search-mag.png","search-loading.gif"));var r=n.serialize();return t.ajax(EM.ajaxurl,{type:"POST",dataType:"html",data:r,success:function(s){o.val(o.attr("data-button-text")),a.length>0&&a.attr("src",a.attr("src").replace("search-loading.gif","search-mag.png")),i.replaceWith(s),""==n.find("input[name=em_search]").val()&&n.find("input[name=em_search]").val(EM.txt_search),0==(i=n.closest(".em-search-wrapper").find(".em-search-ajax")).length&&(i=t(".em-search-ajax")),jQuery(document).triggerHandler("em_search_ajax",[r,i,e])}}),e.preventDefault(),!1}};t(".em-search-ajax").length>0&&t(document).on("click",".em-search-ajax a.page-numbers",(function(e){var n=t(this),i=n.closest(".em-pagination").attr("data-em-ajax"),o=n.closest(".em-search-ajax"),a=o.parent(),r=n.attr("href").split("?")[1];return""!=i&&(r=""!=r?r+"&"+i:i),r+="&legacy=1",o.append('<div class="loading" id="em-loading"></div>'),t.ajax(EM.ajaxurl,{type:"POST",dataType:"html",data:r,success:function(t){o.replaceWith(t),o=a.find(".em-search-ajax"),jQuery(document).triggerHandler("em_search_ajax",[r,o,e])}}),e.preventDefault(),!1}))})),jQuery(document).ready((function(e){const t=function(t){(t=e(t)).attr("id")&&t.attr("id").match(/^em-calendar-[0-9+]$/)||t.attr("id","em-calendar-"+Math.floor(1e4*Math.random())),t.find("a").off("click"),t.on("click","a.em-calnav, a.em-calnav-today",(function(n){n.preventDefault();const i=e(this);if(1==i.data("disabled")||""===i.attr("href"))return;i.closest(".em-calendar").prepend('<div class="loading" id="em-loading"></div>');let o=em_ajaxify(i.attr("href"));const a=t.attr("id").replace("em-calendar-",""),r=e("form#em-view-custom-data-calendar-"+a);let s=new FormData;if(r.length>0){s=new FormData(r[0]);let e=new URL(o,window.location.origin).searchParams;for(const[t,n]of e.entries())s.set(t,n)}t.hasClass("with-advanced")&&s.set("has_advanced_trigger",1),e.ajax({url:o,data:s,processData:!1,contentType:!1,method:"POST",success:function(e){let n=EM_View_Updater(t,e);(t=n.hasClass("em-view-container")?n.find(".em-calendar"):n).trigger("em_calendar_load")},dataType:"html"})}));let n=function(t,n){let i=e('<span class="marker">'+n+"</span>");i.insertAfter(t);let o=i.width()+40;i.remove(),t.style.setProperty("width",o+"px","important")};!function(){let i=t.find(".month form");if(t.find(".event-style-pill .em-cal-event").on("click",(function(e){if(e.preventDefault(),!(t.hasClass("preview-tooltips")&&t.data("preview-tooltips-trigger")||t.hasClass("preview-modal"))){let e=this.getAttribute("data-event-url");null!==e&&(window.location.href=e)}})),i.length>0){i.find('input[type="submit"]').hide();let o=e('<select style="display:none;visibility:hidden;"></select>').appendTo(i),a=(e("<option></option>").appendTo(o),t.find('select[name="month"]').val(),t.find('select[name="year"]').val(),t.find('select[name="month"]'),t.find('select[name="year"]'),t.find(".em-month-picker")),r=a.data("month-value");a.prop("type","text").prop("value",r),n(a[0],r);let s=e("#em-flatpickr");0===s.length&&(s=e('<div class="em pixelbones" id="em-flatpickr"></div>').appendTo("body"));let l=null;"future"===t.data("scope")&&(l=new Date,l.setMonth(l.getMonth()-1)),"locale"in EM.datepicker&&(flatpickr.localize(flatpickr.l10ns[EM.datepicker.locale]),flatpickr.l10ns.default.firstDayOfWeek=EM.firstDay),a.flatpickr({appendTo:s[0],dateFormat:"F Y",minDate:l,disableMobile:"true",plugins:[new monthSelectPlugin({shorthand:!0,dateFormat:"F Y",altFormat:"F Y"})],onChange:function(e,i,o){n(o.input,i),function(e,t,n){let i=e.find(".em-calnav-next"),o=new URL(i.attr("href"),window.location.origin);o.searchParams.set("mo",n),o.searchParams.set("yr",t),i.attr("href",o.toString()).trigger("click")}(t,e[0].getFullYear(),e[0].getMonth()+1)}}),a.addClass("select-toggle")}if(t.hasClass("preview-tooltips")){var o={theme:"light-border",allowHTML:!0,interactive:!0,trigger:"mouseenter focus click",content:e=>document.createElement("div"),onShow(e){const n=e.reference.getAttribute("data-event-id"),i=t.find('section.em-cal-events-content .em-cal-event-content[data-event-id="'+n+'"]');e.props.content.append(i.first().clone()[0])},onHide(e){e.props.content.innerHTML=""}};t.data("preview-tooltips-trigger")&&(o.trigger=t.data("preview-tooltips-trigger")),e(document).trigger("em-tippy-cal-event-vars",[o]),tippy(t.find(".em-cal-event").toArray(),o)}else t.hasClass("preview-modal")&&t.find(".em-cal-event").on("click",(function(){const e=this.getAttribute("data-event-id"),n=t.find('section.em-cal-events-content .em-cal-event-content[data-event-id="'+e+'"]');n.attr("data-calendar-id",t.attr("id")),openModal(n)}));t.hasClass("responsive-dateclick-modal")&&t.find(".eventful .em-cal-day-date, .eventful-post .em-cal-day-date, .eventful-pre .em-cal-day-date").on("click",(function(e){e.preventDefault();const n=this.getAttribute("data-calendar-date"),i=t.find('.em-cal-date-content[data-calendar-date="'+n+'"]');i.attr("data-calendar-id",t.attr("id")),openModal(i)})),t.hasClass("size-fixed")||EM_ResizeObserver(EM.calendar.breakpoints,[t[0],t[0]]);let a=t.find(".em-cal-body");if(a.hasClass("even-aspect")){let e=function(e){let t=e.firstElementChild.getBoundingClientRect().width;t>0&&e.style.setProperty("--grid-auto-rows","minmax("+t+"px, auto)")};new ResizeObserver((function(t){for(let n of t)e(n.target)})).observe(a[0]),e(a[0])}if(t.find(".date-day-colors").each((function(){let t=JSON.parse(this.getAttribute("data-colors")),n=e(this).siblings(".em-cal-day-date.colored"),i={1:{1:"--date-border-color",class:"one"},2:{1:"--date-border-color-top",2:"--date-border-color-bottom",class:"two"},3:{1:"--date-border-color-top",2:"--date-border-color-right",3:"--date-border-color-bottom",class:"three"},4:{1:"--date-border-color-top",2:"--date-border-color-right",3:"--date-border-color-bottom",4:"--date-border-color-left",class:"four"}};for(let o=0;o<t.length;o+=4){const a=t.slice(o,o+4);let r=n.children().first(),s=e('<div class="ring"></div>').prependTo(n);r.appendTo(s),s.addClass(i[a.length].class);for(let e=0;e<a.length;e++)s.css(i[a.length][e+1],a[e])}})),t.hasClass("with-advanced")){const n=t.find(".em-search-advanced-trigger");e("#"+n.attr("data-search-advanced-id")).triggerHandler("update_trigger_count")}}(),e(document).triggerHandler("em_calendar_loaded",[t])};e(".em-calendar").each((function(){let n=e(this);t(n)})),e(document).on("em_calendar_load",".em-calendar",(function(){t(this)})),e(document).on("em_view_loaded_calendar",(function(e,n,i){let o;o=n.hasClass("em-calendar")?n:n.find(".em-calendar").first(),t(o)}))}));let EM_View_Updater=function(e,t){let n=jQuery(t),i=e.hasClass("em-view-container")?e:e.parent(".em-view-container");if(i.length>0)n.hasClass("em-view-container")?(i.replaceWith(n),i=n):i.empty().append(n);else if(n.hasClass("em-view-container"))e.replaceWith(n),i=n;else if(n.attr("data-view-id")){let t=jQuery('<div class="em em-view-container"></div>'),i=n.attr("data-view-id");t.attr("data-view-id",i),t.attr("id","em-view-"+i),t.attr("data-view-type",n.attr("data-view-type")),t.append(n),e.replaceWith(t)}return i},EM_ResizeObserver=function(e,t){const n=new ResizeObserver((function(t){for(let n of t){let t=n.target;if(!t.classList.contains("size-fixed"))for(const[n,i]of Object.entries(e))if(t.offsetWidth<=i||!1===i){for(let i of Object.keys(e))i!==n&&t.classList.remove("size-"+i);t.classList.add("size-"+n);break}}}));return t.forEach((function(e){void 0!==e&&n.observe(e)})),n};jQuery(document).ready((function(e){let t={small:600,large:!1};const n=EM_ResizeObserver(t,e(".em-list").toArray());e(document).on("em_page_loaded em_view_loaded_list em_view_loaded_list-grouped em_view_loaded_grid",(function(e,t){t.find(".em-list").each((function(){this.classList.contains("size-fixed")||n.observe(this)}))})),e(document).on("click",".em-grid .em-item[data-href]",(function(e){"a"!==e.target.type&&(window.location.href=this.getAttribute("data-href"))})),t={small:600,medium:900,large:!1};const i=EM_ResizeObserver(t,e(".em-item-single").toArray());e(document).on("em_view_loaded",(function(e,t){t.find(".em-event-single").each((function(){this.classList.contains("size-fixed")||i.observe(this)}))})),e(document).on("click",".em-event-booking-form .em-login-trigger a",(function(t){t.preventDefault();var n=e(this).closest(".em-event-booking-form");n.find(".em-login-trigger").hide(),n.find(".em-login-content").fadeIn();let i=n.find(".em-login");i[0].scrollIntoView({behavior:"smooth"}),i.first().find('input[name="log"]').focus()})),e(document).on("click",".em-event-booking-form .em-login-cancel",(function(t){t.preventDefault();let n=e(this).closest(".em-event-booking-form");n.find(".em-login-content").hide(),n.find(".em-login-trigger").show()})),EM_ResizeObserver({small:500,large:!1},e(".em-login").toArray())})),document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll("form.em-ajax-form").forEach((function(e){e.addEventListener("submit",(function(e){e.preventDefault();let t=e.currentTarget,n=new FormData(t);t.querySelector('button[type="submit"]');if(t.classList.contains("no-overlay-spinner"))t.classList.add("loading");else{let e=document.createElement("div");e.id="em-loading",t.append(e)}var i=new XMLHttpRequest;return t.getAttribute("data-api-url")?(i.open("POST",t.getAttribute("data-api-url"),!0),i.setRequestHeader("X-WP-Nonce",EM.api_nonce)):i.open("POST",EM.ajaxurl,!0),i.onload=function(){if(this.status>=200&&this.status<400)try{let e,i=JSON.parse(this.response);t.classList.contains("no-inline-notice")||(e=t.querySelector(".em-notice"),e||(e=document.createElement("li"),t.prepend(e),n.get("action")&&t.dispatchEvent(new CustomEvent("em_ajax_form_success_"+n.get("action"),{detail:{form:t,notice:e,response:i}}))),e.innerHTML="",e.setAttribute("class","em-notice")),i.result?t.classList.contains("no-inline-notice")?(t.classList.add("load-successful"),t.classList.remove("loading"),i.message&&EM_Alert(i.message)):(e.classList.add("em-notice-success"),e.innerHTML=i.message,t.replaceWith(e)):t.classList.contains("no-inline-notice")?EM_Alert(i.errors):(e.classList.add("em-notice-error"),e.innerHTML=i.errors)}catch(e){alert("Error Encountered : "+e)}else alert("Error encountered... please see debug logs or contact support.");t.classList.remove("loading")},i.onerror=function(){alert("Connection error encountered... please see debug logs or contact support.")},i.send(n),!1}))}))})),
/*!
 * jquery-timepicker v1.13.16 - Copyright (c) 2020 Jon Thornton - https://www.jonthornton.com/jquery-timepicker/
 * Did a search/replace of timepicker to em_timepicker to prevent conflicts.
 */
function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?i(Object(o),!0).forEach((function(t){n(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function r(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o,r=!0,s=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return r=e.done,e},e:function(e){s=!0,o=e},f:function(){try{r||null==i.return||i.return()}finally{if(s)throw o}}}}var s=86400,l=function(e,t){if(null===e)return null;if("number"!=typeof t.step)return e;var n=e%(60*t.step);return(n-=(t.minTime||0)%(60*t.step))>=30*t.step?e+=60*t.step-n:e-=n,function(e,t){if(e==s&&t.show2400)return e;return e%s}(e,t)};var c,d={appendTo:"body",className:null,closeOnWindowScroll:!1,disableTextInput:!1,disableTimeRanges:[],disableTouchKeyboard:!1,durationTime:null,forceRoundTime:!1,lang:{},listWidth:null,maxTime:null,minTime:null,noneOption:!1,orientation:"l",roundingFunction:l,scrollDefault:null,selectOnBlur:!1,show2400:!1,showDuration:!1,showOn:["click","focus"],showOnFocus:!0,step:30,stopScrollPropagation:!1,timeFormat:"g:ia",typeaheadHighlight:!0,useSelect:!1,wrapHours:!0},u={am:"am",pm:"pm",AM:"AM",PM:"PM",decimal:".",mins:"mins",hr:"hr",hrs:"hrs"},p=function(){function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this._handleFormatValue=this._handleFormatValue.bind(this),this._handleKeyUp=this._handleKeyUp.bind(this),this.targetEl=e;var i=n.extractAttrOptions(e,Object.keys(d));this.settings=this.parseSettings(o(o(o({},d),t),i))}var i,a,l;return i=n,l=[{key:"extractAttrOptions",value:function(e,t){var n,i={},o=r(t);try{for(o.s();!(n=o.n()).done;){var a=n.value;a in e.dataset&&(i[a]=e.dataset[a])}}catch(e){o.e(e)}finally{o.f()}return i}},{key:"isVisible",value:function(e){var t=e[0];return t.offsetWidth>0&&t.offsetHeight>0}},{key:"hideAll",value:function(){var e,t=r(document.getElementsByClassName("ui-em_timepicker-input"));try{for(t.s();!(e=t.n()).done;){var n=e.value.em_timepickerObj;n&&n.hideMe()}}catch(e){t.e(e)}finally{t.f()}}}],(a=[{key:"hideMe",value:function(){if(this.settings.useSelect)this.targetEl.blur();else if(this.list&&n.isVisible(this.list)){this.settings.selectOnBlur&&this._selectValue(),this.list.hide();var e=new CustomEvent("hideTimepicker");this.targetEl.dispatchEvent(e)}}},{key:"_findRow",value:function(e){if(!e&&0!==e)return!1;var t=!1;return e=this.settings.roundingFunction(e,this.settings),!!this.list&&(this.list.find("li").each((function(n,i){var o=Number.parseInt(i.dataset.time);if(!Number.isNaN(o))return o==e?(t=i,!1):void 0})),t)}},{key:"_hideKeyboard",value:function(){return(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.settings.disableTouchKeyboard}},{key:"_setTimeValue",value:function(e,t){if("INPUT"===this.targetEl.nodeName){null===e&&""==this.targetEl.value||(this.targetEl.value=e);var n=this;n.settings.useSelect&&"select"!=t&&n.list&&n.list.val(n._roundAndFormatTime(n.time2int(e)))}var i=new Event("selectTime");if(this.selectedValue!=e){this.selectedValue=e;var o=new Event("changeTime"),a=new CustomEvent("change",{detail:"em_timepicker"});return"select"==t?(this.targetEl.dispatchEvent(i),this.targetEl.dispatchEvent(o),this.targetEl.dispatchEvent(a)):-1==["error","initial"].indexOf(t)&&this.targetEl.dispatchEvent(o),!0}return-1==["error","initial"].indexOf(t)&&this.targetEl.dispatchEvent(i),!1}},{key:"_getTimeValue",value:function(){return"INPUT"===this.targetEl.nodeName?this.targetEl.value:this.selectedValue}},{key:"_selectValue",value:function(){var e=this,t=(e.settings,e.list.find(".ui-em_timepicker-selected"));if(t.hasClass("ui-em_timepicker-disabled"))return!1;if(!t.length)return!0;var n=t.get(0).dataset.time;if(n){var i=Number.parseInt(n);Number.isNaN(i)||(n=i)}return null!==n&&("string"!=typeof n&&(n=e._int2time(n)),e._setTimeValue(n,"select")),!0}},{key:"time2int",value:function(e){if(""===e||null==e)return null;if(e instanceof Date)return 3600*e.getHours()+60*e.getMinutes()+e.getSeconds();if("string"!=typeof e)return e;"a"!=(e=e.toLowerCase().replace(/[\s\.]/g,"")).slice(-1)&&"p"!=e.slice(-1)||(e+="m");var t=/^(([^0-9]*))?([0-9]?[0-9])(([0-5][0-9]))?(([0-5][0-9]))?(([^0-9]*))$/;e.match(/\W/)&&(t=/^(([^0-9]*))?([0-9]?[0-9])(\W+([0-5][0-9]?))?(\W+([0-5][0-9]))?(([^0-9]*))$/);var n=e.match(t);if(!n)return null;var i=parseInt(1*n[3],10),o=n[2]||n[9],a=i,r=1*n[5]||0,l=1*n[7]||0;if(o||2!=n[3].length||"0"!=n[3][0]||(o="am"),i<=12&&o){var c=(o=o.trim())==this.settings.lang.pm||o==this.settings.lang.PM;a=12==i?c?12:0:i+(c?12:0)}else if(3600*i+60*r+l>=s+(this.settings.show2400?1:0)){if(!1===this.settings.wrapHours)return null;a=i%24}var d=3600*a+60*r+l;if(i<12&&!o&&this.settings._twelveHourTime&&this.settings.scrollDefault){var u=d-this.settings.scrollDefault();u<0&&u>=s/-2&&(d=(d+s/2)%s)}return d}},{key:"parseSettings",value:function(e){var t=this;if(e.lang=o(o({},u),e.lang),this.settings=e,e.minTime&&(e.minTime=this.time2int(e.minTime)),e.maxTime&&(e.maxTime=this.time2int(e.maxTime)),e.listWidth&&(e.listWidth=this.time2int(e.listWidth)),e.durationTime&&"function"!=typeof e.durationTime&&(e.durationTime=this.time2int(e.durationTime)),"now"==e.scrollDefault)e.scrollDefault=function(){return e.roundingFunction(t.time2int(new Date),e)};else if(e.scrollDefault&&"function"!=typeof e.scrollDefault){var n=e.scrollDefault;e.scrollDefault=function(){return e.roundingFunction(t.time2int(n),e)}}else e.minTime&&(e.scrollDefault=function(){return e.roundingFunction(e.minTime,e)});if("string"==typeof e.timeFormat&&e.timeFormat.match(/[gh]/)&&(e._twelveHourTime=!0),!1===e.showOnFocus&&-1!=e.showOn.indexOf("focus")&&e.showOn.splice(e.showOn.indexOf("focus"),1),e.disableTimeRanges||(e.disableTimeRanges=[]),e.disableTimeRanges.length>0){for(var i in e.disableTimeRanges)e.disableTimeRanges[i]=[this.time2int(e.disableTimeRanges[i][0]),this.time2int(e.disableTimeRanges[i][1])];for(e.disableTimeRanges=e.disableTimeRanges.sort((function(e,t){return e[0]-t[0]})),i=e.disableTimeRanges.length-1;i>0;i--)e.disableTimeRanges[i][0]<=e.disableTimeRanges[i-1][1]&&(e.disableTimeRanges[i-1]=[Math.min(e.disableTimeRanges[i][0],e.disableTimeRanges[i-1][0]),Math.max(e.disableTimeRanges[i][1],e.disableTimeRanges[i-1][1])],e.disableTimeRanges.splice(i,1))}return e}},{key:"_disableTextInputHandler",value:function(e){switch(e.keyCode){case 13:case 9:return;default:e.preventDefault()}}},{key:"_int2duration",value:function(e,t){e=Math.abs(e);var n,i,o=Math.round(e/60),a=[];return o<60?a=[o,this.settings.lang.mins]:(n=Math.floor(o/60),i=o%60,30==t&&30==i&&(n+=this.settings.lang.decimal+5),a.push(n),a.push(1==n?this.settings.lang.hr:this.settings.lang.hrs),30!=t&&i&&(a.push(i),a.push(this.settings.lang.mins))),a.join(" ")}},{key:"_roundAndFormatTime",value:function(e){if(null!==(e=this.settings.roundingFunction(e,this.settings)))return this._int2time(e)}},{key:"_int2time",value:function(e){if("number"!=typeof e)return null;var t=parseInt(e%60),n=parseInt(e/60%60),i=parseInt(e/3600%24),o=new Date(1970,0,2,i,n,t,0);if(isNaN(o.getTime()))return null;if("function"==typeof this.settings.timeFormat)return this.settings.timeFormat(o);for(var a,r,l="",c=0;c<this.settings.timeFormat.length;c++)switch(r=this.settings.timeFormat.charAt(c)){case"a":l+=o.getHours()>11?this.settings.lang.pm:this.settings.lang.am;break;case"A":l+=o.getHours()>11?this.settings.lang.PM:this.settings.lang.AM;break;case"g":l+=0==(a=o.getHours()%12)?"12":a;break;case"G":a=o.getHours(),e===s&&(a=this.settings.show2400?24:0),l+=a;break;case"h":0!=(a=o.getHours()%12)&&a<10&&(a="0"+a),l+=0===a?"12":a;break;case"H":a=o.getHours(),e===s&&(a=this.settings.show2400?24:0),l+=a>9?a:"0"+a;break;case"i":l+=(n=o.getMinutes())>9?n:"0"+n;break;case"s":l+=(t=o.getSeconds())>9?t:"0"+t;break;case"\\":c++,l+=this.settings.timeFormat.charAt(c);break;default:l+=r}return l}},{key:"_setSelected",value:function(){var e=this.list;e.find("li").removeClass("ui-em_timepicker-selected");var t=this.time2int(this._getTimeValue());if(null!==t){var n=this._findRow(t);if(n){var i=n.getBoundingClientRect(),o=e.get(0).getBoundingClientRect(),a=i.top-o.top;if(a+i.height>o.height||a<0){var r=e.scrollTop()+(i.top-o.top)-i.height;e.scrollTop(r)}var s=Number.parseInt(n.dataset.time);(this.settings.forceRoundTime||s===t)&&n.classList.add("ui-em_timepicker-selected")}}}},{key:"_isFocused",value:function(e){return e===document.activeElement}},{key:"_handleFormatValue",value:function(e){e&&"em_timepicker"==e.detail||this._formatValue(e)}},{key:"_formatValue",value:function(e,t){if(""!==this.targetEl.value){if(!this._isFocused(this.targetEl)||e&&"change"==e.type){var n=this.settings,i=this.time2int(this.targetEl.value);if(null!==i){var o=!1;null!==n.minTime&&null!==n.maxTime&&(i<n.minTime||i>n.maxTime)&&(o=!0);var a,s=r(n.disableTimeRanges);try{for(s.s();!(a=s.n()).done;){var l=a.value;if(i>=l[0]&&i<l[1]){o=!0;break}}}catch(e){s.e(e)}finally{s.f()}if(n.forceRoundTime){var c=n.roundingFunction(i,n);c!=i&&(i=c,t=null)}var d=this._int2time(i);if(o){this._setTimeValue(d);var u=new CustomEvent("timeRangeError");this.targetEl.dispatchEvent(u)}else this._setTimeValue(d,t)}else{var p=new CustomEvent("timeFormatError");this.targetEl.dispatchEvent(p)}}}else this._setTimeValue(null,t)}},{key:"_generateNoneElement",value:function(t,n){var i,o,a,r;return"object"==e(t)?(i=t.label,o=t.className,a=t.value):"string"==typeof t?(i=t,a=""):$.error("Invalid noneOption value"),n?(r=document.createElement("option")).value=a:(r=document.createElement("li")).dataset.time=String(a),r.innerText=i,r.classList.add(o),r}},{key:"_handleKeyUp",value:function(e){if(!this.list||!n.isVisible(this.list)||this.settings.disableTextInput)return!0;if("paste"!==e.type&&"cut"!==e.type)switch(e.keyCode){case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 65:case 77:case 80:case 186:case 8:case 46:this.settings.typeaheadHighlight?this._setSelected():this.list.hide()}else setTimeout((function(){this.settings.typeaheadHighlight?this._setSelected():this.list.hide()}),0)}}])&&t(i.prototype,a),l&&t(i,l),n}();c=function(t){var n={init:function(e){return this.each((function(){var o=t(this),r=new p(this,e),s=r.settings;if(s.lang,this.em_timepickerObj=r,o.addClass("ui-em_timepicker-input"),s.useSelect)i(o);else{if(o.prop("autocomplete","off"),s.showOn)for(var l in s.showOn)o.on(s.showOn[l]+".em_timepicker",n.show);o.on("change.em_timepicker",r._handleFormatValue),o.on("keydown.em_timepicker",a),o.on("keyup.em_timepicker",r._handleKeyUp),s.disableTextInput&&o.on("keydown.em_timepicker",r._disableTextInputHandler),o.on("cut.em_timepicker",r._handleKeyUp),o.on("paste.em_timepicker",r._handleKeyUp),r._formatValue(null,"initial")}}))},show:function(e){var n=t(this),a=n[0].em_timepickerObj,r=a.settings;if(e&&e.preventDefault(),r.useSelect)a.list.trigger("focus");else{a._hideKeyboard()&&n.trigger("blur");var s=a.list;if(!n.prop("readonly")&&(s&&0!==s.length&&"function"!=typeof r.durationTime||(i(n),s=a.list),!p.isVisible(s))){n.is("input")&&(a.selectedValue=n.val()),a._setSelected(),p.hideAll(),"number"==typeof r.listWidth&&s.width(n.outerWidth()*r.listWidth),s.show();var l={};r.orientation.match(/r/)?l.left=n.offset().left+n.outerWidth()-s.outerWidth()+parseInt(s.css("marginLeft").replace("px",""),10):r.orientation.match(/l/)?l.left=n.offset().left+parseInt(s.css("marginLeft").replace("px",""),10):r.orientation.match(/c/)&&(l.left=n.offset().left+(n.outerWidth()-s.outerWidth())/2+parseInt(s.css("marginLeft").replace("px",""),10)),"t"==(r.orientation.match(/t/)?"t":r.orientation.match(/b/)?"b":n.offset().top+n.outerHeight(!0)+s.outerHeight()>t(window).height()+t(window).scrollTop()?"t":"b")?(s.addClass("ui-em_timepicker-positioned-top"),l.top=n.offset().top-s.outerHeight()+parseInt(s.css("marginTop").replace("px",""),10)):(s.removeClass("ui-em_timepicker-positioned-top"),l.top=n.offset().top+n.outerHeight()+parseInt(s.css("marginTop").replace("px",""),10)),s.offset(l);var c=s.find(".ui-em_timepicker-selected");if(!c.length){var d=a.time2int(a._getTimeValue());null!==d?c=t(a._findRow(d)):r.scrollDefault&&(c=t(a._findRow(r.scrollDefault())))}if(c.length&&!c.hasClass("ui-em_timepicker-disabled")||(c=s.find("li:not(.ui-em_timepicker-disabled):first")),c&&c.length){var u=s.scrollTop()+c.position().top-c.outerHeight();s.scrollTop(u)}else s.scrollTop(0);return r.stopScrollPropagation&&t(document).on("wheel.ui-em_timepicker",".ui-em_timepicker-wrapper",(function(e){e.preventDefault();var n=t(this).scrollTop();t(this).scrollTop(n+e.originalEvent.deltaY)})),t(document).on("mousedown.ui-em_timepicker",o),t(window).on("resize.ui-em_timepicker",o),r.closeOnWindowScroll&&t(document).on("scroll.ui-em_timepicker",o),n.trigger("showTimepicker"),this}}},hide:function(e){var t=this[0].em_timepickerObj;return t&&t.hideMe(),p.hideAll(),this},option:function(n,o){return"string"==typeof n&&void 0===o?this[0].em_timepickerObj.settings[n]:this.each((function(){var a=t(this),r=a[0].em_timepickerObj,s=r.settings,l=r.list;"object"==e(n)?s=t.extend(s,n):"string"==typeof n&&(s[n]=o),s=r.parseSettings(s),r.settings=s,r._formatValue({type:"change"},"initial"),l&&(l.remove(),r.list=null),s.useSelect&&i(a)}))},getSecondsFromMidnight:function(){var e=this[0].em_timepickerObj;return e.time2int(e._getTimeValue())},getTime:function(e){var t=this[0].em_timepickerObj,n=t._getTimeValue();if(!n)return null;var i=t.time2int(n);if(null===i)return null;e||(e=new Date);var o=new Date(e);return o.setHours(i/3600),o.setMinutes(i%3600/60),o.setSeconds(i%60),o.setMilliseconds(0),o},isVisible:function(){var e=this[0].em_timepickerObj;return!!(e&&e.list&&p.isVisible(e.list))},setTime:function(e){var t=this[0].em_timepickerObj,n=t.settings;if(n.forceRoundTime)var i=t._roundAndFormatTime(t.time2int(e));else i=t._int2time(t.time2int(e));return e&&null===i&&n.noneOption&&(i=e),t._setTimeValue(i,"initial"),t._formatValue({type:"change"},"initial"),t&&t.list&&t._setSelected(),this},remove:function(){var e=this;if(e.hasClass("ui-em_timepicker-input")){var t=e[0].em_timepickerObj,n=t.settings;return e.removeAttr("autocomplete","off"),e.removeClass("ui-em_timepicker-input"),e.removeData("em_timepicker-obj"),e.off(".em_timepicker"),t.list&&t.list.remove(),n.useSelect&&e.show(),t.list=null,this}}};function i(e){var i=e[0].em_timepickerObj,o=i.list,a=i.settings;if(o&&o.length&&(o.remove(),i.list=null),a.useSelect){o=t("<select></select>",{class:"ui-em_timepicker-select"}),e.attr("name")&&o.attr("name","ui-em_timepicker-"+e.attr("name"));var r=o}else o=t("<ul></ul>",{class:"ui-em_timepicker-list"}),(r=t("<div></div>",{class:"ui-em_timepicker-wrapper",tabindex:-1})).css({display:"none",position:"absolute"}).append(o);if(a.noneOption)if(!0===a.noneOption&&(a.noneOption=a.useSelect?"Time...":"None"),t.isArray(a.noneOption)){for(var c in a.noneOption)if(parseInt(c,10)==c){var d=i._generateNoneElement(a.noneOption[c],a.useSelect);o.append(d)}}else d=i._generateNoneElement(a.noneOption,a.useSelect),o.append(d);a.className&&r.addClass(a.className),null===a.minTime&&null===a.durationTime||!a.showDuration||("function"==typeof a.step||a.step,r.addClass("ui-em_timepicker-with-duration"),r.addClass("ui-em_timepicker-step-"+a.step));var u=a.minTime;"function"==typeof a.durationTime?u=i.time2int(a.durationTime()):null!==a.durationTime&&(u=a.durationTime);var p=null!==a.minTime?a.minTime:0,f=null!==a.maxTime?a.maxTime:p+s-1;f<p&&(f+=s),f===s-1&&"string"===t.type(a.timeFormat)&&a.show2400&&(f=s);var m=a.disableTimeRanges,h=0,g=m.length,v=a.step;"function"!=typeof v&&(v=function(){return a.step}),c=p;for(var y=0;c<=f;c+=60*v(++y)){var b,w=c,_=i._int2time(w);if(a.useSelect?(b=t("<option></option>",{value:_})).text(_):((b=t("<li></li>")).addClass(w%s<s/2?"ui-em_timepicker-am":"ui-em_timepicker-pm"),b.attr("data-time",l(w,a)),b.text(_)),(null!==a.minTime||null!==a.durationTime)&&a.showDuration){var k=i._int2duration(c-u,a.step);if(a.useSelect)b.text(b.text()+" ("+k+")");else{var x=t("<span></span>",{class:"ui-em_timepicker-duration"});x.text(" ("+k+")"),b.append(x)}}h<g&&(w>=m[h][1]&&(h+=1),m[h]&&w>=m[h][0]&&w<m[h][1]&&(a.useSelect?b.prop("disabled",!0):b.addClass("ui-em_timepicker-disabled"))),o.append(b)}if(r.data("em_timepicker-input",e),i.list=r,a.useSelect)e.val()&&o.val(i._roundAndFormatTime(i.time2int(e.val()))),o.on("focus",(function(){t(this).data("em_timepicker-input").trigger("showTimepicker")})),o.on("blur",(function(){t(this).data("em_timepicker-input").trigger("hideTimepicker")})),o.on("change",(function(){i._setTimeValue(t(this).val(),"select")})),i._setTimeValue(o.val(),"initial"),e.hide().after(o);else{var C=a.appendTo;"string"==typeof C?C=t(C):"function"==typeof C&&(C=C(e)),C.append(r),i._setSelected(),o.on("mousedown click","li",(function(a){e.off("focus.em_timepicker"),e.on("focus.em_timepicker-ie-hack",(function(){e.off("focus.em_timepicker-ie-hack"),e.on("focus.em_timepicker",n.show)})),i._hideKeyboard()||e[0].focus(),o.find("li").removeClass("ui-em_timepicker-selected"),t(this).addClass("ui-em_timepicker-selected"),i._selectValue()&&(e.trigger("hideTimepicker"),o.on("mouseup.em_timepicker click.em_timepicker","li",(function(e){o.off("mouseup.em_timepicker click.em_timepicker"),r.hide()})))}))}}function o(e){if(e.target!=window){var n=t(e.target);n.closest(".ui-em_timepicker-input").length||n.closest(".ui-em_timepicker-wrapper").length||(p.hideAll(),t(document).off(".ui-em_timepicker"),t(window).off(".ui-em_timepicker"))}}function a(e){var i=t(this),o=i[0].em_timepickerObj,a=o.list;if(!a||!p.isVisible(a)){if(40!=e.keyCode)return!0;n.show.call(i.get(0)),a=o.list,o._hideKeyboard()||i.trigger("focus")}switch(e.keyCode){case 13:return o._selectValue()&&(o._formatValue({type:"change"}),o.hideMe()),e.preventDefault(),!1;case 38:var r=a.find(".ui-em_timepicker-selected");return r.length?r.is(":first-child")||(r.removeClass("ui-em_timepicker-selected"),r.prev().addClass("ui-em_timepicker-selected"),r.prev().position().top<r.outerHeight()&&a.scrollTop(a.scrollTop()-r.outerHeight())):(a.find("li").each((function(e,n){if(t(n).position().top>0)return r=t(n),!1})),r.addClass("ui-em_timepicker-selected")),!1;case 40:return 0===(r=a.find(".ui-em_timepicker-selected")).length?(a.find("li").each((function(e,n){if(t(n).position().top>0)return r=t(n),!1})),r.addClass("ui-em_timepicker-selected")):r.is(":last-child")||(r.removeClass("ui-em_timepicker-selected"),r.next().addClass("ui-em_timepicker-selected"),r.next().position().top+2*r.outerHeight()>a.outerHeight()&&a.scrollTop(a.scrollTop()+r.outerHeight())),!1;case 27:a.find("li").removeClass("ui-em_timepicker-selected"),o.hideMe();break;case 9:o.hideMe();break;default:return!0}}t.fn.em_timepicker=function(i){return this.length?n[i]?this.hasClass("ui-em_timepicker-input")?n[i].apply(this,Array.prototype.slice.call(arguments,1)):this:"object"!==e(i)&&i?void t.error("Method "+i+" does not exist on jQuery.em_timepicker"):n.init.apply(this,arguments):this},t.fn.em_timepicker.defaults=d},"object"===("undefined"==typeof exports?"undefined":e(exports))&&exports&&"object"===("undefined"==typeof module?"undefined":e(module))&&module&&module.exports===exports?c(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],c):c(jQuery)}(),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).flatpickr=t()}(this,(function(){"use strict";var e=function(){return(e=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function t(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),o=0;for(t=0;t<n;t++)for(var a=arguments[t],r=0,s=a.length;r<s;r++,o++)i[o]=a[r];return i}var n=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],i={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:"object"==typeof window&&-1===window.navigator.userAgent.indexOf("MSIE"),ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(e){return"undefined"!=typeof console&&console.warn(e)},getWeek:function(e){var t=new Date(e.getTime());t.setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7);var n=new Date(t.getFullYear(),0,4);return 1+Math.round(((t.getTime()-n.getTime())/864e5-3+(n.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},o={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(e){var t=e%100;if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},a=function(e,t){return void 0===t&&(t=2),("000"+e).slice(-1*t)},r=function(e){return!0===e?1:0};function s(e,t){var n;return function(){var i=this,o=arguments;clearTimeout(n),n=setTimeout((function(){return e.apply(i,o)}),t)}}var l=function(e){return e instanceof Array?e:[e]};function c(e,t,n){if(!0===n)return e.classList.add(t);e.classList.remove(t)}function d(e,t,n){var i=window.document.createElement(e);return t=t||"",n=n||"",i.className=t,void 0!==n&&(i.textContent=n),i}function u(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function p(e,t){return t(e)?e:e.parentNode?p(e.parentNode,t):void 0}function f(e,t){var n=d("div","numInputWrapper"),i=d("input","numInput "+e),o=d("span","arrowUp"),a=d("span","arrowDown");if(-1===navigator.userAgent.indexOf("MSIE 9.0")?i.type="number":(i.type="text",i.pattern="\\d*"),void 0!==t)for(var r in t)i.setAttribute(r,t[r]);return n.appendChild(i),n.appendChild(o),n.appendChild(a),n}function m(e){try{return"function"==typeof e.composedPath?e.composedPath()[0]:e.target}catch(t){return e.target}}var h=function(){},g=function(e,t,n){return n.months[t?"shorthand":"longhand"][e]},v={D:h,F:function(e,t,n){e.setMonth(n.months.longhand.indexOf(t))},G:function(e,t){e.setHours((e.getHours()>=12?12:0)+parseFloat(t))},H:function(e,t){e.setHours(parseFloat(t))},J:function(e,t){e.setDate(parseFloat(t))},K:function(e,t,n){e.setHours(e.getHours()%12+12*r(new RegExp(n.amPM[1],"i").test(t)))},M:function(e,t,n){e.setMonth(n.months.shorthand.indexOf(t))},S:function(e,t){e.setSeconds(parseFloat(t))},U:function(e,t){return new Date(1e3*parseFloat(t))},W:function(e,t,n){var i=parseInt(t),o=new Date(e.getFullYear(),0,2+7*(i-1),0,0,0,0);return o.setDate(o.getDate()-o.getDay()+n.firstDayOfWeek),o},Y:function(e,t){e.setFullYear(parseFloat(t))},Z:function(e,t){return new Date(t)},d:function(e,t){e.setDate(parseFloat(t))},h:function(e,t){e.setHours((e.getHours()>=12?12:0)+parseFloat(t))},i:function(e,t){e.setMinutes(parseFloat(t))},j:function(e,t){e.setDate(parseFloat(t))},l:h,m:function(e,t){e.setMonth(parseFloat(t)-1)},n:function(e,t){e.setMonth(parseFloat(t)-1)},s:function(e,t){e.setSeconds(parseFloat(t))},u:function(e,t){return new Date(parseFloat(t))},w:h,y:function(e,t){e.setFullYear(2e3+parseFloat(t))}},y={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},b={Z:function(e){return e.toISOString()},D:function(e,t,n){return t.weekdays.shorthand[b.w(e,t,n)]},F:function(e,t,n){return g(b.n(e,t,n)-1,!1,t)},G:function(e,t,n){return a(b.h(e,t,n))},H:function(e){return a(e.getHours())},J:function(e,t){return void 0!==t.ordinal?e.getDate()+t.ordinal(e.getDate()):e.getDate()},K:function(e,t){return t.amPM[r(e.getHours()>11)]},M:function(e,t){return g(e.getMonth(),!0,t)},S:function(e){return a(e.getSeconds())},U:function(e){return e.getTime()/1e3},W:function(e,t,n){return n.getWeek(e)},Y:function(e){return a(e.getFullYear(),4)},d:function(e){return a(e.getDate())},h:function(e){return e.getHours()%12?e.getHours()%12:12},i:function(e){return a(e.getMinutes())},j:function(e){return e.getDate()},l:function(e,t){return t.weekdays.longhand[e.getDay()]},m:function(e){return a(e.getMonth()+1)},n:function(e){return e.getMonth()+1},s:function(e){return e.getSeconds()},u:function(e){return e.getTime()},w:function(e){return e.getDay()},y:function(e){return String(e.getFullYear()).substring(2)}},w=function(e){var t=e.config,n=void 0===t?i:t,a=e.l10n,r=void 0===a?o:a,s=e.isMobile,l=void 0!==s&&s;return function(e,t,i){var o=i||r;return void 0===n.formatDate||l?t.split("").map((function(t,i,a){return b[t]&&"\\"!==a[i-1]?b[t](e,o,n):"\\"!==t?t:""})).join(""):n.formatDate(e,t,o)}},_=function(e){var t=e.config,n=void 0===t?i:t,a=e.l10n,r=void 0===a?o:a;return function(e,t,o,a){if(0===e||e){var s,l=a||r,c=e;if(e instanceof Date)s=new Date(e.getTime());else if("string"!=typeof e&&void 0!==e.toFixed)s=new Date(e);else if("string"==typeof e){var d=t||(n||i).dateFormat,u=String(e).trim();if("today"===u)s=new Date,o=!0;else if(n&&n.parseDate)s=n.parseDate(e,d);else if(/Z$/.test(u)||/GMT$/.test(u))s=new Date(e);else{for(var p=void 0,f=[],m=0,h=0,g="";m<d.length;m++){var b=d[m],w="\\"===b,_="\\"===d[m-1]||w;if(y[b]&&!_){g+=y[b];var k=new RegExp(g).exec(e);k&&(p=!0)&&f["Y"!==b?"push":"unshift"]({fn:v[b],val:k[++h]})}else w||(g+=".")}s=n&&n.noCalendar?new Date((new Date).setHours(0,0,0,0)):new Date((new Date).getFullYear(),0,1,0,0,0,0),f.forEach((function(e){var t=e.fn,n=e.val;return s=t(s,n,l)||s})),s=p?s:void 0}}if(s instanceof Date&&!isNaN(s.getTime()))return!0===o&&s.setHours(0,0,0,0),s;n.errorHandler(new Error("Invalid date provided: "+c))}}};function k(e,t,n){return void 0===n&&(n=!0),!1!==n?new Date(e.getTime()).setHours(0,0,0,0)-new Date(t.getTime()).setHours(0,0,0,0):e.getTime()-t.getTime()}var x=function(e,t,n){return 3600*e+60*t+n},C=864e5;function D(e){var t=e.defaultHour,n=e.defaultMinute,i=e.defaultSeconds;if(void 0!==e.minDate){var o=e.minDate.getHours(),a=e.minDate.getMinutes(),r=e.minDate.getSeconds();t<o&&(t=o),t===o&&n<a&&(n=a),t===o&&n===a&&i<r&&(i=e.minDate.getSeconds())}if(void 0!==e.maxDate){var s=e.maxDate.getHours(),l=e.maxDate.getMinutes();(t=Math.min(t,s))===s&&(n=Math.min(l,n)),t===s&&n===l&&(i=e.maxDate.getSeconds())}return{hours:t,minutes:n,seconds:i}}function O(h,v){var b={config:e(e({},i),E.defaultConfig),l10n:o};function O(){var e;return(null===(e=b.calendarContainer)||void 0===e?void 0:e.getRootNode()).activeElement||document.activeElement}function M(e){return e.bind(b)}function T(){var e=b.config;!1===e.weekNumbers&&1===e.showMonths||!0!==e.noCalendar&&window.requestAnimationFrame((function(){if(void 0!==b.calendarContainer&&(b.calendarContainer.style.visibility="hidden",b.calendarContainer.style.display="block"),void 0!==b.daysContainer){var t=(b.days.offsetWidth+1)*e.showMonths;b.daysContainer.style.width=t+"px",b.calendarContainer.style.width=t+(void 0!==b.weekWrapper?b.weekWrapper.offsetWidth:0)+"px",b.calendarContainer.style.removeProperty("visibility"),b.calendarContainer.style.removeProperty("display")}}))}function j(e){if(0===b.selectedDates.length){var t=void 0===b.config.minDate||k(new Date,b.config.minDate)>=0?new Date:new Date(b.config.minDate.getTime()),n=D(b.config);t.setHours(n.hours,n.minutes,n.seconds,t.getMilliseconds()),b.selectedDates=[t],b.latestSelectedDateObj=t}void 0!==e&&"blur"!==e.type&&function(e){e.preventDefault();var t="keydown"===e.type,n=m(e),i=n;void 0!==b.amPM&&n===b.amPM&&(b.amPM.textContent=b.l10n.amPM[r(b.amPM.textContent===b.l10n.amPM[0])]);var o=parseFloat(i.getAttribute("min")),s=parseFloat(i.getAttribute("max")),l=parseFloat(i.getAttribute("step")),c=parseInt(i.value,10),d=c+l*(e.delta||(t?38===e.which?1:-1:0));if(void 0!==i.value&&2===i.value.length){var u=i===b.hourElement,p=i===b.minuteElement;d<o?(d=s+d+r(!u)+(r(u)&&r(!b.amPM)),p&&N(void 0,-1,b.hourElement)):d>s&&(d=i===b.hourElement?d-s-r(!b.amPM):o,p&&N(void 0,1,b.hourElement)),b.amPM&&u&&(1===l?d+c===23:Math.abs(d-c)>l)&&(b.amPM.textContent=b.l10n.amPM[r(b.amPM.textContent===b.l10n.amPM[0])]),i.value=a(d)}}(e);var i=b._input.value;S(),xe(),b._input.value!==i&&b._debouncedChange()}function S(){if(void 0!==b.hourElement&&void 0!==b.minuteElement){var e,t,n=(parseInt(b.hourElement.value.slice(-2),10)||0)%24,i=(parseInt(b.minuteElement.value,10)||0)%60,o=void 0!==b.secondElement?(parseInt(b.secondElement.value,10)||0)%60:0;void 0!==b.amPM&&(e=n,t=b.amPM.textContent,n=e%12+12*r(t===b.l10n.amPM[1]));var a=void 0!==b.config.minTime||b.config.minDate&&b.minDateHasTime&&b.latestSelectedDateObj&&0===k(b.latestSelectedDateObj,b.config.minDate,!0),s=void 0!==b.config.maxTime||b.config.maxDate&&b.maxDateHasTime&&b.latestSelectedDateObj&&0===k(b.latestSelectedDateObj,b.config.maxDate,!0);if(void 0!==b.config.maxTime&&void 0!==b.config.minTime&&b.config.minTime>b.config.maxTime){var l=x(b.config.minTime.getHours(),b.config.minTime.getMinutes(),b.config.minTime.getSeconds()),c=x(b.config.maxTime.getHours(),b.config.maxTime.getMinutes(),b.config.maxTime.getSeconds()),d=x(n,i,o);if(d>c&&d<l){var u=function(e){var t=Math.floor(e/3600),n=(e-3600*t)/60;return[t,n,e-3600*t-60*n]}(l);n=u[0],i=u[1],o=u[2]}}else{if(s){var p=void 0!==b.config.maxTime?b.config.maxTime:b.config.maxDate;(n=Math.min(n,p.getHours()))===p.getHours()&&(i=Math.min(i,p.getMinutes())),i===p.getMinutes()&&(o=Math.min(o,p.getSeconds()))}if(a){var f=void 0!==b.config.minTime?b.config.minTime:b.config.minDate;(n=Math.max(n,f.getHours()))===f.getHours()&&i<f.getMinutes()&&(i=f.getMinutes()),i===f.getMinutes()&&(o=Math.max(o,f.getSeconds()))}}I(n,i,o)}}function A(e){var t=e||b.latestSelectedDateObj;t&&t instanceof Date&&I(t.getHours(),t.getMinutes(),t.getSeconds())}function I(e,t,n){void 0!==b.latestSelectedDateObj&&b.latestSelectedDateObj.setHours(e%24,t,n||0,0),b.hourElement&&b.minuteElement&&!b.isMobile&&(b.hourElement.value=a(b.config.time_24hr?e:(12+e)%12+12*r(e%12==0)),b.minuteElement.value=a(t),void 0!==b.amPM&&(b.amPM.textContent=b.l10n.amPM[r(e>=12)]),void 0!==b.secondElement&&(b.secondElement.value=a(n)))}function F(e){var t=m(e),n=parseInt(t.value)+(e.delta||0);(n/1e3>1||"Enter"===e.key&&!/[^\d]/.test(n.toString()))&&ee(n)}function P(e,t,n,i){return t instanceof Array?t.forEach((function(t){return P(e,t,n,i)})):e instanceof Array?e.forEach((function(e){return P(e,t,n,i)})):(e.addEventListener(t,n,i),void b._handlers.push({remove:function(){return e.removeEventListener(t,n,i)}}))}function L(){ye("onChange")}function H(e,t){var n=void 0!==e?b.parseDate(e):b.latestSelectedDateObj||(b.config.minDate&&b.config.minDate>b.now?b.config.minDate:b.config.maxDate&&b.config.maxDate<b.now?b.config.maxDate:b.now),i=b.currentYear,o=b.currentMonth;try{void 0!==n&&(b.currentYear=n.getFullYear(),b.currentMonth=n.getMonth())}catch(e){e.message="Invalid date supplied: "+n,b.config.errorHandler(e)}t&&b.currentYear!==i&&(ye("onYearChange"),q()),!t||b.currentYear===i&&b.currentMonth===o||ye("onMonthChange"),b.redraw()}function $(e){var t=m(e);~t.className.indexOf("arrow")&&N(e,t.classList.contains("arrowUp")?1:-1)}function N(e,t,n){var i=e&&m(e),o=n||i&&i.parentNode&&i.parentNode.firstChild,a=be("increment");a.delta=t,o&&o.dispatchEvent(a)}function Q(e,t,n,i){var o=te(t,!0),a=d("span",e,t.getDate().toString());return a.dateObj=t,a.$i=i,a.setAttribute("aria-label",b.formatDate(t,b.config.ariaDateFormat)),-1===e.indexOf("hidden")&&0===k(t,b.now)&&(b.todayDateElem=a,a.classList.add("today"),a.setAttribute("aria-current","date")),o?(a.tabIndex=-1,we(t)&&(a.classList.add("selected"),b.selectedDateElem=a,"range"===b.config.mode&&(c(a,"startRange",b.selectedDates[0]&&0===k(t,b.selectedDates[0],!0)),c(a,"endRange",b.selectedDates[1]&&0===k(t,b.selectedDates[1],!0)),"nextMonthDay"===e&&a.classList.add("inRange")))):a.classList.add("flatpickr-disabled"),"range"===b.config.mode&&function(e){return!("range"!==b.config.mode||b.selectedDates.length<2)&&k(e,b.selectedDates[0])>=0&&k(e,b.selectedDates[1])<=0}(t)&&!we(t)&&a.classList.add("inRange"),b.weekNumbers&&1===b.config.showMonths&&"prevMonthDay"!==e&&i%7==6&&b.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+b.config.getWeek(t)+"</span>"),ye("onDayCreate",a),a}function z(e){e.focus(),"range"===b.config.mode&&ae(e)}function R(e){for(var t=e>0?0:b.config.showMonths-1,n=e>0?b.config.showMonths:-1,i=t;i!=n;i+=e)for(var o=b.daysContainer.children[i],a=e>0?0:o.children.length-1,r=e>0?o.children.length:-1,s=a;s!=r;s+=e){var l=o.children[s];if(-1===l.className.indexOf("hidden")&&te(l.dateObj))return l}}function V(e,t){var n=O(),i=ne(n||document.body),o=void 0!==e?e:i?n:void 0!==b.selectedDateElem&&ne(b.selectedDateElem)?b.selectedDateElem:void 0!==b.todayDateElem&&ne(b.todayDateElem)?b.todayDateElem:R(t>0?1:-1);void 0===o?b._input.focus():i?function(e,t){for(var n=-1===e.className.indexOf("Month")?e.dateObj.getMonth():b.currentMonth,i=t>0?b.config.showMonths:-1,o=t>0?1:-1,a=n-b.currentMonth;a!=i;a+=o)for(var r=b.daysContainer.children[a],s=n-b.currentMonth===a?e.$i+t:t<0?r.children.length-1:0,l=r.children.length,c=s;c>=0&&c<l&&c!=(t>0?l:-1);c+=o){var d=r.children[c];if(-1===d.className.indexOf("hidden")&&te(d.dateObj)&&Math.abs(e.$i-c)>=Math.abs(t))return z(d)}b.changeMonth(o),V(R(o),0)}(o,t):z(o)}function Y(e,t){for(var n=(new Date(e,t,1).getDay()-b.l10n.firstDayOfWeek+7)%7,i=b.utils.getDaysInMonth((t-1+12)%12,e),o=b.utils.getDaysInMonth(t,e),a=window.document.createDocumentFragment(),r=b.config.showMonths>1,s=r?"prevMonthDay hidden":"prevMonthDay",l=r?"nextMonthDay hidden":"nextMonthDay",c=i+1-n,u=0;c<=i;c++,u++)a.appendChild(Q("flatpickr-day "+s,new Date(e,t-1,c),0,u));for(c=1;c<=o;c++,u++)a.appendChild(Q("flatpickr-day",new Date(e,t,c),0,u));for(var p=o+1;p<=42-n&&(1===b.config.showMonths||u%7!=0);p++,u++)a.appendChild(Q("flatpickr-day "+l,new Date(e,t+1,p%o),0,u));var f=d("div","dayContainer");return f.appendChild(a),f}function W(){if(void 0!==b.daysContainer){u(b.daysContainer),b.weekNumbers&&u(b.weekNumbers);for(var e=document.createDocumentFragment(),t=0;t<b.config.showMonths;t++){var n=new Date(b.currentYear,b.currentMonth,1);n.setMonth(b.currentMonth+t),e.appendChild(Y(n.getFullYear(),n.getMonth()))}b.daysContainer.appendChild(e),b.days=b.daysContainer.firstChild,"range"===b.config.mode&&1===b.selectedDates.length&&ae()}}function q(){if(!(b.config.showMonths>1||"dropdown"!==b.config.monthSelectorType)){var e=function(e){return!(void 0!==b.config.minDate&&b.currentYear===b.config.minDate.getFullYear()&&e<b.config.minDate.getMonth()||void 0!==b.config.maxDate&&b.currentYear===b.config.maxDate.getFullYear()&&e>b.config.maxDate.getMonth())};b.monthsDropdownContainer.tabIndex=-1,b.monthsDropdownContainer.innerHTML="";for(var t=0;t<12;t++)if(e(t)){var n=d("option","flatpickr-monthDropdown-month");n.value=new Date(b.currentYear,t).getMonth().toString(),n.textContent=g(t,b.config.shorthandCurrentMonth,b.l10n),n.tabIndex=-1,b.currentMonth===t&&(n.selected=!0),b.monthsDropdownContainer.appendChild(n)}}}function B(){var e,t=d("div","flatpickr-month"),n=window.document.createDocumentFragment();b.config.showMonths>1||"static"===b.config.monthSelectorType?e=d("span","cur-month"):(b.monthsDropdownContainer=d("select","flatpickr-monthDropdown-months"),b.monthsDropdownContainer.setAttribute("aria-label",b.l10n.monthAriaLabel),P(b.monthsDropdownContainer,"change",(function(e){var t=m(e),n=parseInt(t.value,10);b.changeMonth(n-b.currentMonth),ye("onMonthChange")})),q(),e=b.monthsDropdownContainer);var i=f("cur-year",{tabindex:"-1"}),o=i.getElementsByTagName("input")[0];o.setAttribute("aria-label",b.l10n.yearAriaLabel),b.config.minDate&&o.setAttribute("min",b.config.minDate.getFullYear().toString()),b.config.maxDate&&(o.setAttribute("max",b.config.maxDate.getFullYear().toString()),o.disabled=!!b.config.minDate&&b.config.minDate.getFullYear()===b.config.maxDate.getFullYear());var a=d("div","flatpickr-current-month");return a.appendChild(e),a.appendChild(i),n.appendChild(a),t.appendChild(n),{container:t,yearElement:o,monthElement:e}}function U(){u(b.monthNav),b.monthNav.appendChild(b.prevMonthNav),b.config.showMonths&&(b.yearElements=[],b.monthElements=[]);for(var e=b.config.showMonths;e--;){var t=B();b.yearElements.push(t.yearElement),b.monthElements.push(t.monthElement),b.monthNav.appendChild(t.container)}b.monthNav.appendChild(b.nextMonthNav)}function K(){b.weekdayContainer?u(b.weekdayContainer):b.weekdayContainer=d("div","flatpickr-weekdays");for(var e=b.config.showMonths;e--;){var t=d("div","flatpickr-weekdaycontainer");b.weekdayContainer.appendChild(t)}return J(),b.weekdayContainer}function J(){if(b.weekdayContainer){var e=b.l10n.firstDayOfWeek,n=t(b.l10n.weekdays.shorthand);e>0&&e<n.length&&(n=t(n.splice(e,n.length),n.splice(0,e)));for(var i=b.config.showMonths;i--;)b.weekdayContainer.children[i].innerHTML="\n      <span class='flatpickr-weekday'>\n        "+n.join("</span><span class='flatpickr-weekday'>")+"\n      </span>\n      "}}function G(e,t){void 0===t&&(t=!0);var n=t?e:e-b.currentMonth;n<0&&!0===b._hidePrevMonthArrow||n>0&&!0===b._hideNextMonthArrow||(b.currentMonth+=n,(b.currentMonth<0||b.currentMonth>11)&&(b.currentYear+=b.currentMonth>11?1:-1,b.currentMonth=(b.currentMonth+12)%12,ye("onYearChange"),q()),W(),ye("onMonthChange"),_e())}function X(e){return b.calendarContainer.contains(e)}function Z(e){if(b.isOpen&&!b.config.inline){var t=m(e),n=X(t),i=!(t===b.input||t===b.altInput||b.element.contains(t)||e.path&&e.path.indexOf&&(~e.path.indexOf(b.input)||~e.path.indexOf(b.altInput))||n||X(e.relatedTarget)),o=!b.config.ignoredFocusElements.some((function(e){return e.contains(t)}));i&&o&&(b.config.allowInput&&b.setDate(b._input.value,!1,b.config.altInput?b.config.altFormat:b.config.dateFormat),void 0!==b.timeContainer&&void 0!==b.minuteElement&&void 0!==b.hourElement&&""!==b.input.value&&void 0!==b.input.value&&j(),b.close(),b.config&&"range"===b.config.mode&&1===b.selectedDates.length&&b.clear(!1))}}function ee(e){if(!(!e||b.config.minDate&&e<b.config.minDate.getFullYear()||b.config.maxDate&&e>b.config.maxDate.getFullYear())){var t=e,n=b.currentYear!==t;b.currentYear=t||b.currentYear,b.config.maxDate&&b.currentYear===b.config.maxDate.getFullYear()?b.currentMonth=Math.min(b.config.maxDate.getMonth(),b.currentMonth):b.config.minDate&&b.currentYear===b.config.minDate.getFullYear()&&(b.currentMonth=Math.max(b.config.minDate.getMonth(),b.currentMonth)),n&&(b.redraw(),ye("onYearChange"),q())}}function te(e,t){var n;void 0===t&&(t=!0);var i=b.parseDate(e,void 0,t);if(b.config.minDate&&i&&k(i,b.config.minDate,void 0!==t?t:!b.minDateHasTime)<0||b.config.maxDate&&i&&k(i,b.config.maxDate,void 0!==t?t:!b.maxDateHasTime)>0)return!1;if(!b.config.enable&&0===b.config.disable.length)return!0;if(void 0===i)return!1;for(var o=!!b.config.enable,a=null!==(n=b.config.enable)&&void 0!==n?n:b.config.disable,r=0,s=void 0;r<a.length;r++){if("function"==typeof(s=a[r])&&s(i))return o;if(s instanceof Date&&void 0!==i&&s.getTime()===i.getTime())return o;if("string"==typeof s){var l=b.parseDate(s,void 0,!0);return l&&l.getTime()===i.getTime()?o:!o}if("object"==typeof s&&void 0!==i&&s.from&&s.to&&i.getTime()>=s.from.getTime()&&i.getTime()<=s.to.getTime())return o}return!o}function ne(e){return void 0!==b.daysContainer&&-1===e.className.indexOf("hidden")&&-1===e.className.indexOf("flatpickr-disabled")&&b.daysContainer.contains(e)}function ie(e){var t=e.target===b._input,n=b._input.value.trimEnd()!==ke();!t||!n||e.relatedTarget&&X(e.relatedTarget)||b.setDate(b._input.value,!0,e.target===b.altInput?b.config.altFormat:b.config.dateFormat)}function oe(e){var t=m(e),n=b.config.wrap?h.contains(t):t===b._input,i=b.config.allowInput,o=b.isOpen&&(!i||!n),a=b.config.inline&&n&&!i;if(13===e.keyCode&&n){if(i)return b.setDate(b._input.value,!0,t===b.altInput?b.config.altFormat:b.config.dateFormat),b.close(),t.blur();b.open()}else if(X(t)||o||a){var r=!!b.timeContainer&&b.timeContainer.contains(t);switch(e.keyCode){case 13:r?(e.preventDefault(),j(),pe()):fe(e);break;case 27:e.preventDefault(),pe();break;case 8:case 46:n&&!b.config.allowInput&&(e.preventDefault(),b.clear());break;case 37:case 39:if(r||n)b.hourElement&&b.hourElement.focus();else{e.preventDefault();var s=O();if(void 0!==b.daysContainer&&(!1===i||s&&ne(s))){var l=39===e.keyCode?1:-1;e.ctrlKey?(e.stopPropagation(),G(l),V(R(1),0)):V(void 0,l)}}break;case 38:case 40:e.preventDefault();var c=40===e.keyCode?1:-1;b.daysContainer&&void 0!==t.$i||t===b.input||t===b.altInput?e.ctrlKey?(e.stopPropagation(),ee(b.currentYear-c),V(R(1),0)):r||V(void 0,7*c):t===b.currentYearElement?ee(b.currentYear-c):b.config.enableTime&&(!r&&b.hourElement&&b.hourElement.focus(),j(e),b._debouncedChange());break;case 9:if(r){var d=[b.hourElement,b.minuteElement,b.secondElement,b.amPM].concat(b.pluginElements).filter((function(e){return e})),u=d.indexOf(t);if(-1!==u){var p=d[u+(e.shiftKey?-1:1)];e.preventDefault(),(p||b._input).focus()}}else!b.config.noCalendar&&b.daysContainer&&b.daysContainer.contains(t)&&e.shiftKey&&(e.preventDefault(),b._input.focus())}}if(void 0!==b.amPM&&t===b.amPM)switch(e.key){case b.l10n.amPM[0].charAt(0):case b.l10n.amPM[0].charAt(0).toLowerCase():b.amPM.textContent=b.l10n.amPM[0],S(),xe();break;case b.l10n.amPM[1].charAt(0):case b.l10n.amPM[1].charAt(0).toLowerCase():b.amPM.textContent=b.l10n.amPM[1],S(),xe()}(n||X(t))&&ye("onKeyDown",e)}function ae(e,t){if(void 0===t&&(t="flatpickr-day"),1===b.selectedDates.length&&(!e||e.classList.contains(t)&&!e.classList.contains("flatpickr-disabled"))){for(var n=e?e.dateObj.getTime():b.days.firstElementChild.dateObj.getTime(),i=b.parseDate(b.selectedDates[0],void 0,!0).getTime(),o=Math.min(n,b.selectedDates[0].getTime()),a=Math.max(n,b.selectedDates[0].getTime()),r=!1,s=0,l=0,c=o;c<a;c+=C)te(new Date(c),!0)||(r=r||c>o&&c<a,c<i&&(!s||c>s)?s=c:c>i&&(!l||c<l)&&(l=c));Array.from(b.rContainer.querySelectorAll("*:nth-child(-n+"+b.config.showMonths+") > ."+t)).forEach((function(t){var o,a,c,d=t.dateObj.getTime(),u=s>0&&d<s||l>0&&d>l;if(u)return t.classList.add("notAllowed"),void["inRange","startRange","endRange"].forEach((function(e){t.classList.remove(e)}));r&&!u||(["startRange","inRange","endRange","notAllowed"].forEach((function(e){t.classList.remove(e)})),void 0!==e&&(e.classList.add(n<=b.selectedDates[0].getTime()?"startRange":"endRange"),i<n&&d===i?t.classList.add("startRange"):i>n&&d===i&&t.classList.add("endRange"),d>=s&&(0===l||d<=l)&&(a=i,c=n,(o=d)>Math.min(a,c)&&o<Math.max(a,c))&&t.classList.add("inRange")))}))}}function re(){!b.isOpen||b.config.static||b.config.inline||de()}function se(e){return function(t){var n=b.config["_"+e+"Date"]=b.parseDate(t,b.config.dateFormat),i=b.config["_"+("min"===e?"max":"min")+"Date"];void 0!==n&&(b["min"===e?"minDateHasTime":"maxDateHasTime"]=n.getHours()>0||n.getMinutes()>0||n.getSeconds()>0),b.selectedDates&&(b.selectedDates=b.selectedDates.filter((function(e){return te(e)})),b.selectedDates.length||"min"!==e||A(n),xe()),b.daysContainer&&(ue(),void 0!==n?b.currentYearElement[e]=n.getFullYear().toString():b.currentYearElement.removeAttribute(e),b.currentYearElement.disabled=!!i&&void 0!==n&&i.getFullYear()===n.getFullYear())}}function le(){return b.config.wrap?h.querySelector("[data-input]"):h}function ce(){"object"!=typeof b.config.locale&&void 0===E.l10ns[b.config.locale]&&b.config.errorHandler(new Error("flatpickr: invalid locale "+b.config.locale)),b.l10n=e(e({},E.l10ns.default),"object"==typeof b.config.locale?b.config.locale:"default"!==b.config.locale?E.l10ns[b.config.locale]:void 0),y.D="("+b.l10n.weekdays.shorthand.join("|")+")",y.l="("+b.l10n.weekdays.longhand.join("|")+")",y.M="("+b.l10n.months.shorthand.join("|")+")",y.F="("+b.l10n.months.longhand.join("|")+")",y.K="("+b.l10n.amPM[0]+"|"+b.l10n.amPM[1]+"|"+b.l10n.amPM[0].toLowerCase()+"|"+b.l10n.amPM[1].toLowerCase()+")",void 0===e(e({},v),JSON.parse(JSON.stringify(h.dataset||{}))).time_24hr&&void 0===E.defaultConfig.time_24hr&&(b.config.time_24hr=b.l10n.time_24hr),b.formatDate=w(b),b.parseDate=_({config:b.config,l10n:b.l10n})}function de(e){if("function"!=typeof b.config.position){if(void 0!==b.calendarContainer){ye("onPreCalendarPosition");var t=e||b._positionElement,n=Array.prototype.reduce.call(b.calendarContainer.children,(function(e,t){return e+t.offsetHeight}),0),i=b.calendarContainer.offsetWidth,o=b.config.position.split(" "),a=o[0],r=o.length>1?o[1]:null,s=t.getBoundingClientRect(),l=window.innerHeight-s.bottom,d="above"===a||"below"!==a&&l<n&&s.top>n,u=window.pageYOffset+s.top+(d?-n-2:t.offsetHeight+2);if(c(b.calendarContainer,"arrowTop",!d),c(b.calendarContainer,"arrowBottom",d),!b.config.inline){var p=window.pageXOffset+s.left,f=!1,m=!1;"center"===r?(p-=(i-s.width)/2,f=!0):"right"===r&&(p-=i-s.width,m=!0),c(b.calendarContainer,"arrowLeft",!f&&!m),c(b.calendarContainer,"arrowCenter",f),c(b.calendarContainer,"arrowRight",m);var h=window.document.body.offsetWidth-(window.pageXOffset+s.right),g=p+i>window.document.body.offsetWidth,v=h+i>window.document.body.offsetWidth;if(c(b.calendarContainer,"rightMost",g),!b.config.static)if(b.calendarContainer.style.top=u+"px",g)if(v){var y=function(){for(var e=null,t=0;t<document.styleSheets.length;t++){var n=document.styleSheets[t];if(n.cssRules){try{n.cssRules}catch(e){continue}e=n;break}}return null!=e?e:(i=document.createElement("style"),document.head.appendChild(i),i.sheet);var i}();if(void 0===y)return;var w=window.document.body.offsetWidth,_=Math.max(0,w/2-i/2),k=y.cssRules.length,x="{left:"+s.left+"px;right:auto;}";c(b.calendarContainer,"rightMost",!1),c(b.calendarContainer,"centerMost",!0),y.insertRule(".flatpickr-calendar.centerMost:before,.flatpickr-calendar.centerMost:after"+x,k),b.calendarContainer.style.left=_+"px",b.calendarContainer.style.right="auto"}else b.calendarContainer.style.left="auto",b.calendarContainer.style.right=h+"px";else b.calendarContainer.style.left=p+"px",b.calendarContainer.style.right="auto"}}}else b.config.position(b,e)}function ue(){b.config.noCalendar||b.isMobile||(q(),_e(),W())}function pe(){b._input.focus(),-1!==window.navigator.userAgent.indexOf("MSIE")||void 0!==navigator.msMaxTouchPoints?setTimeout(b.close,0):b.close()}function fe(e){e.preventDefault(),e.stopPropagation();var t=p(m(e),(function(e){return e.classList&&e.classList.contains("flatpickr-day")&&!e.classList.contains("flatpickr-disabled")&&!e.classList.contains("notAllowed")}));if(void 0!==t){var n=t,i=b.latestSelectedDateObj=new Date(n.dateObj.getTime()),o=(i.getMonth()<b.currentMonth||i.getMonth()>b.currentMonth+b.config.showMonths-1)&&"range"!==b.config.mode;if(b.selectedDateElem=n,"single"===b.config.mode)b.selectedDates=[i];else if("multiple"===b.config.mode){var a=we(i);a?b.selectedDates.splice(parseInt(a),1):b.selectedDates.push(i)}else"range"===b.config.mode&&(2===b.selectedDates.length&&b.clear(!1,!1),b.latestSelectedDateObj=i,b.selectedDates.push(i),0!==k(i,b.selectedDates[0],!0)&&b.selectedDates.sort((function(e,t){return e.getTime()-t.getTime()})));if(S(),o){var r=b.currentYear!==i.getFullYear();b.currentYear=i.getFullYear(),b.currentMonth=i.getMonth(),r&&(ye("onYearChange"),q()),ye("onMonthChange")}if(_e(),W(),xe(),o||"range"===b.config.mode||1!==b.config.showMonths?void 0!==b.selectedDateElem&&void 0===b.hourElement&&b.selectedDateElem&&b.selectedDateElem.focus():z(n),void 0!==b.hourElement&&void 0!==b.hourElement&&b.hourElement.focus(),b.config.closeOnSelect){var s="single"===b.config.mode&&!b.config.enableTime,l="range"===b.config.mode&&2===b.selectedDates.length&&!b.config.enableTime;(s||l)&&pe()}L()}}b.parseDate=_({config:b.config,l10n:b.l10n}),b._handlers=[],b.pluginElements=[],b.loadedPlugins=[],b._bind=P,b._setHoursFromDate=A,b._positionCalendar=de,b.changeMonth=G,b.changeYear=ee,b.clear=function(e,t){if(void 0===e&&(e=!0),void 0===t&&(t=!0),b.input.value="",void 0!==b.altInput&&(b.altInput.value=""),void 0!==b.mobileInput&&(b.mobileInput.value=""),b.selectedDates=[],b.latestSelectedDateObj=void 0,!0===t&&(b.currentYear=b._initialDate.getFullYear(),b.currentMonth=b._initialDate.getMonth()),!0===b.config.enableTime){var n=D(b.config);I(n.hours,n.minutes,n.seconds)}b.redraw(),e&&ye("onChange")},b.close=function(){b.isOpen=!1,b.isMobile||(void 0!==b.calendarContainer&&b.calendarContainer.classList.remove("open"),void 0!==b._input&&b._input.classList.remove("active")),ye("onClose")},b.onMouseOver=ae,b._createElement=d,b.createDay=Q,b.destroy=function(){void 0!==b.config&&ye("onDestroy");for(var e=b._handlers.length;e--;)b._handlers[e].remove();if(b._handlers=[],b.mobileInput)b.mobileInput.parentNode&&b.mobileInput.parentNode.removeChild(b.mobileInput),b.mobileInput=void 0;else if(b.calendarContainer&&b.calendarContainer.parentNode)if(b.config.static&&b.calendarContainer.parentNode){var t=b.calendarContainer.parentNode;if(t.lastChild&&t.removeChild(t.lastChild),t.parentNode){for(;t.firstChild;)t.parentNode.insertBefore(t.firstChild,t);t.parentNode.removeChild(t)}}else b.calendarContainer.parentNode.removeChild(b.calendarContainer);b.altInput&&(b.input.type="text",b.altInput.parentNode&&b.altInput.parentNode.removeChild(b.altInput),delete b.altInput),b.input&&(b.input.type=b.input._type,b.input.classList.remove("flatpickr-input"),b.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach((function(e){try{delete b[e]}catch(e){}}))},b.isEnabled=te,b.jumpToDate=H,b.updateValue=xe,b.open=function(e,t){if(void 0===t&&(t=b._positionElement),!0===b.isMobile){if(e){e.preventDefault();var n=m(e);n&&n.blur()}return void 0!==b.mobileInput&&(b.mobileInput.focus(),b.mobileInput.click()),void ye("onOpen")}if(!b._input.disabled&&!b.config.inline){var i=b.isOpen;b.isOpen=!0,i||(b.calendarContainer.classList.add("open"),b._input.classList.add("active"),ye("onOpen"),de(t)),!0===b.config.enableTime&&!0===b.config.noCalendar&&(!1!==b.config.allowInput||void 0!==e&&b.timeContainer.contains(e.relatedTarget)||setTimeout((function(){return b.hourElement.select()}),50))}},b.redraw=ue,b.set=function(e,t){if(null!==e&&"object"==typeof e)for(var i in Object.assign(b.config,e),e)void 0!==me[i]&&me[i].forEach((function(e){return e()}));else b.config[e]=t,void 0!==me[e]?me[e].forEach((function(e){return e()})):n.indexOf(e)>-1&&(b.config[e]=l(t));b.redraw(),xe(!0)},b.setDate=function(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n=b.config.dateFormat),0!==e&&!e||e instanceof Array&&0===e.length)return b.clear(t);he(e,n),b.latestSelectedDateObj=b.selectedDates[b.selectedDates.length-1],b.redraw(),H(void 0,t),A(),0===b.selectedDates.length&&b.clear(!1),xe(t),t&&ye("onChange")},b.toggle=function(e){if(!0===b.isOpen)return b.close();b.open(e)};var me={locale:[ce,J],showMonths:[U,T,K],minDate:[H],maxDate:[H],positionElement:[ve],clickOpens:[function(){!0===b.config.clickOpens?(P(b._input,"focus",b.open),P(b._input,"click",b.open)):(b._input.removeEventListener("focus",b.open),b._input.removeEventListener("click",b.open))}]};function he(e,t){var n=[];if(e instanceof Array)n=e.map((function(e){return b.parseDate(e,t)}));else if(e instanceof Date||"number"==typeof e)n=[b.parseDate(e,t)];else if("string"==typeof e)switch(b.config.mode){case"single":case"time":n=[b.parseDate(e,t)];break;case"multiple":n=e.split(b.config.conjunction).map((function(e){return b.parseDate(e,t)}));break;case"range":n=e.split(b.l10n.rangeSeparator).map((function(e){return b.parseDate(e,t)}))}else b.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(e)));b.selectedDates=b.config.allowInvalidPreload?n:n.filter((function(e){return e instanceof Date&&te(e,!1)})),"range"===b.config.mode&&b.selectedDates.sort((function(e,t){return e.getTime()-t.getTime()}))}function ge(e){return e.slice().map((function(e){return"string"==typeof e||"number"==typeof e||e instanceof Date?b.parseDate(e,void 0,!0):e&&"object"==typeof e&&e.from&&e.to?{from:b.parseDate(e.from,void 0),to:b.parseDate(e.to,void 0)}:e})).filter((function(e){return e}))}function ve(){b._positionElement=b.config.positionElement||b._input}function ye(e,t){if(void 0!==b.config){var n=b.config[e];if(void 0!==n&&n.length>0)for(var i=0;n[i]&&i<n.length;i++)n[i](b.selectedDates,b.input.value,b,t);"onChange"===e&&(b.input.dispatchEvent(be("change")),b.input.dispatchEvent(be("input")))}}function be(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t}function we(e){for(var t=0;t<b.selectedDates.length;t++){var n=b.selectedDates[t];if(n instanceof Date&&0===k(n,e))return""+t}return!1}function _e(){b.config.noCalendar||b.isMobile||!b.monthNav||(b.yearElements.forEach((function(e,t){var n=new Date(b.currentYear,b.currentMonth,1);n.setMonth(b.currentMonth+t),b.config.showMonths>1||"static"===b.config.monthSelectorType?b.monthElements[t].textContent=g(n.getMonth(),b.config.shorthandCurrentMonth,b.l10n)+" ":b.monthsDropdownContainer.value=n.getMonth().toString(),e.value=n.getFullYear().toString()})),b._hidePrevMonthArrow=void 0!==b.config.minDate&&(b.currentYear===b.config.minDate.getFullYear()?b.currentMonth<=b.config.minDate.getMonth():b.currentYear<b.config.minDate.getFullYear()),b._hideNextMonthArrow=void 0!==b.config.maxDate&&(b.currentYear===b.config.maxDate.getFullYear()?b.currentMonth+1>b.config.maxDate.getMonth():b.currentYear>b.config.maxDate.getFullYear()))}function ke(e){var t=e||(b.config.altInput?b.config.altFormat:b.config.dateFormat);return b.selectedDates.map((function(e){return b.formatDate(e,t)})).filter((function(e,t,n){return"range"!==b.config.mode||b.config.enableTime||n.indexOf(e)===t})).join("range"!==b.config.mode?b.config.conjunction:b.l10n.rangeSeparator)}function xe(e){void 0===e&&(e=!0),void 0!==b.mobileInput&&b.mobileFormatStr&&(b.mobileInput.value=void 0!==b.latestSelectedDateObj?b.formatDate(b.latestSelectedDateObj,b.mobileFormatStr):""),b.input.value=ke(b.config.dateFormat),void 0!==b.altInput&&(b.altInput.value=ke(b.config.altFormat)),!1!==e&&ye("onValueUpdate")}function Ce(e){var t=m(e),n=b.prevMonthNav.contains(t),i=b.nextMonthNav.contains(t);n||i?G(n?-1:1):b.yearElements.indexOf(t)>=0?t.select():t.classList.contains("arrowUp")?b.changeYear(b.currentYear+1):t.classList.contains("arrowDown")&&b.changeYear(b.currentYear-1)}return function(){b.element=b.input=h,b.isOpen=!1,function(){var t=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],o=e(e({},JSON.parse(JSON.stringify(h.dataset||{}))),v),a={};b.config.parseDate=o.parseDate,b.config.formatDate=o.formatDate,Object.defineProperty(b.config,"enable",{get:function(){return b.config._enable},set:function(e){b.config._enable=ge(e)}}),Object.defineProperty(b.config,"disable",{get:function(){return b.config._disable},set:function(e){b.config._disable=ge(e)}});var r="time"===o.mode;if(!o.dateFormat&&(o.enableTime||r)){var s=E.defaultConfig.dateFormat||i.dateFormat;a.dateFormat=o.noCalendar||r?"H:i"+(o.enableSeconds?":S":""):s+" H:i"+(o.enableSeconds?":S":"")}if(o.altInput&&(o.enableTime||r)&&!o.altFormat){var c=E.defaultConfig.altFormat||i.altFormat;a.altFormat=o.noCalendar||r?"h:i"+(o.enableSeconds?":S K":" K"):c+" h:i"+(o.enableSeconds?":S":"")+" K"}Object.defineProperty(b.config,"minDate",{get:function(){return b.config._minDate},set:se("min")}),Object.defineProperty(b.config,"maxDate",{get:function(){return b.config._maxDate},set:se("max")});var d=function(e){return function(t){b.config["min"===e?"_minTime":"_maxTime"]=b.parseDate(t,"H:i:S")}};Object.defineProperty(b.config,"minTime",{get:function(){return b.config._minTime},set:d("min")}),Object.defineProperty(b.config,"maxTime",{get:function(){return b.config._maxTime},set:d("max")}),"time"===o.mode&&(b.config.noCalendar=!0,b.config.enableTime=!0),Object.assign(b.config,a,o);for(var u=0;u<t.length;u++)b.config[t[u]]=!0===b.config[t[u]]||"true"===b.config[t[u]];for(n.filter((function(e){return void 0!==b.config[e]})).forEach((function(e){b.config[e]=l(b.config[e]||[]).map(M)})),b.isMobile=!b.config.disableMobile&&!b.config.inline&&"single"===b.config.mode&&!b.config.disable.length&&!b.config.enable&&!b.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),u=0;u<b.config.plugins.length;u++){var p=b.config.plugins[u](b)||{};for(var f in p)n.indexOf(f)>-1?b.config[f]=l(p[f]).map(M).concat(b.config[f]):void 0===o[f]&&(b.config[f]=p[f])}o.altInputClass||(b.config.altInputClass=le().className+" "+b.config.altInputClass),ye("onParseConfig")}(),ce(),b.input=le(),b.input?(b.input._type=b.input.type,b.input.type="text",b.input.classList.add("flatpickr-input"),b._input=b.input,b.config.altInput&&(b.altInput=d(b.input.nodeName,b.config.altInputClass),b._input=b.altInput,b.altInput.placeholder=b.input.placeholder,b.altInput.disabled=b.input.disabled,b.altInput.required=b.input.required,b.altInput.tabIndex=b.input.tabIndex,b.altInput.type="text",b.input.setAttribute("type","hidden"),!b.config.static&&b.input.parentNode&&b.input.parentNode.insertBefore(b.altInput,b.input.nextSibling)),b.config.allowInput||b._input.setAttribute("readonly","readonly"),ve()):b.config.errorHandler(new Error("Invalid input element specified")),function(){b.selectedDates=[],b.now=b.parseDate(b.config.now)||new Date;var e=b.config.defaultDate||("INPUT"!==b.input.nodeName&&"TEXTAREA"!==b.input.nodeName||!b.input.placeholder||b.input.value!==b.input.placeholder?b.input.value:null);e&&he(e,b.config.dateFormat),b._initialDate=b.selectedDates.length>0?b.selectedDates[0]:b.config.minDate&&b.config.minDate.getTime()>b.now.getTime()?b.config.minDate:b.config.maxDate&&b.config.maxDate.getTime()<b.now.getTime()?b.config.maxDate:b.now,b.currentYear=b._initialDate.getFullYear(),b.currentMonth=b._initialDate.getMonth(),b.selectedDates.length>0&&(b.latestSelectedDateObj=b.selectedDates[0]),void 0!==b.config.minTime&&(b.config.minTime=b.parseDate(b.config.minTime,"H:i")),void 0!==b.config.maxTime&&(b.config.maxTime=b.parseDate(b.config.maxTime,"H:i")),b.minDateHasTime=!!b.config.minDate&&(b.config.minDate.getHours()>0||b.config.minDate.getMinutes()>0||b.config.minDate.getSeconds()>0),b.maxDateHasTime=!!b.config.maxDate&&(b.config.maxDate.getHours()>0||b.config.maxDate.getMinutes()>0||b.config.maxDate.getSeconds()>0)}(),b.utils={getDaysInMonth:function(e,t){return void 0===e&&(e=b.currentMonth),void 0===t&&(t=b.currentYear),1===e&&(t%4==0&&t%100!=0||t%400==0)?29:b.l10n.daysInMonth[e]}},b.isMobile||function(){var e=window.document.createDocumentFragment();if(b.calendarContainer=d("div","flatpickr-calendar"),b.calendarContainer.tabIndex=-1,!b.config.noCalendar){if(e.appendChild((b.monthNav=d("div","flatpickr-months"),b.yearElements=[],b.monthElements=[],b.prevMonthNav=d("span","flatpickr-prev-month"),b.prevMonthNav.innerHTML=b.config.prevArrow,b.nextMonthNav=d("span","flatpickr-next-month"),b.nextMonthNav.innerHTML=b.config.nextArrow,U(),Object.defineProperty(b,"_hidePrevMonthArrow",{get:function(){return b.__hidePrevMonthArrow},set:function(e){b.__hidePrevMonthArrow!==e&&(c(b.prevMonthNav,"flatpickr-disabled",e),b.__hidePrevMonthArrow=e)}}),Object.defineProperty(b,"_hideNextMonthArrow",{get:function(){return b.__hideNextMonthArrow},set:function(e){b.__hideNextMonthArrow!==e&&(c(b.nextMonthNav,"flatpickr-disabled",e),b.__hideNextMonthArrow=e)}}),b.currentYearElement=b.yearElements[0],_e(),b.monthNav)),b.innerContainer=d("div","flatpickr-innerContainer"),b.config.weekNumbers){var t=function(){b.calendarContainer.classList.add("hasWeeks");var e=d("div","flatpickr-weekwrapper");e.appendChild(d("span","flatpickr-weekday",b.l10n.weekAbbreviation));var t=d("div","flatpickr-weeks");return e.appendChild(t),{weekWrapper:e,weekNumbers:t}}(),n=t.weekWrapper,i=t.weekNumbers;b.innerContainer.appendChild(n),b.weekNumbers=i,b.weekWrapper=n}b.rContainer=d("div","flatpickr-rContainer"),b.rContainer.appendChild(K()),b.daysContainer||(b.daysContainer=d("div","flatpickr-days"),b.daysContainer.tabIndex=-1),W(),b.rContainer.appendChild(b.daysContainer),b.innerContainer.appendChild(b.rContainer),e.appendChild(b.innerContainer)}b.config.enableTime&&e.appendChild(function(){b.calendarContainer.classList.add("hasTime"),b.config.noCalendar&&b.calendarContainer.classList.add("noCalendar");var e=D(b.config);b.timeContainer=d("div","flatpickr-time"),b.timeContainer.tabIndex=-1;var t=d("span","flatpickr-time-separator",":"),n=f("flatpickr-hour",{"aria-label":b.l10n.hourAriaLabel});b.hourElement=n.getElementsByTagName("input")[0];var i=f("flatpickr-minute",{"aria-label":b.l10n.minuteAriaLabel});if(b.minuteElement=i.getElementsByTagName("input")[0],b.hourElement.tabIndex=b.minuteElement.tabIndex=-1,b.hourElement.value=a(b.latestSelectedDateObj?b.latestSelectedDateObj.getHours():b.config.time_24hr?e.hours:function(e){switch(e%24){case 0:case 12:return 12;default:return e%12}}(e.hours)),b.minuteElement.value=a(b.latestSelectedDateObj?b.latestSelectedDateObj.getMinutes():e.minutes),b.hourElement.setAttribute("step",b.config.hourIncrement.toString()),b.minuteElement.setAttribute("step",b.config.minuteIncrement.toString()),b.hourElement.setAttribute("min",b.config.time_24hr?"0":"1"),b.hourElement.setAttribute("max",b.config.time_24hr?"23":"12"),b.hourElement.setAttribute("maxlength","2"),b.minuteElement.setAttribute("min","0"),b.minuteElement.setAttribute("max","59"),b.minuteElement.setAttribute("maxlength","2"),b.timeContainer.appendChild(n),b.timeContainer.appendChild(t),b.timeContainer.appendChild(i),b.config.time_24hr&&b.timeContainer.classList.add("time24hr"),b.config.enableSeconds){b.timeContainer.classList.add("hasSeconds");var o=f("flatpickr-second");b.secondElement=o.getElementsByTagName("input")[0],b.secondElement.value=a(b.latestSelectedDateObj?b.latestSelectedDateObj.getSeconds():e.seconds),b.secondElement.setAttribute("step",b.minuteElement.getAttribute("step")),b.secondElement.setAttribute("min","0"),b.secondElement.setAttribute("max","59"),b.secondElement.setAttribute("maxlength","2"),b.timeContainer.appendChild(d("span","flatpickr-time-separator",":")),b.timeContainer.appendChild(o)}return b.config.time_24hr||(b.amPM=d("span","flatpickr-am-pm",b.l10n.amPM[r((b.latestSelectedDateObj?b.hourElement.value:b.config.defaultHour)>11)]),b.amPM.title=b.l10n.toggleTitle,b.amPM.tabIndex=-1,b.timeContainer.appendChild(b.amPM)),b.timeContainer}()),c(b.calendarContainer,"rangeMode","range"===b.config.mode),c(b.calendarContainer,"animate",!0===b.config.animate),c(b.calendarContainer,"multiMonth",b.config.showMonths>1),b.calendarContainer.appendChild(e);var o=void 0!==b.config.appendTo&&void 0!==b.config.appendTo.nodeType;if((b.config.inline||b.config.static)&&(b.calendarContainer.classList.add(b.config.inline?"inline":"static"),b.config.inline&&(!o&&b.element.parentNode?b.element.parentNode.insertBefore(b.calendarContainer,b._input.nextSibling):void 0!==b.config.appendTo&&b.config.appendTo.appendChild(b.calendarContainer)),b.config.static)){var s=d("div","flatpickr-wrapper");b.element.parentNode&&b.element.parentNode.insertBefore(s,b.element),s.appendChild(b.element),b.altInput&&s.appendChild(b.altInput),s.appendChild(b.calendarContainer)}b.config.static||b.config.inline||(void 0!==b.config.appendTo?b.config.appendTo:window.document.body).appendChild(b.calendarContainer)}(),function(){if(b.config.wrap&&["open","close","toggle","clear"].forEach((function(e){Array.prototype.forEach.call(b.element.querySelectorAll("[data-"+e+"]"),(function(t){return P(t,"click",b[e])}))})),b.isMobile)!function(){var e=b.config.enableTime?b.config.noCalendar?"time":"datetime-local":"date";b.mobileInput=d("input",b.input.className+" flatpickr-mobile"),b.mobileInput.tabIndex=1,b.mobileInput.type=e,b.mobileInput.disabled=b.input.disabled,b.mobileInput.required=b.input.required,b.mobileInput.placeholder=b.input.placeholder,b.mobileFormatStr="datetime-local"===e?"Y-m-d\\TH:i:S":"date"===e?"Y-m-d":"H:i:S",b.selectedDates.length>0&&(b.mobileInput.defaultValue=b.mobileInput.value=b.formatDate(b.selectedDates[0],b.mobileFormatStr)),b.config.minDate&&(b.mobileInput.min=b.formatDate(b.config.minDate,"Y-m-d")),b.config.maxDate&&(b.mobileInput.max=b.formatDate(b.config.maxDate,"Y-m-d")),b.input.getAttribute("step")&&(b.mobileInput.step=String(b.input.getAttribute("step"))),b.input.type="hidden",void 0!==b.altInput&&(b.altInput.type="hidden");try{b.input.parentNode&&b.input.parentNode.insertBefore(b.mobileInput,b.input.nextSibling)}catch(e){}P(b.mobileInput,"change",(function(e){b.setDate(m(e).value,!1,b.mobileFormatStr),ye("onChange"),ye("onClose")}))}();else{var e=s(re,50);if(b._debouncedChange=s(L,300),b.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&P(b.daysContainer,"mouseover",(function(e){"range"===b.config.mode&&ae(m(e))})),P(b._input,"keydown",oe),void 0!==b.calendarContainer&&P(b.calendarContainer,"keydown",oe),b.config.inline||b.config.static||P(window,"resize",e),void 0!==window.ontouchstart?P(window.document,"touchstart",Z):P(window.document,"mousedown",Z),P(window.document,"focus",Z,{capture:!0}),!0===b.config.clickOpens&&(P(b._input,"focus",b.open),P(b._input,"click",b.open)),void 0!==b.daysContainer&&(P(b.monthNav,"click",Ce),P(b.monthNav,["keyup","increment"],F),P(b.daysContainer,"click",fe)),void 0!==b.timeContainer&&void 0!==b.minuteElement&&void 0!==b.hourElement){P(b.timeContainer,["increment"],j),P(b.timeContainer,"blur",j,{capture:!0}),P(b.timeContainer,"click",$),P([b.hourElement,b.minuteElement],["focus","click"],(function(e){return m(e).select()})),void 0!==b.secondElement&&P(b.secondElement,"focus",(function(){return b.secondElement&&b.secondElement.select()})),void 0!==b.amPM&&P(b.amPM,"click",(function(e){j(e)}))}b.config.allowInput&&P(b._input,"blur",ie)}}(),(b.selectedDates.length||b.config.noCalendar)&&(b.config.enableTime&&A(b.config.noCalendar?b.latestSelectedDateObj:void 0),xe(!1)),T();var t=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!b.isMobile&&t&&de(),ye("onReady")}(),b}function M(e,t){for(var n=Array.prototype.slice.call(e).filter((function(e){return e instanceof HTMLElement})),i=[],o=0;o<n.length;o++){var a=n[o];try{if(null!==a.getAttribute("data-fp-omit"))continue;void 0!==a._flatpickr&&(a._flatpickr.destroy(),a._flatpickr=void 0),a._flatpickr=O(a,t||{}),i.push(a._flatpickr)}catch(e){console.error(e)}}return 1===i.length?i[0]:i}"function"!=typeof Object.assign&&(Object.assign=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!e)throw TypeError("Cannot convert undefined or null to object");for(var i=function(t){t&&Object.keys(t).forEach((function(n){return e[n]=t[n]}))},o=0,a=t;o<a.length;o++){i(a[o])}return e}),"undefined"!=typeof HTMLElement&&"undefined"!=typeof HTMLCollection&&"undefined"!=typeof NodeList&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(e){return M(this,e)},HTMLElement.prototype.flatpickr=function(e){return M([this],e)});var E=function(e,t){return"string"==typeof e?M(window.document.querySelectorAll(e),t):e instanceof Node?M([e],t):M(e,t)};return E.defaultConfig={},E.l10ns={en:e({},o),default:e({},o)},E.localize=function(t){E.l10ns.default=e(e({},E.l10ns.default),t)},E.setDefaults=function(t){E.defaultConfig=e(e({},E.defaultConfig),t)},E.parseDate=_({}),E.formatDate=w({}),E.compareDates=k,"undefined"!=typeof jQuery&&void 0!==jQuery.fn&&(jQuery.fn.flatpickr=function(e){return M(this,e)}),Date.prototype.fp_incr=function(e){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+("string"==typeof e?parseInt(e,10):e))},"undefined"!=typeof window&&(window.flatpickr=E),E})),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).monthSelectPlugin=t()}(this,(function(){"use strict";var e=function(){return e=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},e.apply(this,arguments)},t=function(e,t,n){return n.months[t?"shorthand":"longhand"][e]};function n(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function i(e){try{return"function"==typeof e.composedPath?e.composedPath()[0]:e.target}catch(t){return e.target}}var o={shorthand:!1,dateFormat:"F Y",altFormat:"F Y",theme:"light"};return function(a){var r=e(e({},o),a);return function(e){e.config.dateFormat=r.dateFormat,e.config.altFormat=r.altFormat;var o={monthsContainer:null};function a(){if(o.monthsContainer){n(o.monthsContainer);for(var i=document.createDocumentFragment(),a=0;a<12;a++){var s=e.createDay("flatpickr-monthSelect-month",new Date(e.currentYear,a),0,a);s.dateObj.getMonth()===(new Date).getMonth()&&s.dateObj.getFullYear()===(new Date).getFullYear()&&s.classList.add("today"),s.textContent=t(a,r.shorthand,e.l10n),s.addEventListener("click",c),i.appendChild(s)}o.monthsContainer.appendChild(i),e.config.minDate&&e.currentYear===e.config.minDate.getFullYear()?e.prevMonthNav.classList.add("flatpickr-disabled"):e.prevMonthNav.classList.remove("flatpickr-disabled"),e.config.maxDate&&e.currentYear===e.config.maxDate.getFullYear()?e.nextMonthNav.classList.add("flatpickr-disabled"):e.nextMonthNav.classList.remove("flatpickr-disabled")}}function s(){if(e.rContainer&&e.selectedDates.length){for(var t=e.rContainer.querySelectorAll(".flatpickr-monthSelect-month.selected"),n=0;n<t.length;n++)t[n].classList.remove("selected");var i=e.selectedDates[0].getMonth(),o=e.rContainer.querySelector(".flatpickr-monthSelect-month:nth-child("+(i+1)+")");o&&o.classList.add("selected")}}function l(){var t=e.selectedDates[0];(t&&((t=new Date(t)).setFullYear(e.currentYear),e.config.minDate&&t<e.config.minDate&&(t=e.config.minDate),e.config.maxDate&&t>e.config.maxDate&&(t=e.config.maxDate),e.currentYear=t.getFullYear()),e.currentYearElement.value=String(e.currentYear),e.rContainer)&&e.rContainer.querySelectorAll(".flatpickr-monthSelect-month").forEach((function(t){t.dateObj.setFullYear(e.currentYear),e.config.minDate&&t.dateObj<e.config.minDate||e.config.maxDate&&t.dateObj>e.config.maxDate?t.classList.add("flatpickr-disabled"):t.classList.remove("flatpickr-disabled")}));s()}function c(t){t.preventDefault(),t.stopPropagation();var n=i(t);if(n instanceof Element&&!n.classList.contains("flatpickr-disabled")&&!n.classList.contains("notAllowed")&&(d(n.dateObj),e.config.closeOnSelect)){var o="single"===e.config.mode,a="range"===e.config.mode&&2===e.selectedDates.length;(o||a)&&e.close()}}function d(t){var n=new Date(e.currentYear,t.getMonth(),t.getDate()),i=[];switch(e.config.mode){case"single":i=[n];break;case"multiple":i.push(n);break;case"range":2===e.selectedDates.length?i=[n]:(i=e.selectedDates.concat([n])).sort((function(e,t){return e.getTime()-t.getTime()}))}e.setDate(i,!0),s()}var u={37:-1,39:1,40:3,38:-3};function p(){var t;"range"===(null===(t=e.config)||void 0===t?void 0:t.mode)&&1===e.selectedDates.length&&e.clear(!1),e.selectedDates.length||a()}return{onParseConfig:function(){e.config.enableTime=!1},onValueUpdate:s,onKeyDown:function(t,n,i,a){var r=void 0!==u[a.keyCode];if((r||13===a.keyCode)&&e.rContainer&&o.monthsContainer){var s=e.rContainer.querySelector(".flatpickr-monthSelect-month.selected"),l=Array.prototype.indexOf.call(o.monthsContainer.children,document.activeElement);if(-1===l){var c=s||o.monthsContainer.firstElementChild;c.focus(),l=c.$i}r?o.monthsContainer.children[(12+l+u[a.keyCode])%12].focus():13===a.keyCode&&o.monthsContainer.contains(document.activeElement)&&d(document.activeElement.dateObj)}},onReady:[function(){r._stubbedCurrentMonth=e._initialDate.getMonth(),e._initialDate.setMonth(r._stubbedCurrentMonth),e.currentMonth=r._stubbedCurrentMonth},function(){if(e.rContainer){n(e.rContainer);for(var t=0;t<e.monthElements.length;t++){var i=e.monthElements[t];i.parentNode&&i.parentNode.removeChild(i)}}},function(){e.rContainer&&(o.monthsContainer=e._createElement("div","flatpickr-monthSelect-months"),o.monthsContainer.tabIndex=-1,a(),e.rContainer.appendChild(o.monthsContainer),e.calendarContainer.classList.add("flatpickr-monthSelect-theme-"+r.theme))},function(){e._bind(e.prevMonthNav,"click",(function(t){t.preventDefault(),t.stopPropagation(),e.changeYear(e.currentYear-1),l(),a()})),e._bind(e.nextMonthNav,"click",(function(t){t.preventDefault(),t.stopPropagation(),e.changeYear(e.currentYear+1),l(),a()})),e._bind(o.monthsContainer,"mouseover",(function(t){"range"===e.config.mode&&e.onMouseOver(i(t),"flatpickr-monthSelect-month")}))},s,function(){e.config.onClose.push(p),e.loadedPlugins.push("monthSelect")}],onDestroy:[function(){r._stubbedCurrentMonth&&(e._initialDate.setMonth(r._stubbedCurrentMonth),e.currentMonth=r._stubbedCurrentMonth,delete r._stubbedCurrentMonth)},function(){if(null!==o.monthsContainer)for(var e=o.monthsContainer.querySelectorAll(".flatpickr-monthSelect-month"),t=0;t<e.length;t++)e[t].removeEventListener("click",c)},function(){e.config.onClose=e.config.onClose.filter((function(e){return e!==p}))}]}}}})),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).Popper={})}(this,(function(e){"use strict";function t(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function n(e){return e instanceof t(e).Element||e instanceof Element}function i(e){return e instanceof t(e).HTMLElement||e instanceof HTMLElement}function o(e){return"undefined"!=typeof ShadowRoot&&(e instanceof t(e).ShadowRoot||e instanceof ShadowRoot)}var a=Math.max,r=Math.min,s=Math.round;function l(e,t){void 0===t&&(t=!1);var n=e.getBoundingClientRect(),o=1,a=1;if(i(e)&&t){var r=e.offsetHeight,l=e.offsetWidth;l>0&&(o=s(n.width)/l||1),r>0&&(a=s(n.height)/r||1)}return{width:n.width/o,height:n.height/a,top:n.top/a,right:n.right/o,bottom:n.bottom/a,left:n.left/o,x:n.left/o,y:n.top/a}}function c(e){var n=t(e);return{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}}function d(e){return e?(e.nodeName||"").toLowerCase():null}function u(e){return((n(e)?e.ownerDocument:e.document)||window.document).documentElement}function p(e){return l(u(e)).left+c(e).scrollLeft}function f(e){return t(e).getComputedStyle(e)}function m(e){var t=f(e),n=t.overflow,i=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+i)}function h(e,n,o){void 0===o&&(o=!1);var a,r,f=i(n),h=i(n)&&function(e){var t=e.getBoundingClientRect(),n=s(t.width)/e.offsetWidth||1,i=s(t.height)/e.offsetHeight||1;return 1!==n||1!==i}(n),g=u(n),v=l(e,h),y={scrollLeft:0,scrollTop:0},b={x:0,y:0};return(f||!f&&!o)&&(("body"!==d(n)||m(g))&&(y=(a=n)!==t(a)&&i(a)?{scrollLeft:(r=a).scrollLeft,scrollTop:r.scrollTop}:c(a)),i(n)?((b=l(n,!0)).x+=n.clientLeft,b.y+=n.clientTop):g&&(b.x=p(g))),{x:v.left+y.scrollLeft-b.x,y:v.top+y.scrollTop-b.y,width:v.width,height:v.height}}function g(e){var t=l(e),n=e.offsetWidth,i=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:i}}function v(e){return"html"===d(e)?e:e.assignedSlot||e.parentNode||(o(e)?e.host:null)||u(e)}function y(e){return["html","body","#document"].indexOf(d(e))>=0?e.ownerDocument.body:i(e)&&m(e)?e:y(v(e))}function b(e,n){var i;void 0===n&&(n=[]);var o=y(e),a=o===(null==(i=e.ownerDocument)?void 0:i.body),r=t(o),s=a?[r].concat(r.visualViewport||[],m(o)?o:[]):o,l=n.concat(s);return a?l:l.concat(b(v(s)))}function w(e){return["table","td","th"].indexOf(d(e))>=0}function _(e){return i(e)&&"fixed"!==f(e).position?e.offsetParent:null}function k(e){for(var n=t(e),a=_(e);a&&w(a)&&"static"===f(a).position;)a=_(a);return a&&("html"===d(a)||"body"===d(a)&&"static"===f(a).position)?n:a||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&i(e)&&"fixed"===f(e).position)return null;var n=v(e);for(o(n)&&(n=n.host);i(n)&&["html","body"].indexOf(d(n))<0;){var a=f(n);if("none"!==a.transform||"none"!==a.perspective||"paint"===a.contain||-1!==["transform","perspective"].indexOf(a.willChange)||t&&"filter"===a.willChange||t&&a.filter&&"none"!==a.filter)return n;n=n.parentNode}return null}(e)||n}var x="top",C="bottom",D="right",O="left",M="auto",E=[x,C,D,O],T="start",j="end",S="viewport",A="popper",I=E.reduce((function(e,t){return e.concat([t+"-"+T,t+"-"+j])}),[]),F=[].concat(E,[M]).reduce((function(e,t){return e.concat([t,t+"-"+T,t+"-"+j])}),[]),P=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function L(e){var t=new Map,n=new Set,i=[];function o(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var i=t.get(e);i&&o(i)}})),i.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||o(e)})),i}function H(e){return e.split("-")[0]}function $(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&o(n)){var i=t;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function N(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Q(e,i){return i===S?N(function(e){var n=t(e),i=u(e),o=n.visualViewport,a=i.clientWidth,r=i.clientHeight,s=0,l=0;return o&&(a=o.width,r=o.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(s=o.offsetLeft,l=o.offsetTop)),{width:a,height:r,x:s+p(e),y:l}}(e)):n(i)?function(e){var t=l(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(i):N(function(e){var t,n=u(e),i=c(e),o=null==(t=e.ownerDocument)?void 0:t.body,r=a(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),s=a(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),l=-i.scrollLeft+p(e),d=-i.scrollTop;return"rtl"===f(o||n).direction&&(l+=a(n.clientWidth,o?o.clientWidth:0)-r),{width:r,height:s,x:l,y:d}}(u(e)))}function z(e,t,o){var s="clippingParents"===t?function(e){var t=b(v(e)),o=["absolute","fixed"].indexOf(f(e).position)>=0&&i(e)?k(e):e;return n(o)?t.filter((function(e){return n(e)&&$(e,o)&&"body"!==d(e)})):[]}(e):[].concat(t),l=[].concat(s,[o]),c=l[0],u=l.reduce((function(t,n){var i=Q(e,n);return t.top=a(i.top,t.top),t.right=r(i.right,t.right),t.bottom=r(i.bottom,t.bottom),t.left=a(i.left,t.left),t}),Q(e,c));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}function R(e){return e.split("-")[1]}function V(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Y(e){var t,n=e.reference,i=e.element,o=e.placement,a=o?H(o):null,r=o?R(o):null,s=n.x+n.width/2-i.width/2,l=n.y+n.height/2-i.height/2;switch(a){case x:t={x:s,y:n.y-i.height};break;case C:t={x:s,y:n.y+n.height};break;case D:t={x:n.x+n.width,y:l};break;case O:t={x:n.x-i.width,y:l};break;default:t={x:n.x,y:n.y}}var c=a?V(a):null;if(null!=c){var d="y"===c?"height":"width";switch(r){case T:t[c]=t[c]-(n[d]/2-i[d]/2);break;case j:t[c]=t[c]+(n[d]/2-i[d]/2)}}return t}function W(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function q(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function B(e,t){void 0===t&&(t={});var i=t,o=i.placement,a=void 0===o?e.placement:o,r=i.boundary,s=void 0===r?"clippingParents":r,c=i.rootBoundary,d=void 0===c?S:c,p=i.elementContext,f=void 0===p?A:p,m=i.altBoundary,h=void 0!==m&&m,g=i.padding,v=void 0===g?0:g,y=W("number"!=typeof v?v:q(v,E)),b=f===A?"reference":A,w=e.rects.popper,_=e.elements[h?b:f],k=z(n(_)?_:_.contextElement||u(e.elements.popper),s,d),O=l(e.elements.reference),M=Y({reference:O,element:w,strategy:"absolute",placement:a}),T=N(Object.assign({},w,M)),j=f===A?T:O,I={top:k.top-j.top+y.top,bottom:j.bottom-k.bottom+y.bottom,left:k.left-j.left+y.left,right:j.right-k.right+y.right},F=e.modifiersData.offset;if(f===A&&F){var P=F[a];Object.keys(I).forEach((function(e){var t=[D,C].indexOf(e)>=0?1:-1,n=[x,C].indexOf(e)>=0?"y":"x";I[e]+=P[n]*t}))}return I}var U={placement:"bottom",modifiers:[],strategy:"absolute"};function K(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function J(e){void 0===e&&(e={});var t=e,i=t.defaultModifiers,o=void 0===i?[]:i,a=t.defaultOptions,r=void 0===a?U:a;return function(e,t,i){void 0===i&&(i=r);var a,s,l={placement:"bottom",orderedModifiers:[],options:Object.assign({},U,r),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},c=[],d=!1,u={state:l,setOptions:function(i){var a="function"==typeof i?i(l.options):i;p(),l.options=Object.assign({},r,l.options,a),l.scrollParents={reference:n(e)?b(e):e.contextElement?b(e.contextElement):[],popper:b(t)};var s,d,f=function(e){var t=L(e);return P.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}((s=[].concat(o,l.options.modifiers),d=s.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{}),Object.keys(d).map((function(e){return d[e]}))));return l.orderedModifiers=f.filter((function(e){return e.enabled})),l.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,i=void 0===n?{}:n,o=e.effect;if("function"==typeof o){var a=o({state:l,name:t,instance:u,options:i});c.push(a||function(){})}})),u.update()},forceUpdate:function(){if(!d){var e=l.elements,t=e.reference,n=e.popper;if(K(t,n)){l.rects={reference:h(t,k(n),"fixed"===l.options.strategy),popper:g(n)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach((function(e){return l.modifiersData[e.name]=Object.assign({},e.data)}));for(var i=0;i<l.orderedModifiers.length;i++)if(!0!==l.reset){var o=l.orderedModifiers[i],a=o.fn,r=o.options,s=void 0===r?{}:r,c=o.name;"function"==typeof a&&(l=a({state:l,options:s,name:c,instance:u})||l)}else l.reset=!1,i=-1}}},update:(a=function(){return new Promise((function(e){u.forceUpdate(),e(l)}))},function(){return s||(s=new Promise((function(e){Promise.resolve().then((function(){s=void 0,e(a())}))}))),s}),destroy:function(){p(),d=!0}};if(!K(e,t))return u;function p(){c.forEach((function(e){return e()})),c=[]}return u.setOptions(i).then((function(e){!d&&i.onFirstUpdate&&i.onFirstUpdate(e)})),u}}var G={passive:!0},X={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var n=e.state,i=e.instance,o=e.options,a=o.scroll,r=void 0===a||a,s=o.resize,l=void 0===s||s,c=t(n.elements.popper),d=[].concat(n.scrollParents.reference,n.scrollParents.popper);return r&&d.forEach((function(e){e.addEventListener("scroll",i.update,G)})),l&&c.addEventListener("resize",i.update,G),function(){r&&d.forEach((function(e){e.removeEventListener("scroll",i.update,G)})),l&&c.removeEventListener("resize",i.update,G)}},data:{}},Z={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=Y({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},ee={top:"auto",right:"auto",bottom:"auto",left:"auto"};function te(e){var n,i=e.popper,o=e.popperRect,a=e.placement,r=e.variation,l=e.offsets,c=e.position,d=e.gpuAcceleration,p=e.adaptive,m=e.roundOffsets,h=e.isFixed,g=l.x,v=void 0===g?0:g,y=l.y,b=void 0===y?0:y,w="function"==typeof m?m({x:v,y:b}):{x:v,y:b};v=w.x,b=w.y;var _=l.hasOwnProperty("x"),M=l.hasOwnProperty("y"),E=O,T=x,S=window;if(p){var A=k(i),I="clientHeight",F="clientWidth";A===t(i)&&"static"!==f(A=u(i)).position&&"absolute"===c&&(I="scrollHeight",F="scrollWidth"),(a===x||(a===O||a===D)&&r===j)&&(T=C,b-=(h&&A===S&&S.visualViewport?S.visualViewport.height:A[I])-o.height,b*=d?1:-1),a!==O&&(a!==x&&a!==C||r!==j)||(E=D,v-=(h&&A===S&&S.visualViewport?S.visualViewport.width:A[F])-o.width,v*=d?1:-1)}var P,L=Object.assign({position:c},p&&ee),H=!0===m?function(e){var t=e.x,n=e.y,i=window.devicePixelRatio||1;return{x:s(t*i)/i||0,y:s(n*i)/i||0}}({x:v,y:b}):{x:v,y:b};return v=H.x,b=H.y,d?Object.assign({},L,((P={})[T]=M?"0":"",P[E]=_?"0":"",P.transform=(S.devicePixelRatio||1)<=1?"translate("+v+"px, "+b+"px)":"translate3d("+v+"px, "+b+"px, 0)",P)):Object.assign({},L,((n={})[T]=M?b+"px":"",n[E]=_?v+"px":"",n.transform="",n))}var ne={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,i=n.gpuAcceleration,o=void 0===i||i,a=n.adaptive,r=void 0===a||a,s=n.roundOffsets,l=void 0===s||s,c={placement:H(t.placement),variation:R(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,te(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:r,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,te(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},ie={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},o=t.attributes[e]||{},a=t.elements[e];i(a)&&d(a)&&(Object.assign(a.style,n),Object.keys(o).forEach((function(e){var t=o[e];!1===t?a.removeAttribute(e):a.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var o=t.elements[e],a=t.attributes[e]||{},r=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});i(o)&&d(o)&&(Object.assign(o.style,r),Object.keys(a).forEach((function(e){o.removeAttribute(e)})))}))}},requires:["computeStyles"]},oe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,i=e.name,o=n.offset,a=void 0===o?[0,0]:o,r=F.reduce((function(e,n){return e[n]=function(e,t,n){var i=H(e),o=[O,x].indexOf(i)>=0?-1:1,a="function"==typeof n?n(Object.assign({},t,{placement:e})):n,r=a[0],s=a[1];return r=r||0,s=(s||0)*o,[O,D].indexOf(i)>=0?{x:s,y:r}:{x:r,y:s}}(n,t.rects,a),e}),{}),s=r[t.placement],l=s.x,c=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[i]=r}},ae={left:"right",right:"left",bottom:"top",top:"bottom"};function re(e){return e.replace(/left|right|bottom|top/g,(function(e){return ae[e]}))}var se={start:"end",end:"start"};function le(e){return e.replace(/start|end/g,(function(e){return se[e]}))}function ce(e,t){void 0===t&&(t={});var n=t,i=n.placement,o=n.boundary,a=n.rootBoundary,r=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?F:l,d=R(i),u=d?s?I:I.filter((function(e){return R(e)===d})):E,p=u.filter((function(e){return c.indexOf(e)>=0}));0===p.length&&(p=u);var f=p.reduce((function(t,n){return t[n]=B(e,{placement:n,boundary:o,rootBoundary:a,padding:r})[H(n)],t}),{});return Object.keys(f).sort((function(e,t){return f[e]-f[t]}))}var de={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,i=e.name;if(!t.modifiersData[i]._skip){for(var o=n.mainAxis,a=void 0===o||o,r=n.altAxis,s=void 0===r||r,l=n.fallbackPlacements,c=n.padding,d=n.boundary,u=n.rootBoundary,p=n.altBoundary,f=n.flipVariations,m=void 0===f||f,h=n.allowedAutoPlacements,g=t.options.placement,v=H(g),y=l||(v!==g&&m?function(e){if(H(e)===M)return[];var t=re(e);return[le(e),t,le(t)]}(g):[re(g)]),b=[g].concat(y).reduce((function(e,n){return e.concat(H(n)===M?ce(t,{placement:n,boundary:d,rootBoundary:u,padding:c,flipVariations:m,allowedAutoPlacements:h}):n)}),[]),w=t.rects.reference,_=t.rects.popper,k=new Map,E=!0,j=b[0],S=0;S<b.length;S++){var A=b[S],I=H(A),F=R(A)===T,P=[x,C].indexOf(I)>=0,L=P?"width":"height",$=B(t,{placement:A,boundary:d,rootBoundary:u,altBoundary:p,padding:c}),N=P?F?D:O:F?C:x;w[L]>_[L]&&(N=re(N));var Q=re(N),z=[];if(a&&z.push($[I]<=0),s&&z.push($[N]<=0,$[Q]<=0),z.every((function(e){return e}))){j=A,E=!1;break}k.set(A,z)}if(E)for(var V=function(e){var t=b.find((function(t){var n=k.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return j=t,"break"},Y=m?3:1;Y>0&&"break"!==V(Y);Y--);t.placement!==j&&(t.modifiersData[i]._skip=!0,t.placement=j,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function ue(e,t,n){return a(e,r(t,n))}var pe={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,i=e.name,o=n.mainAxis,s=void 0===o||o,l=n.altAxis,c=void 0!==l&&l,d=n.boundary,u=n.rootBoundary,p=n.altBoundary,f=n.padding,m=n.tether,h=void 0===m||m,v=n.tetherOffset,y=void 0===v?0:v,b=B(t,{boundary:d,rootBoundary:u,padding:f,altBoundary:p}),w=H(t.placement),_=R(t.placement),M=!_,E=V(w),j="x"===E?"y":"x",S=t.modifiersData.popperOffsets,A=t.rects.reference,I=t.rects.popper,F="function"==typeof y?y(Object.assign({},t.rects,{placement:t.placement})):y,P="number"==typeof F?{mainAxis:F,altAxis:F}:Object.assign({mainAxis:0,altAxis:0},F),L=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,$={x:0,y:0};if(S){if(s){var N,Q="y"===E?x:O,z="y"===E?C:D,Y="y"===E?"height":"width",W=S[E],q=W+b[Q],U=W-b[z],K=h?-I[Y]/2:0,J=_===T?A[Y]:I[Y],G=_===T?-I[Y]:-A[Y],X=t.elements.arrow,Z=h&&X?g(X):{width:0,height:0},ee=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},te=ee[Q],ne=ee[z],ie=ue(0,A[Y],Z[Y]),oe=M?A[Y]/2-K-ie-te-P.mainAxis:J-ie-te-P.mainAxis,ae=M?-A[Y]/2+K+ie+ne+P.mainAxis:G+ie+ne+P.mainAxis,re=t.elements.arrow&&k(t.elements.arrow),se=re?"y"===E?re.clientTop||0:re.clientLeft||0:0,le=null!=(N=null==L?void 0:L[E])?N:0,ce=W+ae-le,de=ue(h?r(q,W+oe-le-se):q,W,h?a(U,ce):U);S[E]=de,$[E]=de-W}if(c){var pe,fe="x"===E?x:O,me="x"===E?C:D,he=S[j],ge="y"===j?"height":"width",ve=he+b[fe],ye=he-b[me],be=-1!==[x,O].indexOf(w),we=null!=(pe=null==L?void 0:L[j])?pe:0,_e=be?ve:he-A[ge]-I[ge]-we+P.altAxis,ke=be?he+A[ge]+I[ge]-we-P.altAxis:ye,xe=h&&be?function(e,t,n){var i=ue(e,t,n);return i>n?n:i}(_e,he,ke):ue(h?_e:ve,he,h?ke:ye);S[j]=xe,$[j]=xe-he}t.modifiersData[i]=$}},requiresIfExists:["offset"]},fe={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,i=e.name,o=e.options,a=n.elements.arrow,r=n.modifiersData.popperOffsets,s=H(n.placement),l=V(s),c=[O,D].indexOf(s)>=0?"height":"width";if(a&&r){var d=function(e,t){return W("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:q(e,E))}(o.padding,n),u=g(a),p="y"===l?x:O,f="y"===l?C:D,m=n.rects.reference[c]+n.rects.reference[l]-r[l]-n.rects.popper[c],h=r[l]-n.rects.reference[l],v=k(a),y=v?"y"===l?v.clientHeight||0:v.clientWidth||0:0,b=m/2-h/2,w=d[p],_=y-u[c]-d[f],M=y/2-u[c]/2+b,T=ue(w,M,_),j=l;n.modifiersData[i]=((t={})[j]=T,t.centerOffset=T-M,t)}},effect:function(e){var t=e.state,n=e.options.element,i=void 0===n?"[data-popper-arrow]":n;null!=i&&("string"!=typeof i||(i=t.elements.popper.querySelector(i)))&&$(t.elements.popper,i)&&(t.elements.arrow=i)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function me(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function he(e){return[x,D,C,O].some((function(t){return e[t]>=0}))}var ge={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,i=t.rects.reference,o=t.rects.popper,a=t.modifiersData.preventOverflow,r=B(t,{elementContext:"reference"}),s=B(t,{altBoundary:!0}),l=me(r,i),c=me(s,o,a),d=he(l),u=he(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:u},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":u})}},ve=J({defaultModifiers:[X,Z,ne,ie]}),ye=[X,Z,ne,ie,oe,de,pe,fe,ge],be=J({defaultModifiers:ye});e.applyStyles=ie,e.arrow=fe,e.computeStyles=ne,e.createPopper=be,e.createPopperLite=ve,e.defaultModifiers=ye,e.detectOverflow=B,e.eventListeners=X,e.flip=de,e.hide=ge,e.offset=oe,e.popperGenerator=J,e.popperOffsets=Z,e.preventOverflow=pe,Object.defineProperty(e,"__esModule",{value:!0})})),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("@popperjs/core")):"function"==typeof define&&define.amd?define(["@popperjs/core"],t):(e=e||self).tippy=t(e.Popper)}(this,(function(e){"use strict";var t="undefined"!=typeof window&&"undefined"!=typeof document,n=!!t&&!!window.msCrypto,i={passive:!0,capture:!0},o=function(){return document.body};function a(e,t,n){if(Array.isArray(e)){var i=e[t];return null==i?Array.isArray(n)?n[t]:n:i}return e}function r(e,t){var n={}.toString.call(e);return 0===n.indexOf("[object")&&n.indexOf(t+"]")>-1}function s(e,t){return"function"==typeof e?e.apply(void 0,t):e}function l(e,t){return 0===t?e:function(i){clearTimeout(n),n=setTimeout((function(){e(i)}),t)};var n}function c(e,t){var n=Object.assign({},e);return t.forEach((function(e){delete n[e]})),n}function d(e){return[].concat(e)}function u(e,t){-1===e.indexOf(t)&&e.push(t)}function p(e){return e.split("-")[0]}function f(e){return[].slice.call(e)}function m(e){return Object.keys(e).reduce((function(t,n){return void 0!==e[n]&&(t[n]=e[n]),t}),{})}function h(){return document.createElement("div")}function g(e){return["Element","Fragment"].some((function(t){return r(e,t)}))}function v(e){return r(e,"MouseEvent")}function y(e){return!(!e||!e._tippy||e._tippy.reference!==e)}function b(e,t){e.forEach((function(e){e&&(e.style.transitionDuration=t+"ms")}))}function w(e,t){e.forEach((function(e){e&&e.setAttribute("data-state",t)}))}function _(e){var t,n=d(e)[0];return null!=n&&null!=(t=n.ownerDocument)&&t.body?n.ownerDocument:document}function k(e,t,n){var i=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach((function(t){e[i](t,n)}))}function x(e,t){for(var n=t;n;){var i;if(e.contains(n))return!0;n=null==n.getRootNode||null==(i=n.getRootNode())?void 0:i.host}return!1}var C={isTouch:!1},D=0;function O(){C.isTouch||(C.isTouch=!0,window.performance&&document.addEventListener("mousemove",M))}function M(){var e=performance.now();e-D<20&&(C.isTouch=!1,document.removeEventListener("mousemove",M)),D=e}function E(){var e=document.activeElement;if(y(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}var T=Object.assign({appendTo:o,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},{animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),j=Object.keys(T);function S(e){var t=(e.plugins||[]).reduce((function(t,n){var i,o=n.name,a=n.defaultValue;return o&&(t[o]=void 0!==e[o]?e[o]:null!=(i=T[o])?i:a),t}),{});return Object.assign({},e,t)}function A(e,t){var n=Object.assign({},t,{content:s(t.content,[e])},t.ignoreAttributes?{}:function(e,t){return(t?Object.keys(S(Object.assign({},T,{plugins:t}))):j).reduce((function(t,n){var i=(e.getAttribute("data-tippy-"+n)||"").trim();if(!i)return t;if("content"===n)t[n]=i;else try{t[n]=JSON.parse(i)}catch(e){t[n]=i}return t}),{})}(e,t.plugins));return n.aria=Object.assign({},T.aria,n.aria),n.aria={expanded:"auto"===n.aria.expanded?t.interactive:n.aria.expanded,content:"auto"===n.aria.content?t.interactive?null:"describedby":n.aria.content},n}function I(e,t){e.innerHTML=t}function F(e){var t=h();return!0===e?t.className="tippy-arrow":(t.className="tippy-svg-arrow",g(e)?t.appendChild(e):I(t,e)),t}function P(e,t){g(t.content)?(I(e,""),e.appendChild(t.content)):"function"!=typeof t.content&&(t.allowHTML?I(e,t.content):e.textContent=t.content)}function L(e){var t=e.firstElementChild,n=f(t.children);return{box:t,content:n.find((function(e){return e.classList.contains("tippy-content")})),arrow:n.find((function(e){return e.classList.contains("tippy-arrow")||e.classList.contains("tippy-svg-arrow")})),backdrop:n.find((function(e){return e.classList.contains("tippy-backdrop")}))}}function H(e){var t=h(),n=h();n.className="tippy-box",n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var i=h();function o(n,i){var o=L(t),a=o.box,r=o.content,s=o.arrow;i.theme?a.setAttribute("data-theme",i.theme):a.removeAttribute("data-theme"),"string"==typeof i.animation?a.setAttribute("data-animation",i.animation):a.removeAttribute("data-animation"),i.inertia?a.setAttribute("data-inertia",""):a.removeAttribute("data-inertia"),a.style.maxWidth="number"==typeof i.maxWidth?i.maxWidth+"px":i.maxWidth,i.role?a.setAttribute("role",i.role):a.removeAttribute("role"),n.content===i.content&&n.allowHTML===i.allowHTML||P(r,e.props),i.arrow?s?n.arrow!==i.arrow&&(a.removeChild(s),a.appendChild(F(i.arrow))):a.appendChild(F(i.arrow)):s&&a.removeChild(s)}return i.className="tippy-content",i.setAttribute("data-state","hidden"),P(i,e.props),t.appendChild(n),n.appendChild(i),o(e.props,e.props),{popper:t,onUpdate:o}}H.$$tippy=!0;var $=1,N=[],Q=[];function z(t,r){var c,g,y,D,O,M,E,j,I=A(t,Object.assign({},T,S(m(r)))),F=!1,P=!1,H=!1,z=!1,R=[],V=l(we,I.interactiveDebounce),Y=$++,W=(j=I.plugins).filter((function(e,t){return j.indexOf(e)===t})),q={id:Y,reference:t,popper:h(),popperInstance:null,props:I,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:W,clearDelayTimeouts:function(){clearTimeout(c),clearTimeout(g),cancelAnimationFrame(y)},setProps:function(e){if(!q.state.isDestroyed){re("onBeforeUpdate",[q,e]),ye();var n=q.props,i=A(t,Object.assign({},n,m(e),{ignoreAttributes:!0}));q.props=i,ve(),n.interactiveDebounce!==i.interactiveDebounce&&(ce(),V=l(we,i.interactiveDebounce)),n.triggerTarget&&!i.triggerTarget?d(n.triggerTarget).forEach((function(e){e.removeAttribute("aria-expanded")})):i.triggerTarget&&t.removeAttribute("aria-expanded"),le(),ae(),K&&K(n,i),q.popperInstance&&(Ce(),Oe().forEach((function(e){requestAnimationFrame(e._tippy.popperInstance.forceUpdate)}))),re("onAfterUpdate",[q,e])}},setContent:function(e){q.setProps({content:e})},show:function(){var e=q.state.isVisible,t=q.state.isDestroyed,n=!q.state.isEnabled,i=C.isTouch&&!q.props.touch,r=a(q.props.duration,0,T.duration);if(!(e||t||n||i||te().hasAttribute("disabled")||(re("onShow",[q],!1),!1===q.props.onShow(q)))){if(q.state.isVisible=!0,ee()&&(U.style.visibility="visible"),ae(),fe(),q.state.isMounted||(U.style.transition="none"),ee()){var l=ie();b([l.box,l.content],0)}M=function(){var e;if(q.state.isVisible&&!z){if(z=!0,U.offsetHeight,U.style.transition=q.props.moveTransition,ee()&&q.props.animation){var t=ie(),n=t.box,i=t.content;b([n,i],r),w([n,i],"visible")}se(),le(),u(Q,q),null==(e=q.popperInstance)||e.forceUpdate(),re("onMount",[q]),q.props.animation&&ee()&&function(e,t){he(e,(function(){q.state.isShown=!0,re("onShown",[q])}))}(r)}},function(){var e,t=q.props.appendTo,n=te();(e=q.props.interactive&&t===o||"parent"===t?n.parentNode:s(t,[n])).contains(U)||e.appendChild(U),q.state.isMounted=!0,Ce()}()}},hide:function(){var e=!q.state.isVisible,t=q.state.isDestroyed,n=!q.state.isEnabled,i=a(q.props.duration,1,T.duration);if(!(e||t||n)&&(re("onHide",[q],!1),!1!==q.props.onHide(q))){if(q.state.isVisible=!1,q.state.isShown=!1,z=!1,F=!1,ee()&&(U.style.visibility="hidden"),ce(),me(),ae(!0),ee()){var o=ie(),r=o.box,s=o.content;q.props.animation&&(b([r,s],i),w([r,s],"hidden"))}se(),le(),q.props.animation?ee()&&function(e,t){he(e,(function(){!q.state.isVisible&&U.parentNode&&U.parentNode.contains(U)&&t()}))}(i,q.unmount):q.unmount()}},hideWithInteractivity:function(e){ne().addEventListener("mousemove",V),u(N,V),V(e)},enable:function(){q.state.isEnabled=!0},disable:function(){q.hide(),q.state.isEnabled=!1},unmount:function(){q.state.isVisible&&q.hide(),q.state.isMounted&&(De(),Oe().forEach((function(e){e._tippy.unmount()})),U.parentNode&&U.parentNode.removeChild(U),Q=Q.filter((function(e){return e!==q})),q.state.isMounted=!1,re("onHidden",[q]))},destroy:function(){q.state.isDestroyed||(q.clearDelayTimeouts(),q.unmount(),ye(),delete t._tippy,q.state.isDestroyed=!0,re("onDestroy",[q]))}};if(!I.render)return q;var B=I.render(q),U=B.popper,K=B.onUpdate;U.setAttribute("data-tippy-root",""),U.id="tippy-"+q.id,q.popper=U,t._tippy=q,U._tippy=q;var J=W.map((function(e){return e.fn(q)})),G=t.hasAttribute("aria-expanded");return ve(),le(),ae(),re("onCreate",[q]),I.showOnCreate&&Me(),U.addEventListener("mouseenter",(function(){q.props.interactive&&q.state.isVisible&&q.clearDelayTimeouts()})),U.addEventListener("mouseleave",(function(){q.props.interactive&&q.props.trigger.indexOf("mouseenter")>=0&&ne().addEventListener("mousemove",V)})),q;function X(){var e=q.props.touch;return Array.isArray(e)?e:[e,0]}function Z(){return"hold"===X()[0]}function ee(){var e;return!(null==(e=q.props.render)||!e.$$tippy)}function te(){return E||t}function ne(){var e=te().parentNode;return e?_(e):document}function ie(){return L(U)}function oe(e){return q.state.isMounted&&!q.state.isVisible||C.isTouch||D&&"focus"===D.type?0:a(q.props.delay,e?0:1,T.delay)}function ae(e){void 0===e&&(e=!1),U.style.pointerEvents=q.props.interactive&&!e?"":"none",U.style.zIndex=""+q.props.zIndex}function re(e,t,n){var i;void 0===n&&(n=!0),J.forEach((function(n){n[e]&&n[e].apply(n,t)})),n&&(i=q.props)[e].apply(i,t)}function se(){var e=q.props.aria;if(e.content){var n="aria-"+e.content,i=U.id;d(q.props.triggerTarget||t).forEach((function(e){var t=e.getAttribute(n);if(q.state.isVisible)e.setAttribute(n,t?t+" "+i:i);else{var o=t&&t.replace(i,"").trim();o?e.setAttribute(n,o):e.removeAttribute(n)}}))}}function le(){!G&&q.props.aria.expanded&&d(q.props.triggerTarget||t).forEach((function(e){q.props.interactive?e.setAttribute("aria-expanded",q.state.isVisible&&e===te()?"true":"false"):e.removeAttribute("aria-expanded")}))}function ce(){ne().removeEventListener("mousemove",V),N=N.filter((function(e){return e!==V}))}function de(e){if(!C.isTouch||!H&&"mousedown"!==e.type){var n=e.composedPath&&e.composedPath()[0]||e.target;if(!q.props.interactive||!x(U,n)){if(d(q.props.triggerTarget||t).some((function(e){return x(e,n)}))){if(C.isTouch)return;if(q.state.isVisible&&q.props.trigger.indexOf("click")>=0)return}else re("onClickOutside",[q,e]);!0===q.props.hideOnClick&&(q.clearDelayTimeouts(),q.hide(),P=!0,setTimeout((function(){P=!1})),q.state.isMounted||me())}}}function ue(){H=!0}function pe(){H=!1}function fe(){var e=ne();e.addEventListener("mousedown",de,!0),e.addEventListener("touchend",de,i),e.addEventListener("touchstart",pe,i),e.addEventListener("touchmove",ue,i)}function me(){var e=ne();e.removeEventListener("mousedown",de,!0),e.removeEventListener("touchend",de,i),e.removeEventListener("touchstart",pe,i),e.removeEventListener("touchmove",ue,i)}function he(e,t){var n=ie().box;function i(e){e.target===n&&(k(n,"remove",i),t())}if(0===e)return t();k(n,"remove",O),k(n,"add",i),O=i}function ge(e,n,i){void 0===i&&(i=!1),d(q.props.triggerTarget||t).forEach((function(t){t.addEventListener(e,n,i),R.push({node:t,eventType:e,handler:n,options:i})}))}function ve(){var e;Z()&&(ge("touchstart",be,{passive:!0}),ge("touchend",_e,{passive:!0})),(e=q.props.trigger,e.split(/\s+/).filter(Boolean)).forEach((function(e){if("manual"!==e)switch(ge(e,be),e){case"mouseenter":ge("mouseleave",_e);break;case"focus":ge(n?"focusout":"blur",ke);break;case"focusin":ge("focusout",ke)}}))}function ye(){R.forEach((function(e){var t=e.node,n=e.eventType,i=e.handler,o=e.options;t.removeEventListener(n,i,o)})),R=[]}function be(e){var t,n=!1;if(q.state.isEnabled&&!xe(e)&&!P){var i="focus"===(null==(t=D)?void 0:t.type);D=e,E=e.currentTarget,le(),!q.state.isVisible&&v(e)&&N.forEach((function(t){return t(e)})),"click"===e.type&&(q.props.trigger.indexOf("mouseenter")<0||F)&&!1!==q.props.hideOnClick&&q.state.isVisible?n=!0:Me(e),"click"===e.type&&(F=!n),n&&!i&&Ee(e)}}function we(e){var t=e.target,n=te().contains(t)||U.contains(t);"mousemove"===e.type&&n||function(e,t){var n=t.clientX,i=t.clientY;return e.every((function(e){var t=e.popperRect,o=e.popperState,a=e.props.interactiveBorder,r=p(o.placement),s=o.modifiersData.offset;if(!s)return!0;var l="bottom"===r?s.top.y:0,c="top"===r?s.bottom.y:0,d="right"===r?s.left.x:0,u="left"===r?s.right.x:0,f=t.top-i+l>a,m=i-t.bottom-c>a,h=t.left-n+d>a,g=n-t.right-u>a;return f||m||h||g}))}(Oe().concat(U).map((function(e){var t,n=null==(t=e._tippy.popperInstance)?void 0:t.state;return n?{popperRect:e.getBoundingClientRect(),popperState:n,props:I}:null})).filter(Boolean),e)&&(ce(),Ee(e))}function _e(e){xe(e)||q.props.trigger.indexOf("click")>=0&&F||(q.props.interactive?q.hideWithInteractivity(e):Ee(e))}function ke(e){q.props.trigger.indexOf("focusin")<0&&e.target!==te()||q.props.interactive&&e.relatedTarget&&U.contains(e.relatedTarget)||Ee(e)}function xe(e){return!!C.isTouch&&Z()!==e.type.indexOf("touch")>=0}function Ce(){De();var n=q.props,i=n.popperOptions,o=n.placement,a=n.offset,r=n.getReferenceClientRect,s=n.moveTransition,l=ee()?L(U).arrow:null,c=r?{getBoundingClientRect:r,contextElement:r.contextElement||te()}:t,d=[{name:"offset",options:{offset:a}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!s}},{name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t=e.state;if(ee()){var n=ie().box;["placement","reference-hidden","escaped"].forEach((function(e){"placement"===e?n.setAttribute("data-placement",t.placement):t.attributes.popper["data-popper-"+e]?n.setAttribute("data-"+e,""):n.removeAttribute("data-"+e)})),t.attributes.popper={}}}}];ee()&&l&&d.push({name:"arrow",options:{element:l,padding:3}}),d.push.apply(d,(null==i?void 0:i.modifiers)||[]),q.popperInstance=e.createPopper(c,U,Object.assign({},i,{placement:o,onFirstUpdate:M,modifiers:d}))}function De(){q.popperInstance&&(q.popperInstance.destroy(),q.popperInstance=null)}function Oe(){return f(U.querySelectorAll("[data-tippy-root]"))}function Me(e){q.clearDelayTimeouts(),e&&re("onTrigger",[q,e]),fe();var t=oe(!0),n=X(),i=n[0],o=n[1];C.isTouch&&"hold"===i&&o&&(t=o),t?c=setTimeout((function(){q.show()}),t):q.show()}function Ee(e){if(q.clearDelayTimeouts(),re("onUntrigger",[q,e]),q.state.isVisible){if(!(q.props.trigger.indexOf("mouseenter")>=0&&q.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(e.type)>=0&&F)){var t=oe(!1);t?g=setTimeout((function(){q.state.isVisible&&q.hide()}),t):y=requestAnimationFrame((function(){q.hide()}))}}else me()}}function R(e,t){void 0===t&&(t={});var n=T.plugins.concat(t.plugins||[]);document.addEventListener("touchstart",O,i),window.addEventListener("blur",E);var o=Object.assign({},t,{plugins:n}),a=function(e){return g(e)?[e]:function(e){return r(e,"NodeList")}(e)?f(e):Array.isArray(e)?e:f(document.querySelectorAll(e))}(e).reduce((function(e,t){var n=t&&z(t,o);return n&&e.push(n),e}),[]);return g(e)?a[0]:a}R.defaultProps=T,R.setDefaultProps=function(e){Object.keys(e).forEach((function(t){T[t]=e[t]}))},R.currentInput=C;var V=Object.assign({},e.applyStyles,{effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow)}}),Y={mouseover:"mouseenter",focusin:"focus",click:"click"},W={name:"animateFill",defaultValue:!1,fn:function(e){var t;if(null==(t=e.props.render)||!t.$$tippy)return{};var n=L(e.popper),i=n.box,o=n.content,a=e.props.animateFill?function(){var e=h();return e.className="tippy-backdrop",w([e],"hidden"),e}():null;return{onCreate:function(){a&&(i.insertBefore(a,i.firstElementChild),i.setAttribute("data-animatefill",""),i.style.overflow="hidden",e.setProps({arrow:!1,animation:"shift-away"}))},onMount:function(){if(a){var e=i.style.transitionDuration,t=Number(e.replace("ms",""));o.style.transitionDelay=Math.round(t/10)+"ms",a.style.transitionDuration=e,w([a],"visible")}},onShow:function(){a&&(a.style.transitionDuration="0ms")},onHide:function(){a&&w([a],"hidden")}}}},q={clientX:0,clientY:0},B=[];function U(e){var t=e.clientX,n=e.clientY;q={clientX:t,clientY:n}}var K={name:"followCursor",defaultValue:!1,fn:function(e){var t=e.reference,n=_(e.props.triggerTarget||t),i=!1,o=!1,a=!0,r=e.props;function s(){return"initial"===e.props.followCursor&&e.state.isVisible}function l(){n.addEventListener("mousemove",u)}function c(){n.removeEventListener("mousemove",u)}function d(){i=!0,e.setProps({getReferenceClientRect:null}),i=!1}function u(n){var i=!n.target||t.contains(n.target),o=e.props.followCursor,a=n.clientX,r=n.clientY,s=t.getBoundingClientRect(),l=a-s.left,c=r-s.top;!i&&e.props.interactive||e.setProps({getReferenceClientRect:function(){var e=t.getBoundingClientRect(),n=a,i=r;"initial"===o&&(n=e.left+l,i=e.top+c);var s="horizontal"===o?e.top:i,d="vertical"===o?e.right:n,u="horizontal"===o?e.bottom:i,p="vertical"===o?e.left:n;return{width:d-p,height:u-s,top:s,right:d,bottom:u,left:p}}})}function p(){e.props.followCursor&&(B.push({instance:e,doc:n}),function(e){e.addEventListener("mousemove",U)}(n))}function f(){0===(B=B.filter((function(t){return t.instance!==e}))).filter((function(e){return e.doc===n})).length&&function(e){e.removeEventListener("mousemove",U)}(n)}return{onCreate:p,onDestroy:f,onBeforeUpdate:function(){r=e.props},onAfterUpdate:function(t,n){var a=n.followCursor;i||void 0!==a&&r.followCursor!==a&&(f(),a?(p(),!e.state.isMounted||o||s()||l()):(c(),d()))},onMount:function(){e.props.followCursor&&!o&&(a&&(u(q),a=!1),s()||l())},onTrigger:function(e,t){v(t)&&(q={clientX:t.clientX,clientY:t.clientY}),o="focus"===t.type},onHidden:function(){e.props.followCursor&&(d(),c(),a=!0)}}}},J={name:"inlinePositioning",defaultValue:!1,fn:function(e){var t,n=e.reference,i=-1,o=!1,a=[],r={name:"tippyInlinePositioning",enabled:!0,phase:"afterWrite",fn:function(o){var r=o.state;e.props.inlinePositioning&&(-1!==a.indexOf(r.placement)&&(a=[]),t!==r.placement&&-1===a.indexOf(r.placement)&&(a.push(r.placement),e.setProps({getReferenceClientRect:function(){return function(e){return function(e,t,n,i){if(n.length<2||null===e)return t;if(2===n.length&&i>=0&&n[0].left>n[1].right)return n[i]||t;switch(e){case"top":case"bottom":var o=n[0],a=n[n.length-1],r="top"===e,s=o.top,l=a.bottom,c=r?o.left:a.left,d=r?o.right:a.right;return{top:s,bottom:l,left:c,right:d,width:d-c,height:l-s};case"left":case"right":var u=Math.min.apply(Math,n.map((function(e){return e.left}))),p=Math.max.apply(Math,n.map((function(e){return e.right}))),f=n.filter((function(t){return"left"===e?t.left===u:t.right===p})),m=f[0].top,h=f[f.length-1].bottom;return{top:m,bottom:h,left:u,right:p,width:p-u,height:h-m};default:return t}}(p(e),n.getBoundingClientRect(),f(n.getClientRects()),i)}(r.placement)}})),t=r.placement)}};function s(){var t;o||(t=function(e,t){var n;return{popperOptions:Object.assign({},e.popperOptions,{modifiers:[].concat(((null==(n=e.popperOptions)?void 0:n.modifiers)||[]).filter((function(e){return e.name!==t.name})),[t])})}}(e.props,r),o=!0,e.setProps(t),o=!1)}return{onCreate:s,onAfterUpdate:s,onTrigger:function(t,n){if(v(n)){var o=f(e.reference.getClientRects()),a=o.find((function(e){return e.left-2<=n.clientX&&e.right+2>=n.clientX&&e.top-2<=n.clientY&&e.bottom+2>=n.clientY})),r=o.indexOf(a);i=r>-1?r:i}},onHidden:function(){i=-1}}}},G={name:"sticky",defaultValue:!1,fn:function(e){var t=e.reference,n=e.popper;function i(t){return!0===e.props.sticky||e.props.sticky===t}var o=null,a=null;function r(){var s=i("reference")?(e.popperInstance?e.popperInstance.state.elements.reference:t).getBoundingClientRect():null,l=i("popper")?n.getBoundingClientRect():null;(s&&X(o,s)||l&&X(a,l))&&e.popperInstance&&e.popperInstance.update(),o=s,a=l,e.state.isMounted&&requestAnimationFrame(r)}return{onMount:function(){e.props.sticky&&r()}}}};function X(e,t){return!e||!t||e.top!==t.top||e.right!==t.right||e.bottom!==t.bottom||e.left!==t.left}return t&&function(e){var t=document.createElement("style");t.textContent='.tippy-box[data-animation=fade][data-state=hidden]{opacity:0}[data-tippy-root]{max-width:calc(100vw - 10px)}.tippy-box{position:relative;background-color:#333;color:#fff;border-radius:4px;font-size:14px;line-height:1.4;white-space:normal;outline:0;transition-property:transform,visibility,opacity}.tippy-box[data-placement^=top]>.tippy-arrow{bottom:0}.tippy-box[data-placement^=top]>.tippy-arrow:before{bottom:-7px;left:0;border-width:8px 8px 0;border-top-color:initial;transform-origin:center top}.tippy-box[data-placement^=bottom]>.tippy-arrow{top:0}.tippy-box[data-placement^=bottom]>.tippy-arrow:before{top:-7px;left:0;border-width:0 8px 8px;border-bottom-color:initial;transform-origin:center bottom}.tippy-box[data-placement^=left]>.tippy-arrow{right:0}.tippy-box[data-placement^=left]>.tippy-arrow:before{border-width:8px 0 8px 8px;border-left-color:initial;right:-7px;transform-origin:center left}.tippy-box[data-placement^=right]>.tippy-arrow{left:0}.tippy-box[data-placement^=right]>.tippy-arrow:before{left:-7px;border-width:8px 8px 8px 0;border-right-color:initial;transform-origin:center right}.tippy-box[data-inertia][data-state=visible]{transition-timing-function:cubic-bezier(.54,1.5,.38,1.11)}.tippy-arrow{width:16px;height:16px;color:#333}.tippy-arrow:before{content:"";position:absolute;border-color:transparent;border-style:solid}.tippy-content{position:relative;padding:5px 9px;z-index:1}',t.setAttribute("data-tippy-stylesheet","");var n=document.head,i=document.querySelector("head>style,head>link");i?n.insertBefore(t,i):n.appendChild(t)}(),R.setDefaultProps({plugins:[W,K,J,G],render:H}),R.createSingleton=function(e,t){var n;void 0===t&&(t={});var i,o=e,a=[],r=[],s=t.overrides,l=[],u=!1;function p(){r=o.map((function(e){return d(e.props.triggerTarget||e.reference)})).reduce((function(e,t){return e.concat(t)}),[])}function f(){a=o.map((function(e){return e.reference}))}function m(e){o.forEach((function(t){e?t.enable():t.disable()}))}function g(e){return o.map((function(t){var n=t.setProps;return t.setProps=function(o){n(o),t.reference===i&&e.setProps(o)},function(){t.setProps=n}}))}function v(e,t){var n=r.indexOf(t);if(t!==i){i=t;var l=(s||[]).concat("content").reduce((function(e,t){return e[t]=o[n].props[t],e}),{});e.setProps(Object.assign({},l,{getReferenceClientRect:"function"==typeof l.getReferenceClientRect?l.getReferenceClientRect:function(){var e;return null==(e=a[n])?void 0:e.getBoundingClientRect()}}))}}m(!1),f(),p();var y={fn:function(){return{onDestroy:function(){m(!0)},onHidden:function(){i=null},onClickOutside:function(e){e.props.showOnCreate&&!u&&(u=!0,i=null)},onShow:function(e){e.props.showOnCreate&&!u&&(u=!0,v(e,a[0]))},onTrigger:function(e,t){v(e,t.currentTarget)}}}},b=R(h(),Object.assign({},c(t,["overrides"]),{plugins:[y].concat(t.plugins||[]),triggerTarget:r,popperOptions:Object.assign({},t.popperOptions,{modifiers:[].concat((null==(n=t.popperOptions)?void 0:n.modifiers)||[],[V])})})),w=b.show;b.show=function(e){if(w(),!i&&null==e)return v(b,a[0]);if(!i||null!=e){if("number"==typeof e)return a[e]&&v(b,a[e]);if(o.indexOf(e)>=0){var t=e.reference;return v(b,t)}return a.indexOf(e)>=0?v(b,e):void 0}},b.showNext=function(){var e=a[0];if(!i)return b.show(0);var t=a.indexOf(i);b.show(a[t+1]||e)},b.showPrevious=function(){var e=a[a.length-1];if(!i)return b.show(e);var t=a.indexOf(i),n=a[t-1]||e;b.show(n)};var _=b.setProps;return b.setProps=function(e){s=e.overrides||s,_(e)},b.setInstances=function(e){m(!0),l.forEach((function(e){return e()})),o=e,m(!1),f(),p(),l=g(b),b.setProps({triggerTarget:r})},l=g(b),b},R.delegate=function(e,t){var n=[],o=[],a=!1,r=t.target,s=c(t,["target"]),l=Object.assign({},s,{trigger:"manual",touch:!1}),u=Object.assign({touch:T.touch},s,{showOnCreate:!0}),p=R(e,l);function f(e){if(e.target&&!a){var n=e.target.closest(r);if(n){var i=n.getAttribute("data-tippy-trigger")||t.trigger||T.trigger;if(!n._tippy&&!("touchstart"===e.type&&"boolean"==typeof u.touch||"touchstart"!==e.type&&i.indexOf(Y[e.type])<0)){var s=R(n,u);s&&(o=o.concat(s))}}}}function m(e,t,i,o){void 0===o&&(o=!1),e.addEventListener(t,i,o),n.push({node:e,eventType:t,handler:i,options:o})}return d(p).forEach((function(e){var t=e.destroy,r=e.enable,s=e.disable;e.destroy=function(e){void 0===e&&(e=!0),e&&o.forEach((function(e){e.destroy()})),o=[],n.forEach((function(e){var t=e.node,n=e.eventType,i=e.handler,o=e.options;t.removeEventListener(n,i,o)})),n=[],t()},e.enable=function(){r(),o.forEach((function(e){return e.enable()})),a=!1},e.disable=function(){s(),o.forEach((function(e){return e.disable()})),a=!0},function(e){var t=e.reference;m(t,"touchstart",f,i),m(t,"mouseover",f),m(t,"focusin",f),m(t,"click",f)}(e)})),p},R.hideAll=function(e){var t=void 0===e?{}:e,n=t.exclude,i=t.duration;Q.forEach((function(e){var t=!1;if(n&&(t=y(n)?e.reference===n:e.popper===n.popper),!t){var o=e.props.duration;e.setProps({duration:i}),e.hide(),e.state.isDestroyed||e.setProps({duration:o})}}))},R.roundArrow='<svg width="16" height="6" xmlns="http://www.w3.org/2000/svg"><path d="M0 6s1.796-.013 4.67-3.615C5.851.9 6.93.006 8 0c1.07-.006 2.148.887 3.343 2.385C14.233 6.005 16 6 16 6H0z"></svg>',R})),function(e,t){"function"==typeof define&&define.amd?define("sifter",t):"object"==typeof exports?module.exports=t():e.Sifter=t()}(this,(function(){function e(e,t){this.items=e,this.settings=t||{diacritics:!0}}e.prototype.tokenize=function(e,t){if(!(e=o(String(e||"").toLowerCase()))||!e.length)return[];for(var n,i,r=[],l=e.split(/ +/),c=0,d=l.length;c<d;c++){if(n=a(l[c]),this.settings.diacritics)for(i in s)s.hasOwnProperty(i)&&(n=n.replace(new RegExp(i,"g"),s[i]));t&&(n="\\b"+n),r.push({string:l[c],regex:new RegExp(n,"i")})}return r},e.prototype.iterator=function(e,t){var n=r(e)?Array.prototype.forEach||function(e){for(var t=0,n=this.length;t<n;t++)e(this[t],t,this)}:function(e){for(var t in this)this.hasOwnProperty(t)&&e(this[t],t,this)};n.apply(e,[t])},e.prototype.getScoreFunction=function(e,t){function n(e,t){var n;return e&&-1!==(n=(e=String(e||"")).search(t.regex))?(t=t.string.length/e.length,0===n&&(t+=.5),t):0}var o,a=(e=this.prepareSearch(e,t)).tokens,r=e.options.fields,s=a.length,l=e.options.nesting,c=(o=r.length)?1===o?function(e,t){return n(i(t,r[0],l),e)}:function(e,t){for(var a=0,s=0;a<o;a++)s+=n(i(t,r[a],l),e);return s/o}:function(){return 0};return s?1===s?function(e){return c(a[0],e)}:"and"===e.options.conjunction?function(e){for(var t,n=0,i=0;n<s;n++){if((t=c(a[n],e))<=0)return 0;i+=t}return i/s}:function(e){for(var t=0,n=0;t<s;t++)n+=c(a[t],e);return n/s}:function(){return 0}},e.prototype.getSortFunction=function(e,n){var o,a,r,s,l,c,d,u=this,p=!(e=u.prepareSearch(e,n)).query&&n.sort_empty||n.sort,f=function(e,t){return"$score"===e?t.score:i(u.items[t.id],e,n.nesting)},m=[];if(p)for(o=0,a=p.length;o<a;o++)!e.query&&"$score"===p[o].field||m.push(p[o]);if(e.query){for(d=!0,o=0,a=m.length;o<a;o++)if("$score"===m[o].field){d=!1;break}d&&m.unshift({field:"$score",direction:"desc"})}else for(o=0,a=m.length;o<a;o++)if("$score"===m[o].field){m.splice(o,1);break}for(c=[],o=0,a=m.length;o<a;o++)c.push("desc"===m[o].direction?-1:1);return(s=m.length)?1===s?(r=m[0].field,l=c[0],function(e,n){return l*t(f(r,e),f(r,n))}):function(e,n){for(var i,o=0;o<s;o++)if(i=m[o].field,i=c[o]*t(f(i,e),f(i,n)))return i;return 0}:null},e.prototype.prepareSearch=function(e,t){if("object"==typeof e)return e;var i=(t=n({},t)).fields,o=t.sort,a=t.sort_empty;return i&&!r(i)&&(t.fields=[i]),o&&!r(o)&&(t.sort=[o]),a&&!r(a)&&(t.sort_empty=[a]),{options:t,query:String(e||"").toLowerCase(),tokens:this.tokenize(e,t.respect_word_boundaries),total:0,items:[]}},e.prototype.search=function(e,t){var n,i,o=this.prepareSearch(e,t);return t=o.options,e=o.query,i=t.score||this.getScoreFunction(o),e.length?this.iterator(this.items,(function(e,a){n=i(e),(!1===t.filter||0<n)&&o.items.push({score:n,id:a})})):this.iterator(this.items,(function(e,t){o.items.push({score:1,id:t})})),(e=this.getSortFunction(o,t))&&o.items.sort(e),o.total=o.items.length,"number"==typeof t.limit&&(o.items=o.items.slice(0,t.limit)),o};var t=function(e,t){return"number"==typeof e&&"number"==typeof t?t<e?1:e<t?-1:0:(e=l(String(e||"")),(t=l(String(t||"")))<e?1:e<t?-1:0)},n=function(e,t){for(var n,i,o=1,a=arguments.length;o<a;o++)if(i=arguments[o])for(n in i)i.hasOwnProperty(n)&&(e[n]=i[n]);return e},i=function(e,t,n){if(e&&t){if(!n)return e[t];for(var i=t.split(".");i.length&&(e=e[i.shift()]););return e}},o=function(e){return(e+"").replace(/^\s+|\s+$|/g,"")},a=function(e){return(e+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},r=Array.isArray||"undefined"!=typeof $&&$.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},s={a:"[aḀḁĂăÂâǍǎȺⱥȦȧẠạÄäÀàÁáĀāÃãÅåąĄÃąĄ]",b:"[b␢βΒB฿𐌁ᛒ]",c:"[cĆćĈĉČčĊċC̄c̄ÇçḈḉȻȼƇƈɕᴄＣｃ]",d:"[dĎďḊḋḐḑḌḍḒḓḎḏĐđD̦d̦ƉɖƊɗƋƌᵭᶁᶑȡᴅＤｄð]",e:"[eÉéÈèÊêḘḙĚěĔĕẼẽḚḛẺẻĖėËëĒēȨȩĘęᶒɆɇȄȅẾếỀềỄễỂểḜḝḖḗḔḕȆȇẸẹỆệⱸᴇＥｅɘǝƏƐε]",f:"[fƑƒḞḟ]",g:"[gɢ₲ǤǥĜĝĞğĢģƓɠĠġ]",h:"[hĤĥĦħḨḩẖẖḤḥḢḣɦʰǶƕ]",i:"[iÍíÌìĬĭÎîǏǐÏïḮḯĨĩĮįĪīỈỉȈȉȊȋỊịḬḭƗɨɨ̆ᵻᶖİiIıɪＩｉ]",j:"[jȷĴĵɈɉʝɟʲ]",k:"[kƘƙꝀꝁḰḱǨǩḲḳḴḵκϰ₭]",l:"[lŁłĽľĻļĹĺḶḷḸḹḼḽḺḻĿŀȽƚⱠⱡⱢɫɬᶅɭȴʟＬｌ]",n:"[nŃńǸǹŇňÑñṄṅŅņṆṇṊṋṈṉN̈n̈ƝɲȠƞᵰᶇɳȵɴＮｎŊŋ]",o:"[oØøÖöÓóÒòÔôǑǒŐőŎŏȮȯỌọƟɵƠơỎỏŌōÕõǪǫȌȍՕօ]",p:"[pṔṕṖṗⱣᵽƤƥᵱ]",q:"[qꝖꝗʠɊɋꝘꝙq̃]",r:"[rŔŕɌɍŘřŖŗṘṙȐȑȒȓṚṛⱤɽ]",s:"[sŚśṠṡṢṣꞨꞩŜŝŠšŞşȘșS̈s̈]",t:"[tŤťṪṫŢţṬṭƮʈȚțṰṱṮṯƬƭ]",u:"[uŬŭɄʉỤụÜüÚúÙùÛûǓǔŰűŬŭƯưỦủŪūŨũŲųȔȕ∪]",v:"[vṼṽṾṿƲʋꝞꝟⱱʋ]",w:"[wẂẃẀẁŴŵẄẅẆẇẈẉ]",x:"[xẌẍẊẋχ]",y:"[yÝýỲỳŶŷŸÿỸỹẎẏỴỵɎɏƳƴ]",z:"[zŹźẐẑŽžŻżẒẓẔẕƵƶ]"},l=function(){var e,t,n,i,o="",a={};for(n in s)if(s.hasOwnProperty(n))for(o+=i=s[n].substring(2,s[n].length-1),e=0,t=i.length;e<t;e++)a[i.charAt(e)]=n;var r=new RegExp("["+o+"]","g");return function(e){return e.replace(r,(function(e){return a[e]})).toLowerCase()}}();return e})),function(e,t){"function"==typeof define&&define.amd?define("microplugin",t):"object"==typeof exports?module.exports=t():e.MicroPlugin=t()}(this,(function(){var e={mixin:function(e){e.plugins={},e.prototype.initializePlugins=function(e){var n,i,o,a=[];if(this.plugins={names:[],settings:{},requested:{},loaded:{}},t.isArray(e))for(n=0,i=e.length;n<i;n++)"string"==typeof e[n]?a.push(e[n]):(this.plugins.settings[e[n].name]=e[n].options,a.push(e[n].name));else if(e)for(o in e)e.hasOwnProperty(o)&&(this.plugins.settings[o]=e[o],a.push(o));for(;a.length;)this.require(a.shift())},e.prototype.loadPlugin=function(t){var n=this.plugins,i=e.plugins[t];if(!e.plugins.hasOwnProperty(t))throw new Error('Unable to find "'+t+'" plugin');n.requested[t]=!0,n.loaded[t]=i.fn.apply(this,[this.plugins.settings[t]||{}]),n.names.push(t)},e.prototype.require=function(e){var t=this.plugins;if(!this.plugins.loaded.hasOwnProperty(e)){if(t.requested[e])throw new Error('Plugin has circular dependency ("'+e+'")');this.loadPlugin(e)}return t.loaded[e]},e.define=function(t,n){e.plugins[t]={name:t,fn:n}}}},t={isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}};return e})),function(e,t){"function"==typeof define&&define.amd?define("selectize",["jquery","sifter","microplugin"],t):"object"==typeof module&&"object"==typeof module.exports?module.exports=t(require("jquery"),require("sifter"),require("microplugin")):e.Selectize=t(e.jQuery,e.Sifter,e.MicroPlugin)}(this,(function(e,t,n){"use strict";function i(){}function o(e){return void 0!==e}function a(e){return null==e?null:"boolean"==typeof e?e?"1":"0":e+""}function r(e){return(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function s(e,t,n){var i,o=e.trigger,a={};for(i in e.trigger=function(){var n=arguments[0];if(-1===t.indexOf(n))return o.apply(e,arguments);a[n]=arguments},n.apply(e,[]),e.trigger=o,a)a.hasOwnProperty(i)&&o.apply(e,a[i])}function l(e){var t,n,i={};return void 0===e?console.warn("WARN getSelection cannot locate input control"):"selectionStart"in e?(i.start=e.selectionStart,i.length=e.selectionEnd-i.start):document.selection&&(e.focus(),t=document.selection.createRange(),n=document.selection.createRange().text.length,t.moveStart("character",-e.value.length),i.start=t.text.length-n,i.length=n),i}function c(t,n){return t?(v.$testInput||(v.$testInput=e("<span />").css({position:"absolute",width:"auto",padding:0,whiteSpace:"pre"}),e("<div />").css({position:"absolute",width:0,height:0,overflow:"hidden"}).append(v.$testInput).appendTo("body")),v.$testInput.text(t),g(n,v.$testInput,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]),v.$testInput.width()):0}e.fn.removeHighlight=function(){return this.find("span.highlight").each((function(){this.parentNode.firstChild.nodeName;var e=this.parentNode;e.replaceChild(this.firstChild,this),e.normalize()})).end()},i.prototype={on:function(e,t){this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(t)},off:function(e,t){var n=arguments.length;return 0===n?delete this._events:1===n?delete this._events[e]:(this._events=this._events||{},void(e in this._events!=0&&this._events[e].splice(this._events[e].indexOf(t),1)))},trigger:function(e){if(this._events=this._events||{},e in this._events!=0)for(var t=0;t<this._events[e].length;t++)this._events[e][t].apply(this,Array.prototype.slice.call(arguments,1))}},i.mixin=function(e){for(var t=["on","off","trigger"],n=0;n<t.length;n++)e.prototype[t[n]]=i.prototype[t[n]]};var d,u=/Mac/.test(navigator.userAgent),p=u?91:17,f=u?18:17,m=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("input").validity,h=function(e,t,n){var i=e[t];e[t]=function(){var t=i.apply(e,arguments);return n.apply(e,arguments),t}},g=function(e,t,n){var i,o,a={};if(n)for(i=0,o=n.length;i<o;i++)a[n[i]]=e.css(n[i]);else a=e.css();t.css(a)},v=function(n,i){var o,a,r,s,l,c=n[0],d=(c.selectize=this,window.getComputedStyle&&window.getComputedStyle(c,null));if(d=(d?d.getPropertyValue("direction"):c.currentStyle&&c.currentStyle.direction)||n.parents("[dir]:first").attr("dir")||"",e.extend(this,{order:0,settings:i,$input:n,tabIndex:n.attr("tabindex")||"",tagType:"select"===c.tagName.toLowerCase()?1:2,rtl:/rtl/i.test(d),eventNS:".selectize"+ ++v.count,highlightedValue:null,isBlurring:!1,isOpen:!1,isDisabled:!1,isRequired:n.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",lastValidValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===i.loadThrottle?this.onSearchChange:(r=this.onSearchChange,s=i.loadThrottle,function(){var e=this,t=arguments;window.clearTimeout(l),l=window.setTimeout((function(){r.apply(e,t)}),s)})}),this.sifter=new t(this.options,{diacritics:i.diacritics}),this.settings.options){for(o=0,a=this.settings.options.length;o<a;o++)this.registerOption(this.settings.options[o]);delete this.settings.options}if(this.settings.optgroups){for(o=0,a=this.settings.optgroups.length;o<a;o++)this.registerOptionGroup(this.settings.optgroups[o]);delete this.settings.optgroups}this.settings.mode=this.settings.mode||(1===this.settings.maxItems?"single":"multi"),"boolean"!=typeof this.settings.hideSelected&&(this.settings.hideSelected="multi"===this.settings.mode),this.initializePlugins(this.settings.plugins),this.setupCallbacks(),this.setupTemplates(),this.setup()};return i.mixin(v),void 0!==n?n.mixin(v):(n="Dependency MicroPlugin is missing",d=(d={explanation:'Make sure you either: (1) are using the "standalone" version of Selectize, or (2) require MicroPlugin before you load Selectize.'})||{},console.error("Selectize: "+n),d.explanation&&(console.group&&console.group(),console.error(d.explanation),console.group&&console.groupEnd())),e.extend(v.prototype,{setup:function(){var t,n,i,o=this,a=o.settings,r=o.eventNS,s=e(window),d=e(document),h=o.$input,g=o.settings.mode,v=h.attr("class")||"",y=e("<div>").addClass(a.wrapperClass).addClass(v).addClass(g),b=e("<div>").addClass(a.inputClass).addClass("items").appendTo(y),w=e('<input type="text" autocomplete="new-password" autofill="no" />').appendTo(b).attr("tabindex",h.is(":disabled")?"-1":o.tabIndex),_=e(a.dropdownParent||y);g=e("<div>").addClass(a.dropdownClass).addClass(g).hide().appendTo(_),_=e("<div>").addClass(a.dropdownContentClass).attr("tabindex","-1").appendTo(g);(n=h.attr("id"))&&(w.attr("id",n+"-selectized"),e("label[for='"+n+"']").attr("for",n+"-selectized")),o.settings.copyClassesToDropdown&&g.addClass(v),y.css({width:h[0].style.width}),o.plugins.names.length&&(n="plugin-"+o.plugins.names.join(" plugin-"),y.addClass(n),g.addClass(n)),(null===a.maxItems||1<a.maxItems)&&1===o.tagType&&h.attr("multiple","multiple"),o.settings.placeholder&&w.attr("placeholder",a.placeholder),!o.settings.splitOn&&o.settings.delimiter&&(v=o.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),o.settings.splitOn=new RegExp("\\s*"+v+"+\\s*")),h.attr("autocorrect")&&w.attr("autocorrect",h.attr("autocorrect")),h.attr("autocapitalize")&&w.attr("autocapitalize",h.attr("autocapitalize")),h.is("input")&&(w[0].type=h[0].type),o.$wrapper=y,o.$control=b,o.$control_input=w,o.$dropdown=g,o.$dropdown_content=_,g.on("mouseenter mousedown click","[data-disabled]>[data-selectable]",(function(e){e.stopImmediatePropagation()})),g.on("mouseenter","[data-selectable]",(function(){return o.onOptionHover.apply(o,arguments)})),g.on("mousedown click","[data-selectable]",(function(){return o.onOptionSelect.apply(o,arguments)})),n="mousedown",v="*:not(input)",i=function(){return o.onItemSelect.apply(o,arguments)},(t=b).on(n,v,(function(e){for(var n=e.target;n&&n.parentNode!==t[0];)n=n.parentNode;return e.currentTarget=n,i.apply(this,[e])})),function(e){function t(t,i){var o,a,r;i=i||{},(t=t||window.event||{}).metaKey||t.altKey||!i.force&&!1===e.data("grow")||(i=e.val(),t.type&&"keydown"===t.type.toLowerCase()&&(o=48<=(a=t.keyCode)&&a<=57||65<=a&&a<=90||96<=a&&a<=111||186<=a&&a<=222||32===a,46===a||8===a?(r=l(e[0])).length?i=i.substring(0,r.start)+i.substring(r.start+r.length):8===a&&r.start?i=i.substring(0,r.start-1)+i.substring(r.start+1):46===a&&void 0!==r.start&&(i=i.substring(0,r.start)+i.substring(r.start+1)):o&&(a=t.shiftKey,r=String.fromCharCode(t.keyCode),i+=r=a?r.toUpperCase():r.toLowerCase())),t=(o=e.attr("placeholder"))?c(o,e)+4:0,(a=Math.max(c(i,e),t)+4)!==n&&(n=a,e.width(a),e.triggerHandler("resize")))}var n=null;e.on("keydown keyup update blur",t),t()}(w),b.on({mousedown:function(){return o.onMouseDown.apply(o,arguments)},click:function(){return o.onClick.apply(o,arguments)}}),w.on({mousedown:function(e){e.stopPropagation()},keydown:function(){return o.onKeyDown.apply(o,arguments)},keypress:function(){return o.onKeyPress.apply(o,arguments)},input:function(){return o.onInput.apply(o,arguments)},resize:function(){o.positionDropdown.apply(o,[])},blur:function(){return o.onBlur.apply(o,arguments)},focus:function(){return o.ignoreBlur=!1,o.onFocus.apply(o,arguments)},paste:function(){return o.onPaste.apply(o,arguments)}}),d.on("keydown"+r,(function(e){o.isCmdDown=e[u?"metaKey":"ctrlKey"],o.isCtrlDown=e[u?"altKey":"ctrlKey"],o.isShiftDown=e.shiftKey})),d.on("keyup"+r,(function(e){e.keyCode===f&&(o.isCtrlDown=!1),16===e.keyCode&&(o.isShiftDown=!1),e.keyCode===p&&(o.isCmdDown=!1)})),d.on("mousedown"+r,(function(e){if(o.isFocused){if(e.target===o.$dropdown[0]||e.target.parentNode===o.$dropdown[0])return!1;o.$control.has(e.target).length||e.target===o.$control[0]||o.blur(e.target)}})),s.on(["scroll"+r,"resize"+r].join(" "),(function(){o.isOpen&&o.positionDropdown.apply(o,arguments)})),s.on("mousemove"+r,(function(){o.ignoreHover=!1})),this.revertSettings={$children:h.children().detach(),tabindex:h.attr("tabindex")},h.attr("tabindex",-1).hide().after(o.$wrapper),Array.isArray(a.items)&&(o.lastValidValue=a.items,o.setValue(a.items),delete a.items),m&&h.on("invalid"+r,(function(e){e.preventDefault(),o.isInvalid=!0,o.refreshState()})),o.updateOriginalInput(),o.refreshItems(),o.refreshState(),o.updatePlaceholder(),o.isSetup=!0,h.is(":disabled")&&o.disable(),o.on("change",this.onChange),h.data("selectize",o),h.addClass("selectized"),o.trigger("initialize"),!0===a.preload&&o.onSearchChange("")},setupTemplates:function(){var t=this.settings.labelField,n=this.settings.valueField,i=this.settings.optgroupLabelField;this.settings.render=e.extend({},{optgroup:function(e){return'<div class="optgroup">'+e.html+"</div>"},optgroup_header:function(e,t){return'<div class="optgroup-header">'+t(e[i])+"</div>"},option:function(e,i){return'<div class="option '+(""===e[n]?"selectize-dropdown-emptyoptionlabel":"")+'">'+i(e[t])+"</div>"},item:function(e,n){return'<div class="item">'+n(e[t])+"</div>"},option_create:function(e,t){return'<div class="create">Add <strong>'+t(e.input)+"</strong>&hellip;</div>"}},this.settings.render)},setupCallbacks:function(){var e,t,n={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur",dropdown_item_activate:"onDropdownItemActivate",dropdown_item_deactivate:"onDropdownItemDeactivate"};for(e in n)n.hasOwnProperty(e)&&(t=this.settings[n[e]])&&this.on(e,t)},onClick:function(e){this.isFocused&&this.isOpen||(this.focus(),e.preventDefault())},onMouseDown:function(t){var n=this,i=t.isDefaultPrevented();if(e(t.target),n.isFocused){if(t.target!==n.$control_input[0])return"single"===n.settings.mode?n.isOpen?n.close():n.open():i||n.setActiveItem(null),!1}else i||window.setTimeout((function(){n.focus()}),0)},onChange:function(){""!==this.getValue()&&(this.lastValidValue=this.getValue()),this.$input.trigger("input"),this.$input.trigger("change")},onPaste:function(e){var t=this;t.isFull()||t.isInputHidden||t.isLocked?e.preventDefault():t.settings.splitOn&&setTimeout((function(){var e=t.$control_input.val();if(e.match(t.settings.splitOn))for(var n=e.trim().split(t.settings.splitOn),i=0,o=n.length;i<o;i++)t.createItem(n[i])}),0)},onKeyPress:function(e){if(this.isLocked)return e&&e.preventDefault();var t=String.fromCharCode(e.keyCode||e.which);return this.settings.create&&"multi"===this.settings.mode&&t===this.settings.delimiter?(this.createItem(),e.preventDefault(),!1):void 0},onKeyDown:function(e){var t;if(e.target,this.$control_input[0],this.isLocked)9!==e.keyCode&&e.preventDefault();else{switch(e.keyCode){case 65:if(this.isCmdDown)return void this.selectAll();break;case 27:return void(this.isOpen&&(e.preventDefault(),e.stopPropagation(),this.close()));case 78:if(!e.ctrlKey||e.altKey)break;case 40:return!this.isOpen&&this.hasOptions?this.open():this.$activeOption&&(this.ignoreHover=!0,(t=this.getAdjacentOption(this.$activeOption,1)).length&&this.setActiveOption(t,!0,!0)),void e.preventDefault();case 80:if(!e.ctrlKey||e.altKey)break;case 38:return this.$activeOption&&(this.ignoreHover=!0,(t=this.getAdjacentOption(this.$activeOption,-1)).length&&this.setActiveOption(t,!0,!0)),void e.preventDefault();case 13:return void(this.isOpen&&this.$activeOption&&(this.onOptionSelect({currentTarget:this.$activeOption}),e.preventDefault()));case 37:return void this.advanceSelection(-1,e);case 39:return void this.advanceSelection(1,e);case 9:return this.settings.selectOnTab&&this.isOpen&&this.$activeOption&&(this.onOptionSelect({currentTarget:this.$activeOption}),this.isFull()||e.preventDefault()),void(this.settings.create&&this.createItem()&&this.settings.showAddOptionOnCreate&&e.preventDefault());case 8:case 46:return void this.deleteSelection(e)}!this.isFull()&&!this.isInputHidden||(u?e.metaKey:e.ctrlKey)||e.preventDefault()}},onInput:function(e){var t=this.$control_input.val()||"";this.lastValue!==t&&(this.lastValue=t,this.onSearchChange(t),this.refreshOptions(),this.trigger("type",t))},onSearchChange:function(e){var t=this,n=t.settings.load;n&&!t.loadedSearches.hasOwnProperty(e)&&(t.loadedSearches[e]=!0,t.load((function(i){n.apply(t,[e,i])})))},onFocus:function(e){var t=this.isFocused;if(this.isDisabled)return this.blur(),e&&e.preventDefault(),!1;this.ignoreFocus||(this.isFocused=!0,"focus"===this.settings.preload&&this.onSearchChange(""),t||this.trigger("focus"),this.$activeItems.length||(this.showInput(),this.setActiveItem(null),this.refreshOptions(!!this.settings.openOnFocus)),this.refreshState())},onBlur:function(e,t){var n=this;if(n.isFocused&&(n.isFocused=!1,!n.ignoreFocus)){if(!n.ignoreBlur&&document.activeElement===n.$dropdown_content[0])return n.ignoreBlur=!0,void n.onFocus(e);e=function(){n.close(),n.setTextboxValue(""),n.setActiveItem(null),n.setActiveOption(null),n.setCaret(n.items.length),n.refreshState(),t&&t.focus&&t.focus(),n.isBlurring=!1,n.ignoreFocus=!1,n.trigger("blur")},n.isBlurring=!0,n.ignoreFocus=!0,n.settings.create&&n.settings.createOnBlur?n.createItem(null,!1,e):e()}},onOptionHover:function(e){this.ignoreHover||this.setActiveOption(e.currentTarget,!1)},onOptionSelect:function(t){var n,i=this;t.preventDefault&&(t.preventDefault(),t.stopPropagation()),(n=e(t.currentTarget)).hasClass("create")?i.createItem(null,(function(){i.settings.closeAfterSelect&&i.close()})):void 0!==(n=n.attr("data-value"))&&(i.lastQuery=null,i.setTextboxValue(""),i.addItem(n),i.settings.closeAfterSelect?i.close():!i.settings.hideSelected&&t.type&&/mouse/.test(t.type)&&i.setActiveOption(i.getOption(n)))},onItemSelect:function(e){this.isLocked||"multi"===this.settings.mode&&(e.preventDefault(),this.setActiveItem(e.currentTarget,e))},load:function(e){var t=this,n=t.$wrapper.addClass(t.settings.loadingClass);t.loading++,e.apply(t,[function(e){t.loading=Math.max(t.loading-1,0),e&&e.length&&(t.addOption(e),t.refreshOptions(t.isFocused&&!t.isInputHidden)),t.loading||n.removeClass(t.settings.loadingClass),t.trigger("load",e)}])},getTextboxValue:function(){return this.$control_input.val()},setTextboxValue:function(e){var t=this.$control_input;t.val()!==e&&(t.val(e).triggerHandler("update"),this.lastValue=e)},getValue:function(){return 1===this.tagType&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(e,t){s(this,t?[]:["change"],(function(){this.clear(t),this.addItems(e,t)}))},setMaxItems:function(e){this.settings.maxItems=e=0===e?null:e,this.settings.mode=this.settings.mode||(1===this.settings.maxItems?"single":"multi"),this.refreshState()},setActiveItem:function(t,n){var i,o,a,r,s,l;if("single"!==this.settings.mode){if(!(t=e(t)).length)return e(this.$activeItems).removeClass("active"),this.$activeItems=[],void(this.isFocused&&this.showInput());if("mousedown"===(i=n&&n.type.toLowerCase())&&this.isShiftDown&&this.$activeItems.length){for(l=this.$control.children(".active:last"),l=Array.prototype.indexOf.apply(this.$control[0].childNodes,[l[0]]),(a=Array.prototype.indexOf.apply(this.$control[0].childNodes,[t[0]]))<l&&(s=l,l=a,a=s),o=l;o<=a;o++)r=this.$control[0].childNodes[o],-1===this.$activeItems.indexOf(r)&&(e(r).addClass("active"),this.$activeItems.push(r));n.preventDefault()}else"mousedown"===i&&this.isCtrlDown||"keydown"===i&&this.isShiftDown?t.hasClass("active")?(s=this.$activeItems.indexOf(t[0]),this.$activeItems.splice(s,1),t.removeClass("active")):this.$activeItems.push(t.addClass("active")[0]):(e(this.$activeItems).removeClass("active"),this.$activeItems=[t.addClass("active")[0]]);this.hideInput(),this.isFocused||this.focus()}},setActiveOption:function(t,n,i){var a,r,s,l;this.$activeOption&&(this.$activeOption.removeClass("active"),this.trigger("dropdown_item_deactivate",this.$activeOption.attr("data-value"))),this.$activeOption=null,(t=e(t)).length&&(this.$activeOption=t.addClass("active"),this.isOpen&&this.trigger("dropdown_item_activate",this.$activeOption.attr("data-value")),!n&&o(n)||(t=this.$dropdown_content.height(),a=this.$activeOption.outerHeight(!0),n=this.$dropdown_content.scrollTop()||0,l=(s=r=this.$activeOption.offset().top-this.$dropdown_content.offset().top+n)-t+a,t+n<r+a?this.$dropdown_content.stop().animate({scrollTop:l},i?this.settings.scrollDuration:0):r<n&&this.$dropdown_content.stop().animate({scrollTop:s},i?this.settings.scrollDuration:0)))},selectAll:function(){"single"!==this.settings.mode&&(this.$activeItems=Array.prototype.slice.apply(this.$control.children(":not(input)").addClass("active")),this.$activeItems.length&&(this.hideInput(),this.close()),this.focus())},hideInput:function(){this.setTextboxValue(""),this.$control_input.css({opacity:0,position:"absolute",left:this.rtl?1e4:-1e4}),this.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var e=this;return e.isDisabled||(e.ignoreFocus=!0,e.$control_input[0].focus(),window.setTimeout((function(){e.ignoreFocus=!1,e.onFocus()}),0)),e},blur:function(e){return this.$control_input[0].blur(),this.onBlur(null,e),this},getScoreFunction:function(e){return this.sifter.getScoreFunction(e,this.getSearchOptions())},getSearchOptions:function(){var e=this.settings,t=e.sortField;return{fields:e.searchField,conjunction:e.searchConjunction,sort:t="string"==typeof t?[{field:t}]:t,nesting:e.nesting}},search:function(t){var n,i,o,r=this.settings,s=this.getSearchOptions();if(r.score&&"function"!=typeof(o=this.settings.score.apply(this,[t])))throw new Error('Selectize "score" setting must be a function that returns a function');if(t!==this.lastQuery?(this.lastQuery=t,i=this.sifter.search(t,e.extend(s,{score:o})),this.currentResults=i):i=e.extend(!0,{},this.currentResults),r.hideSelected)for(n=i.items.length-1;0<=n;n--)-1!==this.items.indexOf(a(i.items[n].id))&&i.items.splice(n,1);return i},refreshOptions:function(t){void 0===t&&(t=!0);var n,i,o,r,s,l,c,d,u,p,f,m,h,g,v,y,b=this,w=b.$control_input.val().trim(),_=b.search(w),k=b.$dropdown_content,x=b.$activeOption&&a(b.$activeOption.attr("data-value")),C=_.items.length;for("number"==typeof b.settings.maxOptions&&(C=Math.min(C,b.settings.maxOptions)),r={},s=[],n=0;n<C;n++)for(l=b.options[_.items[n].id],c=b.render("option",l),d=l[b.settings.optgroupField]||"",i=0,o=(u=Array.isArray(d)?d:[d])&&u.length;i<o;i++)d=u[i],b.optgroups.hasOwnProperty(d)||(d=""),r.hasOwnProperty(d)||(r[d]=document.createDocumentFragment(),s.push(d)),r[d].appendChild(c);for(this.settings.lockOptgroupOrder&&s.sort((function(e,t){return(b.optgroups[e]&&b.optgroups[e].$order||0)-(b.optgroups[t]&&b.optgroups[t].$order||0)})),p=document.createDocumentFragment(),n=0,C=s.length;n<C;n++)d=s[n],b.optgroups.hasOwnProperty(d)&&r[d].childNodes.length?((f=document.createDocumentFragment()).appendChild(b.render("optgroup_header",b.optgroups[d])),f.appendChild(r[d]),p.appendChild(b.render("optgroup",e.extend({},b.optgroups[d],{html:(v=f,y=void 0,(y=document.createElement("div")).appendChild(v.cloneNode(!0)),y.innerHTML),dom:f})))):p.appendChild(r[d]);if(k.html(p),b.settings.highlight&&(k.removeHighlight(),_.query.length&&_.tokens.length))for(n=0,C=_.tokens.length;n<C;n++)!function(e,t){var n,i;("string"!=typeof t||t.length)&&(n="string"==typeof t?new RegExp(t,"i"):t,i=function(e){var t=0;if(3===e.nodeType){var o,a,r=e.data.search(n);0<=r&&0<e.data.length&&(a=e.data.match(n),(o=document.createElement("span")).className="highlight",(r=e.splitText(r)).splitText(a[0].length),a=r.cloneNode(!0),o.appendChild(a),r.parentNode.replaceChild(o,r),t=1)}else if(1===e.nodeType&&e.childNodes&&!/(script|style)/i.test(e.tagName)&&("highlight"!==e.className||"SPAN"!==e.tagName))for(var s=0;s<e.childNodes.length;++s)s+=i(e.childNodes[s]);return t},e.each((function(){i(this)})))}(k,_.tokens[n].regex);if(!b.settings.hideSelected)for(b.$dropdown.find(".selected").removeClass("selected"),n=0,C=b.items.length;n<C;n++)b.getOption(b.items[n]).addClass("selected");(m=b.canCreate(w))&&b.settings.showAddOptionOnCreate&&(k.prepend(b.render("option_create",{input:w})),g=e(k[0].childNodes[0])),b.hasOptions=0<_.items.length||m&&b.settings.showAddOptionOnCreate,b.hasOptions?(0<_.items.length?(w=x&&b.getOption(x),""!==_.query&&w&&w.length?h=w:"single"===b.settings.mode&&b.items.length&&(h=b.getOption(b.items[0])),h&&h.length||(h=g&&!b.settings.addPrecedence?b.getAdjacentOption(g,1):k.find("[data-selectable]:first"))):h=g,b.setActiveOption(h),t&&!b.isOpen&&b.open()):(b.setActiveOption(null),t&&b.isOpen&&b.close())},addOption:function(e){var t,n,i;if(Array.isArray(e))for(t=0,n=e.length;t<n;t++)this.addOption(e[t]);else(i=this.registerOption(e))&&(this.userOptions[i]=!0,this.lastQuery=null,this.trigger("option_add",i,e))},registerOption:function(e){var t=a(e[this.settings.valueField]);return null!=t&&!this.options.hasOwnProperty(t)&&(e.$order=e.$order||++this.order,this.options[t]=e,t)},registerOptionGroup:function(e){var t=a(e[this.settings.optgroupValueField]);return!!t&&(e.$order=e.$order||++this.order,this.optgroups[t]=e,t)},addOptionGroup:function(e,t){t[this.settings.optgroupValueField]=e,(e=this.registerOptionGroup(t))&&this.trigger("optgroup_add",e,t)},removeOptionGroup:function(e){this.optgroups.hasOwnProperty(e)&&(delete this.optgroups[e],this.renderCache={},this.trigger("optgroup_remove",e))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(t,n){var i,o,r;if(t=a(t),i=a(n[this.settings.valueField]),null!==t&&this.options.hasOwnProperty(t)){if("string"!=typeof i)throw new Error("Value must be set in option data");r=this.options[t].$order,i!==t&&(delete this.options[t],-1!==(o=this.items.indexOf(t))&&this.items.splice(o,1,i)),n.$order=n.$order||r,this.options[i]=n,o=this.renderCache.item,r=this.renderCache.option,o&&(delete o[t],delete o[i]),r&&(delete r[t],delete r[i]),-1!==this.items.indexOf(i)&&(o=this.getItem(t),r=e(this.render("item",n)),o.hasClass("active")&&r.addClass("active"),o.replaceWith(r)),this.lastQuery=null,this.isOpen&&this.refreshOptions(!1)}},removeOption:function(e,t){e=a(e);var n=this.renderCache.item,i=this.renderCache.option;n&&delete n[e],i&&delete i[e],delete this.userOptions[e],delete this.options[e],this.lastQuery=null,this.trigger("option_remove",e),this.removeItem(e,t)},clearOptions:function(t){var n=this,i=(n.loadedSearches={},n.userOptions={},n.renderCache={},n.options);e.each(n.options,(function(e,t){-1==n.items.indexOf(e)&&delete i[e]})),n.options=n.sifter.items=i,n.lastQuery=null,n.trigger("option_clear"),n.clear(t)},getOption:function(e){return this.getElementWithValue(e,this.$dropdown_content.find("[data-selectable]"))},getFirstOption:function(){var t=this.$dropdown.find("[data-selectable]");return 0<t.length?t.eq(0):e()},getAdjacentOption:function(t,n){var i=this.$dropdown.find("[data-selectable]");return 0<=(t=i.index(t)+n)&&t<i.length?i.eq(t):e()},getElementWithValue:function(t,n){if(null!=(t=a(t)))for(var i=0,o=n.length;i<o;i++)if(n[i].getAttribute("data-value")===t)return e(n[i]);return e()},getElementWithTextContent:function(t,n,i){if(null!=(t=a(t)))for(var o=0,r=i.length;o<r;o++){var s=i[o].textContent;if(1==n&&(s=null!==s?s.toLowerCase():null,t=t.toLowerCase()),s===t)return e(i[o])}return e()},getItem:function(e){return this.getElementWithValue(e,this.$control.children())},getFirstItemMatchedByTextContent:function(e,t){return this.getElementWithTextContent(e,t=null!==t&&!0===t,this.$dropdown_content.find("[data-selectable]"))},addItems:function(e,t){this.buffer=document.createDocumentFragment();for(var n=this.$control[0].childNodes,i=0;i<n.length;i++)this.buffer.appendChild(n[i]);for(var o=Array.isArray(e)?e:[e],a=(i=0,o.length);i<a;i++)this.isPending=i<a-1,this.addItem(o[i],t);(e=this.$control[0]).insertBefore(this.buffer,e.firstChild),this.buffer=null},addItem:function(t,n){s(this,n?[]:["change"],(function(){var i,o,r,s=this.settings.mode;t=a(t),-1!==this.items.indexOf(t)?"single"===s&&this.close():this.options.hasOwnProperty(t)&&("single"===s&&this.clear(n),"multi"===s&&this.isFull()||(i=e(this.render("item",this.options[t])),r=this.isFull(),this.items.splice(this.caretPos,0,t),this.insertAtCaret(i),this.isPending&&(r||!this.isFull())||this.refreshState(),this.isSetup&&(r=this.$dropdown_content.find("[data-selectable]"),this.isPending||(o=this.getOption(t),o=this.getAdjacentOption(o,1).attr("data-value"),this.refreshOptions(this.isFocused&&"single"!==s),o&&this.setActiveOption(this.getOption(o))),!r.length||this.isFull()?this.close():this.isPending||this.positionDropdown(),this.updatePlaceholder(),this.trigger("item_add",t,i),this.isPending||this.updateOriginalInput({silent:n}))))}))},removeItem:function(t,n){var i,o,r=t instanceof e?t:this.getItem(t);t=a(r.attr("data-value")),-1!==(i=this.items.indexOf(t))&&(this.trigger("item_before_remove",t,r),r.remove(),r.hasClass("active")&&(o=this.$activeItems.indexOf(r[0]),this.$activeItems.splice(o,1)),this.items.splice(i,1),this.lastQuery=null,!this.settings.persist&&this.userOptions.hasOwnProperty(t)&&this.removeOption(t,n),i<this.caretPos&&this.setCaret(this.caretPos-1),this.refreshState(),this.updatePlaceholder(),this.updateOriginalInput({silent:n}),this.positionDropdown(),this.trigger("item_remove",t,r))},createItem:function(e,t){var n=this,i=n.caretPos,o=(e=e||(n.$control_input.val()||"").trim(),arguments[arguments.length-1]);if("function"!=typeof o&&(o=function(){}),"boolean"!=typeof t&&(t=!0),!n.canCreate(e))return o(),!1;n.lock();var r,s,l="function"==typeof n.settings.create?this.settings.create:function(e){var t={};e=t[n.settings.labelField]=e;if(!n.settings.formatValueToKey||"function"!=typeof n.settings.formatValueToKey||null!=(e=n.settings.formatValueToKey.apply(this,[e]))&&"object"!=typeof e&&"function"!=typeof e)return t[n.settings.valueField]=e,t;throw new Error('Selectize "formatValueToKey" setting must be a function that returns a value other than object or function.')},c=(s=!(r=function(e){return n.unlock(),e&&"object"==typeof e&&"string"==typeof(r=a(e[n.settings.valueField]))?(n.setTextboxValue(""),n.addOption(e),n.setCaret(i),n.addItem(r),n.refreshOptions(t&&"single"!==n.settings.mode),void o(e)):o();var r}),function(){s||(s=!0,r.apply(this,arguments))});return void 0!==(l=l.apply(this,[e,c]))&&c(l),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){this.refreshValidityState(),this.refreshClasses()},refreshValidityState:function(){if(!this.isRequired)return!1;var e=!this.items.length;this.isInvalid=e,this.$control_input.prop("required",e),this.$input.prop("required",!e)},refreshClasses:function(){var t=this.isFull(),n=this.isLocked;this.$wrapper.toggleClass("rtl",this.rtl),this.$control.toggleClass("focus",this.isFocused).toggleClass("disabled",this.isDisabled).toggleClass("required",this.isRequired).toggleClass("invalid",this.isInvalid).toggleClass("locked",n).toggleClass("full",t).toggleClass("not-full",!t).toggleClass("input-active",this.isFocused&&!this.isInputHidden).toggleClass("dropdown-active",this.isOpen).toggleClass("has-options",!e.isEmptyObject(this.options)).toggleClass("has-items",0<this.items.length),this.$control_input.data("grow",!t&&!n)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(e){var t,n,i,o;if(e=e||{},1===this.tagType){for(i=[],t=0,n=this.items.length;t<n;t++)o=this.options[this.items[t]][this.settings.labelField]||"",i.push('<option value="'+r(this.items[t])+'" selected="selected">'+r(o)+"</option>");i.length||this.$input.attr("multiple")||i.push('<option value="" selected="selected"></option>'),this.$input.html(i.join(""))}else this.$input.val(this.getValue()),this.$input.attr("value",this.$input.val());this.isSetup&&!e.silent&&this.trigger("change",this.$input.val())},updatePlaceholder:function(){var e;this.settings.placeholder&&(e=this.$control_input,this.items.length?e.removeAttr("placeholder"):e.attr("placeholder",this.settings.placeholder),e.triggerHandler("update",{force:!0}))},open:function(){this.isLocked||this.isOpen||"multi"===this.settings.mode&&this.isFull()||(this.focus(),this.isOpen=!0,this.refreshState(),this.$dropdown.css({visibility:"hidden",display:"block"}),this.positionDropdown(),this.$dropdown.css({visibility:"visible"}),this.trigger("dropdown_open",this.$dropdown))},close:function(){var e=this.isOpen;"single"===this.settings.mode&&this.items.length&&(this.hideInput(),this.isBlurring&&this.$control_input.blur()),this.isOpen=!1,this.$dropdown.hide(),this.setActiveOption(null),this.refreshState(),e&&this.trigger("dropdown_close",this.$dropdown)},positionDropdown:function(){var e=this.$control,t="body"===this.settings.dropdownParent?e.offset():e.position();t.top+=e.outerHeight(!0),this.$dropdown.css({width:e[0].getBoundingClientRect().width,top:t.top,left:t.left})},clear:function(e){this.items.length&&(this.$control.children(":not(input)").remove(),this.items=[],this.lastQuery=null,this.setCaret(0),this.setActiveItem(null),this.updatePlaceholder(),this.updateOriginalInput({silent:e}),this.refreshState(),this.showInput(),this.trigger("clear"))},insertAtCaret:function(e){var t=Math.min(this.caretPos,this.items.length),n=(e=e[0],this.buffer||this.$control[0]);0===t?n.insertBefore(e,n.firstChild):n.insertBefore(e,n.childNodes[t]),this.setCaret(t+1)},deleteSelection:function(t){var n,i,o,a,r,s=t&&8===t.keyCode?-1:1,c=l(this.$control_input[0]);if(this.$activeOption&&!this.settings.hideSelected&&(a=("string"==typeof this.settings.deselectBehavior&&"top"===this.settings.deselectBehavior?this.getFirstOption():this.getAdjacentOption(this.$activeOption,-1)).attr("data-value")),o=[],this.$activeItems.length){for(r=this.$control.children(".active:"+(0<s?"last":"first")),r=this.$control.children(":not(input)").index(r),0<s&&r++,n=0,i=this.$activeItems.length;n<i;n++)o.push(e(this.$activeItems[n]).attr("data-value"));t&&(t.preventDefault(),t.stopPropagation())}else(this.isFocused||"single"===this.settings.mode)&&this.items.length&&(s<0&&0===c.start&&0===c.length?o.push(this.items[this.caretPos-1]):0<s&&c.start===this.$control_input.val().length&&o.push(this.items[this.caretPos]));if(!o.length||"function"==typeof this.settings.onDelete&&!1===this.settings.onDelete.apply(this,[o]))return!1;for(void 0!==r&&this.setCaret(r);o.length;)this.removeItem(o.pop());return this.showInput(),this.positionDropdown(),this.refreshOptions(!0),a&&(t=this.getOption(a)).length&&this.setActiveOption(t),!0},advanceSelection:function(e,t){var n,i,o;0!==e&&(this.rtl&&(e*=-1),n=0<e?"last":"first",o=l(this.$control_input[0]),this.isFocused&&!this.isInputHidden?(i=this.$control_input.val().length,(e<0?0!==o.start||0!==o.length:o.start!==i)||i||this.advanceCaret(e,t)):(o=this.$control.children(".active:"+n)).length&&(i=this.$control.children(":not(input)").index(o),this.setActiveItem(null),this.setCaret(0<e?i+1:i)))},advanceCaret:function(e,t){var n;0!==e&&(this.isShiftDown?(n=this.$control_input[0<e?"next":"prev"]()).length&&(this.hideInput(),this.setActiveItem(n),t&&t.preventDefault()):this.setCaret(this.caretPos+e))},setCaret:function(t){if(t="single"===this.settings.mode?this.items.length:Math.max(0,Math.min(this.items.length,t)),!this.isPending)for(var n,i=this.$control.children(":not(input)"),o=0,a=i.length;o<a;o++)n=e(i[o]).detach(),o<t?this.$control_input.before(n):this.$control.append(n);this.caretPos=t},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){this.$input.prop("disabled",!0),this.$control_input.prop("disabled",!0).prop("tabindex",-1),this.isDisabled=!0,this.lock()},enable:function(){this.$input.prop("disabled",!1),this.$control_input.prop("disabled",!1).prop("tabindex",this.tabIndex),this.isDisabled=!1,this.unlock()},destroy:function(){var t=this.eventNS,n=this.revertSettings;this.trigger("destroy"),this.off(),this.$wrapper.remove(),this.$dropdown.remove(),this.$input.html("").append(n.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:n.tabindex}).show(),this.$control_input.removeData("grow"),this.$input.removeData("selectize"),0==--v.count&&v.$testInput&&(v.$testInput.remove(),v.$testInput=void 0),e(window).off(t),e(document).off(t),e(document.body).off(t),delete this.$input[0].selectize},render:function(t,n){var i,s,l="",c=!1;return(c="option"!==t&&"item"!==t?c:!!(i=a(n[this.settings.valueField])))&&(o(this.renderCache[t])||(this.renderCache[t]={}),this.renderCache[t].hasOwnProperty(i))?this.renderCache[t][i]:(l=e(this.settings.render[t].apply(this,[n,r])),"option"===t||"option_create"===t?n[this.settings.disabledField]||l.attr("data-selectable",""):"optgroup"===t&&(s=n[this.settings.optgroupValueField]||"",l.attr("data-group",s),n[this.settings.disabledField]&&l.attr("data-disabled","")),"option"!==t&&"item"!==t||l.attr("data-value",i||""),c&&(this.renderCache[t][i]=l[0]),l[0])},clearCache:function(e){void 0===e?this.renderCache={}:delete this.renderCache[e]},canCreate:function(e){if(!this.settings.create)return!1;var t=this.settings.createFilter;return e.length&&("function"!=typeof t||t.apply(this,[e]))&&("string"!=typeof t||new RegExp(t).test(e))&&(!(t instanceof RegExp)||t.test(e))}}),v.count=0,v.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,showAddOptionOnCreate:!0,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!0,preload:!1,allowEmptyOption:!1,showEmptyOptionInDropdown:!1,emptyOptionLabel:"--",closeAfterSelect:!1,scrollDuration:60,deselectBehavior:"previous",loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",disabledField:"disabled",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}},e.fn.selectize=function(t){function n(t,n){function i(t,i){var r,u=a((t=e(t)).val());(u||o.allowEmptyOption)&&(y.hasOwnProperty(u)?i&&((r=y[u][d])?e.isArray(r)?r.push(i):y[u][d]=[r,i]:y[u][d]=i):((r=b(t)||{})[s]=r[s]||t.text(),r[l]=r[l]||u,r[c]=r[c]||t.prop("disabled"),r[d]=r[d]||i,y[u]=r,v.push(r),t.is(":selected")&&n.items.push(u)))}var f,m,h,g,v=n.options,y={},b=function(e){return"string"==typeof(e=r&&e.attr(r))&&e.length?JSON.parse(e):null};for(n.maxItems=t.attr("multiple")?null:1,f=0,m=(g=t.children()).length;f<m;f++)"optgroup"===(h=g[f].tagName.toLowerCase())?function(t){var o,a,r,s,l;for((r=(t=e(t)).attr("label"))&&((s=b(t)||{})[u]=r,s[p]=r,s[c]=t.prop("disabled"),n.optgroups.push(s)),o=0,a=(l=e("option",t)).length;o<a;o++)i(l[o],r)}(g[f]):"option"===h&&i(g[f])}var i=e.fn.selectize.defaults,o=e.extend({},i,t),r=o.dataAttr,s=o.labelField,l=o.valueField,c=o.disabledField,d=o.optgroupField,u=o.optgroupLabelField,p=o.optgroupValueField;return this.each((function(){var a,c,d,u;this.selectize||(a=e(this),c=this.tagName.toLowerCase(),(d=a.attr("placeholder")||a.attr("data-placeholder"))||o.allowEmptyOption||(d=a.children('option[value=""]').text()),o.allowEmptyOption&&o.showEmptyOptionInDropdown&&!a.children('option[value=""]').length&&(u=a.html(),a.html('<option value="">'+o.emptyOptionLabel+"</option>"+u)),("select"===c?n:function(t,n){var i,a,c,d,u=t.attr(r);if(u)for(n.options=JSON.parse(u),i=0,a=n.options.length;i<a;i++)n.items.push(n.options[i][l]);else if(u=e.trim(t.val()||""),o.allowEmptyOption||u.length){for(i=0,a=(c=u.split(o.delimiter)).length;i<a;i++)(d={})[s]=c[i],d[l]=c[i],n.options.push(d);n.items=c}})(a,u={placeholder:d,options:[],optgroups:[],items:[]}),new v(a,e.extend(!0,{},i,u,t)))}))},e.fn.selectize.defaults=v.defaults,e.fn.selectize.support={validity:m},v.define("auto_position",(function(){const e="top",t="bottom";this.positionDropdown=function(){const n=this.$control,i="body"===this.settings.dropdownParent?n.offset():n.position();i.top+=n.outerHeight(!0);var o=this.$dropdown.prop("scrollHeight")+5,a=(o=this.$control.get(0).getBoundingClientRect().top+o+this.$wrapper.height()>window.innerHeight?e:t,{width:n.outerWidth(),left:i.left});o===e?(Object.assign(a,{bottom:i.top,top:"unset",margin:"0 0 5px 0"}),this.$dropdown.addClass("selectize-position-top")):(Object.assign(a,{top:i.top,bottom:"unset",margin:"5px 0 0 0"}),this.$dropdown.removeClass("selectize-position-top")),this.$dropdown.css(a)}})),v.define("auto_select_on_type",(function(e){var t,n=this;n.onBlur=(t=n.onBlur,function(e){var i=n.getFirstItemMatchedByTextContent(n.lastValue,!0);return void 0!==i.attr("data-value")&&n.getValue()!==i.attr("data-value")&&n.setValue(i.attr("data-value")),t.apply(this,arguments)})})),v.define("autofill_disable",(function(e){var t,n=this;n.setup=(t=n.setup,function(){t.apply(n,arguments),n.$control_input.attr({autocomplete:"new-password",autofill:"no"})})})),v.define("drag_drop",(function(t){if(!e.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');var n,i;"multi"===this.settings.mode&&((n=this).lock=(i=n.lock,function(){var e=n.$control.data("sortable");return e&&e.disable(),i.apply(n,arguments)}),n.unlock=function(){var e=n.unlock;return function(){var t=n.$control.data("sortable");return t&&t.enable(),e.apply(n,arguments)}}(),n.setup=function(){var t=n.setup;return function(){t.apply(this,arguments);var i=n.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:n.isLocked,start:function(e,t){t.placeholder.css("width",t.helper.css("width")),i.addClass("dragging")},stop:function(){i.removeClass("dragging");var t=n.$activeItems?n.$activeItems.slice():null,o=[];i.children("[data-value]").each((function(){o.push(e(this).attr("data-value"))})),n.isFocused=!1,n.setValue(o),n.isFocused=!0,n.setActiveItem(t),n.positionDropdown()}})}}())})),v.define("dropdown_header",(function(t){var n,i=this;t=e.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(e){return'<div class="'+e.headerClass+'"><div class="'+e.titleRowClass+'"><span class="'+e.labelClass+'">'+e.title+'</span><a href="javascript:void(0)" class="'+e.closeClass+'">&times;</a></div></div>'}},t),i.setup=(n=i.setup,function(){n.apply(i,arguments),i.$dropdown_header=e(t.html(t)),i.$dropdown.prepend(i.$dropdown_header)})})),v.define("optgroup_columns",(function(t){function n(){var n,i,r,s,l=e("[data-group]",o.$dropdown_content),c=l.length;if(c&&o.$dropdown_content.width()){if(t.equalizeHeight){for(n=i=0;n<c;n++)i=Math.max(i,l.eq(n).height());l.css({height:i})}t.equalizeWidth&&(s=o.$dropdown_content.innerWidth()-a(),r=Math.round(s/c),l.css({width:r}),1<c&&(s-=r*(c-1),l.eq(c-1).css({width:s})))}}var i,o=this,a=(t=e.extend({equalizeWidth:!0,equalizeHeight:!0},t),this.getAdjacentOption=function(t,n){var i=t.closest("[data-group]").find("[data-selectable]");return 0<=(t=i.index(t)+n)&&t<i.length?i.eq(t):e()},this.onKeyDown=(i=o.onKeyDown,function(e){var t,n;if(!this.isOpen||37!==e.keyCode&&39!==e.keyCode)return i.apply(this,arguments);o.ignoreHover=!0,t=(n=this.$activeOption.closest("[data-group]")).find("[data-selectable]").index(this.$activeOption),(n=(e=(n=37===e.keyCode?n.prev("[data-group]"):n.next("[data-group]")).find("[data-selectable]")).eq(Math.min(e.length-1,t))).length&&this.setActiveOption(n)}),function(){var e,t=a.width,n=document;return void 0===t&&((e=n.createElement("div")).innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',e=e.firstChild,n.body.appendChild(e),t=a.width=e.offsetWidth-e.clientWidth,n.body.removeChild(e)),t});(t.equalizeHeight||t.equalizeWidth)&&(h(this,"positionDropdown",n),h(this,"refreshOptions",n))})),v.define("remove_button",(function(t){t=e.extend({label:"&times;",title:"Remove",className:"remove",append:!0},t),("single"===this.settings.mode?function(t,n){n.className="remove-single";var i,o=t,a='<a href="javascript:void(0)" class="'+n.className+'" tabindex="-1" title="'+r(n.title)+'">'+n.label+"</a>";t.setup=(i=o.setup,function(){var r,s;n.append&&(r=e(o.$input.context).attr("id"),e("#"+r),s=o.settings.render.item,o.settings.render.item=function(n){return i=s.apply(t,arguments),o=a,e("<span>").append(i).append(o);var i,o}),i.apply(t,arguments),t.$control.on("click","."+n.className,(function(e){e.preventDefault(),o.isLocked||o.clear()}))})}:function(t,n){var i,o=t,a='<a href="javascript:void(0)" class="'+n.className+'" tabindex="-1" title="'+r(n.title)+'">'+n.label+"</a>";t.setup=(i=o.setup,function(){var r;n.append&&(r=o.settings.render.item,o.settings.render.item=function(e){return n=r.apply(t,arguments),i=a,o=n.search(/(<\/[^>]+>\s*)$/),n.substring(0,o)+i+n.substring(o);var n,i,o}),i.apply(t,arguments),t.$control.on("click","."+n.className,(function(t){if(t.preventDefault(),!o.isLocked)return t=e(t.currentTarget).parent(),o.setActiveItem(t),o.deleteSelection()&&o.setCaret(o.items.length),!1}))})})(this,t)})),v.define("restore_on_backspace",(function(e){var t;e.text=e.text||function(e){return e[this.settings.labelField]},this.onKeyDown=(t=this.onKeyDown,function(n){var i;return 8===n.keyCode&&""===this.$control_input.val()&&!this.$activeItems.length&&0<=(i=this.caretPos-1)&&i<this.items.length?(i=this.options[this.items[i]],this.deleteSelection(n)&&(this.setTextboxValue(e.text.apply(this,[i])),this.refreshOptions(!0)),void n.preventDefault()):t.apply(this,arguments)})})),v.define("select_on_focus",(function(e){var t,n,i=this;i.on("focus",(t=i.onFocus,function(e){var n=i.getItem(i.getValue()).text();return i.clear(),i.setTextboxValue(n),i.$control_input.select(),setTimeout((function(){i.settings.selectOnTab&&i.setActiveOption(i.getFirstItemMatchedByTextContent(n)),i.settings.score=null}),0),t.apply(this,arguments)})),i.onBlur=(n=i.onBlur,function(e){return""===i.getValue()&&i.lastValidValue!==i.getValue()&&i.setValue(i.lastValidValue),setTimeout((function(){i.settings.score=function(){return function(){return 1}}}),0),n.apply(this,arguments)}),i.settings.score=function(){return function(){return 1}}})),v.define("tag_limit",(function(t){const n=this;t.tagLimit=t.tagLimit,this.onBlur=function(){const i=n.onBlur;return function(n){if(i.apply(this,n),n){const n=this.$control,i=n.find(".item"),o=t.tagLimit;void 0===o||i.length<=o||(i.toArray().forEach((function(t,n){n<o||e(t).hide()})),n.append("<span><b>"+(i.length-o)+"</b></span>"))}}}(),this.onFocus=function(){const e=n.onFocus;return function(t){if(e.apply(this,t),t){const e=this.$control;e.find(".item").show(),e.find("span").remove()}}}()})),v})),
/*!
 * selectize click2deselect (custom)
 */
Selectize.define("click2deselect",(function(e){var t=this,n=t.setup;this.setup=function(){n.apply(t,arguments),t.$dropdown.on("click","[data-selectable]",(function(e){let n=this.getAttribute("data-value");return this.classList.contains("selected")&&(t.removeItem(n),t.refreshItems(),t.refreshOptions()),!1})),t.on("item_remove",(function(e){t.getOption(e).removeClass("selected")}))}}));
//# sourceMappingURL=events-manager.min.js.map