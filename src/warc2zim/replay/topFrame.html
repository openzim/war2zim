<!DOCTYPE html>
<html>
<head>
<style>
html, body
{{
  height: 100%;
  margin: 0px;
  padding: 0px;
  border: 0px;
  overflow: hidden;
}}

iframe {{
  width: 100%;
  height: 100%;
}}

</style>
</head>
<body style="margin: 0px; padding: 0px;">
<iframe id="replay_iframe" frameborder="0" seamless="seamless" scrolling="yes" class="wb_iframe" allow="autoplay; fullscreen"></iframe>
<script>
  const PREFIX = "$PREFIX";
  const URL = "$URL";

  const iframe = document.querySelector("iframe");

  // update URL when iframe changes
  window.addEventListener("message", function() {{
    if (event.data.wb_type === "load" || event.data.wb_type === "replace-url") {{
      
      // remove scheme to be consistent with current canonicalization
      const urlNoScheme = event.data.url.slice(event.data.url.indexOf("//") + 2);
      window.history.replaceState(null, "", PREFIX + urlNoScheme);
    }}
  }});

  iframe.src = PREFIX + "mp_/" + URL;
</script>
</body>
</html>
